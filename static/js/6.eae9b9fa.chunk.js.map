{"version":3,"sources":["components/logo.png","components/listItems.js","components/ProductForm.js","components/productDetails.js","components/StoreDetails.js","components/PurchaseForm.js","components/PurchaseList.js","components/InventoryList.js","components/OrderForm.js","components/OrderUpdateForm.js","components/OrderList.js","components/GridCellExpand.js","components/Printing.js","components/Dashboard.js","components/AccountDetails.js","components/Invoices.js","components/TheContent.js","components/TheLayout.js","api-service.js"],"names":["mainListItems","ListItem","button","component","Link","to","ListItemIcon","ListItemText","primary","PlaylistAddCheck","ImportantDevices","Store","HomeWork","ShoppingCart","ViewCarousel","Receipt","staffListItems","clientListItems","secondaryListItems","href","APIROOT","SettingsApplications","useStyles","makeStyles","theme","form","width","marginTop","spacing","submit","margin","ProductForm","props","classes","useCookies","token","userInfo","useState","errormsg","setErrormsg","data","setData","saved","setSaved","console","log","useEffect","mode","a","API","getProduct","id","resp","status","json","product","error","String","getproduct","updateProduct","dataObject","errors","addProduct","handleGoBack","e","setMode","parseInt","split","Typography","variant","Button","color","onClick","Object","keys","length","style","display","justifyContent","className","onSubmit","preventDefault","formData","FormData","target","forEach","value","key","FormLabel","TextField","required","fullWidth","label","name","disabled","helperText","defaultValue","type","inputProps","step","columns","field","headerName","hide","ProductDetails","products","setProducts","searchFilteredProducts","setSearchFilteredProducts","searchString","setSearchString","mySelectedRows","setMySelectedRows","open","setOpen","selectedFile","setSelectedFile","isFilePicked","setIsFilePicked","message","setMessage","usertype","restrictedColumns","fetchlist","getProductList","then","catch","push","setTitle","updateSearchFilteredProducts","theSearchString","rows","filter","r","str","toLowerCase","search","size","handleClose","handleDeleteConfirm","deleted","rowId","deleteProduct","p","find","x","toString","flexDirection","alignItems","flexWrap","IconButton","Dialog","onClose","DialogTitle","DialogActions","autoFocus","onChange","event","files","hidden","htmlFor","append","uploadProductsFile","response","result","text","onKeyPress","minWidth","height","checkboxSelection","components","Toolbar","GridToolbar","onSelectionModelChange","items","selectionModel","disableColumnMenu","disableSelectionOnClick","StoreDetails","stores","setStores","getStoreList","item","i","PurchaseForm","submittedData","setSubmittedData","availableStyles","setAvailableStyles","availableSizes","setAvailableSizes","availableColors","setAvailableColors","availableProducts","setAvailableProducts","badData","styles","map","d","Set","sizes","colors","sfmId","saveData","updatePurchase","addPurchase","aria-labelledby","aria-describedby","select","MenuItem","Autocomplete","options","freeSolo","getOptionLabel","option","renderInput","params","InputLabelProps","shrink","PurchaseList","purchases","setPurchases","searchFilteredPurchases","setSearchFilteredPurchases","recordDetails","setRecordDetails","renderCell","data-pid","handleStatusChange","marginLeft","pid","currentTarget","dataset","rowdata","newRow","JSON","stringify","updatedRows","row","err","fetchList","updateSearchFilteredPurchases","warehouse","company","getPurchasesList","getPurchase","deleteRows","deletePurchase","uploadPurchasesFile","flexGrow","autoHeight","InventoryList","productInventory","setproductInventory","searchFilteredInventory","setSearchFilteredInventory","getInventoryList","updateSearchFilteredInventory","productAvailability","marginBottom","OrderForm","setavailableProducts","setavailableStyles","setavailableSizes","setavailableColors","availableStores","setAvailableStores","styleref","useRef","sizeref","colorref","sortBy","prop","direction","sort","b","updateOrder","addOrder","maxLength","storeCode","storeName","inputRef","newstyle","current","newsize","min","max","OrderUpdateForm","dataReturned","setDataReturned","getOrder","handleStyleChange","handleSizeChange","currencyFormatter","Intl","NumberFormat","currency","root","backgroundColor","editable","valueFormatter","dt","dd","getDate","padStart","getMonth","getFullYear","substr","formatDate","Date","getHours","getMinutes","formatDateTime","format","Number","OrderList","orders","setOrders","searchFilteredOrders","setSearchFilteredOrders","myEditedRows","setMyEditedRows","selectedShippingFile","setSelectedShippingFile","isShippingFilePicked","setIsShippingFilePicked","handleEditCellChangeCommitted","React","useCallback","obj","orderId","handleUpload","res","uploadOrdersFile","uploadShippingFile","handleUpdateClick","getOrderList","updateSearchFilteredOrders","orderStatus","orderNo","recipientName","design","processing","deleteOrder","updateErrors","updateOrdersAsync","updateTheOrders","labels","textContent","padding","onRowSelected","s","api","getSelectedRows","values","onEditCellChangeCommitted","getRowClassName","lineHeight","position","whiteSpace","overflow","textOverflow","table","headcell","fontWeight","fontSize","redbtn","background","float","greenbtn","tablecell","Printing","loading","setLoading","handleCheckboxClick","oid","checked","checkedRows","index","indexOf","splice","handleSpecialButtonsClick","btype","o","printed","shipped","getPrintingList","displayStatus","nextGroup","TableContainer","Paper","Table","aria-label","TableHead","TableRow","TableCell","Checkbox","TableBody","arr","showSpan","j","rowSpan","orderCount","maxWidth","giftMessages","data-oid","data-btype","sfmNotes","Dashboard","inventory","setInventory","selectedStore","setSelectedStore","setDate","offset","getTimezoneOffset","getTime","toISOString","getDeafultStartDate","startDate","setStartDate","endDate","setEndDate","recievedData","setRecievedData","userid","user","unshift","defaultStore","displaysummary","invdata","store","getOverview","total","fulfilled","unfulfilled","onhold","outofstock","storecount","inv","needToPurchase","AccountDetails","username","setUsername","email","setEmail","old_password","setOldPassword","password","setPassword","password2","setPassword2","first_name","setFirstName","last_name","setLastName","changePassword","setChangePassword","userId","getAccountDetails","handleSave","updateProfile","handleChangePassword","redcolor","greencolor","Invoices","invoices","setInvoices","printInvoice","setPrintInvoice","getDay","getDeafultEndDate","handleOpenReceipt","updateInvoice","getInvoiceList","statusText","pathname","state","invoiceid","generateInvoices","TheContent","exact","path","render","toolbar","paddingRight","paddingBottom","paddingTop","toolbarIcon","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","marginRight","menuButtonHidden","title","textAlign","drawerPaper","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","container","paddingLeft","paper","fixedHeight","TheLayout","removeToken","removeUserInfo","clsx","CssBaseline","AppBar","edge","noWrap","src","companylogo","alt","Drawer","Divider","List","Container","fetch","method","headers","body","credentials"],"mappings":"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","file":"static/js/6.eae9b9fa.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.2cf1827a.png\";","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport LayersIcon from '@material-ui/icons/Layers';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport { Store, SettingsApplications, Receipt, ViewCarousel, HomeWork, ShoppingCart, PlaylistAddCheck, ImportantDevices} from '@material-ui/icons';\r\nimport {Link} from 'react-router-dom'\r\nimport {APIROOT} from '../api-service'\r\n\r\nexport const mainListItems = (\r\n  <div>\r\n    <ListItem button component={Link} to='/dashboard'>\r\n      <ListItemIcon>\r\n        <DashboardIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Dashboard\" />\r\n    </ListItem>\r\n    <ListItem button button component={Link} to='/orders'>\r\n      <ListItemIcon>\r\n        <PlaylistAddCheck />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Orders\" />\r\n    </ListItem>\r\n    <ListItem button button component={Link} to='/printing'>\r\n      <ListItemIcon>\r\n        <ImportantDevices />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Printing\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/stores'>\r\n      <ListItemIcon>\r\n        <Store />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Stores\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/inventory'>\r\n      <ListItemIcon>\r\n        <HomeWork />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Inventory\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/purchases'>\r\n      <ListItemIcon>\r\n        <ShoppingCart />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Purchases\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/products'>\r\n      <ListItemIcon>\r\n        <ViewCarousel />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Products\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/invoices'>\r\n      <ListItemIcon>\r\n        <Receipt />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Invoices\" />\r\n    </ListItem>\r\n  </div>\r\n);\r\n\r\nexport const staffListItems = (\r\n  <div>\r\n    <ListItem button button component={Link} to='/orders'>\r\n      <ListItemIcon>\r\n        <PlaylistAddCheck />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Orders\" />\r\n    </ListItem>\r\n    <ListItem button button component={Link} to='/printing'>\r\n      <ListItemIcon>\r\n        <ImportantDevices />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Printing\" />\r\n    </ListItem>    \r\n    <ListItem button component={Link} to='/inventory'>\r\n      <ListItemIcon>\r\n        <HomeWork />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Inventory\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/purchases'>\r\n      <ListItemIcon>\r\n        <ShoppingCart />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Purchases\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/products'>\r\n      <ListItemIcon>\r\n        <ViewCarousel />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Products\" />\r\n    </ListItem>    \r\n  </div>\r\n);\r\n\r\nexport const clientListItems = (\r\n  <div>\r\n    <ListItem button component={Link} to='/dashboard'>\r\n      <ListItemIcon>\r\n        <DashboardIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Dashboard\" />\r\n    </ListItem>\r\n    <ListItem button button component={Link} to='/orders'>\r\n      <ListItemIcon>\r\n        <PlaylistAddCheck />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Orders\" />\r\n    </ListItem>    \r\n    <ListItem button component={Link} to='/stores'>\r\n      <ListItemIcon>\r\n        <Store />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Stores\" />\r\n    </ListItem>    \r\n    <ListItem button component={Link} to='/products'>\r\n      <ListItemIcon>\r\n        <ViewCarousel />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Products\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/invoices'>\r\n      <ListItemIcon>\r\n        <Receipt />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Invoice\" />\r\n    </ListItem>\r\n  </div>\r\n);\r\n\r\nexport const secondaryListItems = (\r\n  <div>\r\n    <ListItem button component=\"a\" href={APIROOT+\"/admin\"}>\r\n      <ListItemIcon>\r\n        <SettingsApplications />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Django Admin\" />\r\n    </ListItem>\r\n  </div>\r\n);","import API from '../api-service'\r\nimport React, {useState, useEffect} from 'react';\r\nimport {Button, TextField, FormLabel, Typography} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useCookies } from 'react-cookie'\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function ProductForm(props){\r\n\r\n  const classes = useStyles();\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-userInfo']);\r\n\r\n  const [errormsg, setErrormsg] = useState({});\r\n  const [data, setData] = useState({});\r\n  const [saved, setSaved, getSaved] = useState(false);\r\n  let badData = false;\r\n  console.log(\"opened form\");\r\n\r\n  useEffect(() => {\r\n    if(props.mode!='update')\r\n      return;\r\n\r\n    const getproduct = async () => {      \r\n      try{\r\n        const resp = await API.getProduct(token['mr-token'], props.id)\r\n        if(resp.status==200){\r\n          const product = await resp.json();\r\n          console.log(\"retreiving data\");\r\n          setData(product);\r\n        }\r\n        else throw 'Could not get the product details';        \r\n      }\r\n      catch(e){\r\n        console.log(\"api error\");\r\n        console.error(e);\r\n        setErrormsg({'form': String(e)});\r\n      }\r\n    }\r\n    getproduct();\r\n\r\n  }, []);\r\n\r\n  const updateProduct = async (id, dataObject) => {\r\n    try{\r\n      const resp = await API.updateProduct(token['mr-token'], id, dataObject);\r\n      console.log(\"response status \", resp.status);\r\n      if(resp.status==200)\r\n        setSaved(true);\r\n      else if(resp.status==400){\r\n        console.log(resp);\r\n        const errors = await resp.json();\r\n        setErrormsg(errors);\r\n      }\r\n      else throw 'Failed due to unknown reasons';\r\n    }\r\n    catch(error){\r\n      console.log(\"api error\");\r\n      console.error(error);\r\n      setErrormsg({'form': String(error)});\r\n    }\r\n  }\r\n\r\n  const addProduct = async (dataObject) => {    \r\n    try{\r\n      const resp = await API.addProduct(token['mr-token'], dataObject);\r\n      console.log(\"response status \", resp.status);\r\n      if(resp.status==201)\r\n        setSaved(true);\r\n      else if(resp.status==400){\r\n        console.log(resp);\r\n        const errors = await resp.json();\r\n        setErrormsg(errors);\r\n      }\r\n      else throw 'Failed due to unknown reasons';\r\n    }\r\n    catch(error){\r\n      console.log(\"api error\");\r\n      console.error(error);\r\n      setErrormsg({'form': String(error)});\r\n    }\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);    \r\n    let dataObject = {};    \r\n    formData.forEach((value, key) => dataObject[key] = value);\r\n    console.log(\"sending data\");\r\n    dataObject = {...data, ...dataObject};\r\n    console.log(dataObject);\r\n    if(props.mode=='update')\r\n      updateProduct(props.id, dataObject);\r\n    else\r\n      addProduct(dataObject);\r\n  };\r\n\r\n  const handleGoBack = (e) => {\r\n    props.setMode('none');\r\n  }\r\n  \r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(parseInt(userInfo['mr-user'].split('-')[1])!=1)\r\n    return (<Redirect to='/'></Redirect>);\r\n  if(saved)\r\n    return (<Typography variant=\"h6\">Saved Succcesfully <Button variant=\"contained\" color=\"primary\" onClick={handleGoBack}>Go back</Button></Typography>);\r\n  if(props.mode=='update' && Object.keys(data).length === 0)\r\n    return (<div>Loading...</div>);\r\n  return(\r\n    <div>\r\n      <div style={{display:'flex', justifyContent: \"space-between\"}}>\r\n        <Typography variant=\"h4\">{props.mode=='update' ? 'Update':'Add'}</Typography>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleGoBack}>Go back</Button>\r\n      </div>\r\n    <form className={classes.form} onSubmit={handleSubmit} >\r\n      { Object.keys(errormsg).length!=0 && <FormLabel error={true} >Invalid data {errormsg['form']}</FormLabel>}\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"style\"\r\n        label=\"Style\"\r\n        name=\"style\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['style'] ? errormsg['style'][0]:''}\r\n        error = {errormsg['style'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? data['style']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"size\"\r\n        label=\"Size\"\r\n        name=\"size\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['size'] ? errormsg['size'][0]:''}\r\n        error = {errormsg['size'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? data['size']:''}\r\n      />\r\n      <TextField\r\n      variant=\"outlined\"\r\n      margin=\"normal\"\r\n      required\r\n      fullWidth\r\n      id=\"color\"\r\n      label=\"Color\"\r\n      name=\"color\"\r\n      disabled = {props.mode=='update' ? true:false}\r\n      helperText = {errormsg['color'] ? errormsg['color'][0]:''}\r\n      error = {errormsg['color'] ? true: false}\r\n      defaultValue = {props.mode=='update' ? data['color']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"sku\"\r\n        label=\"SKU\"\r\n        name=\"sku\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['sku'] ? errormsg['sku'][0]:''}\r\n        error = {errormsg['sku'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? data['sku']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"cost\"\r\n        label=\"Cost\"\r\n        name=\"cost\"\r\n        type=\"number\"\r\n        inputProps={{step:0.01}}\r\n        helperText = {errormsg['cost'] ? errormsg['cost'][0]:''}\r\n        error = {errormsg['cost'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? data['cost']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"price\"\r\n        label=\"Price\"\r\n        name=\"price\"\r\n        type=\"number\"\r\n        inputProps={{step:0.01}}\r\n        helperText = {errormsg['price'] ? errormsg['price'][0]:''}\r\n        error = {errormsg['price'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? data['price']:''}\r\n      />\r\n      \r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}            \r\n      >\r\n        Submit\r\n      </Button>          \r\n    </form>\r\n    </div>); \r\n}","import '../App.css';\r\nimport React, {useState, useEffect} from 'react';\r\nimport { DataGrid, GridToolbar, GridRowsProp, GridColDef } from '@material-ui/data-grid';\r\nimport API from '../api-service';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Button, IconButton, Dialog, DialogActions, DialogTitle, TextField} from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ProductForm from './ProductForm';\r\n\r\nconst columns = [\r\n  { field: 'id', headerName: 'ID', width: 50},\r\n  { field: 'sfmId', headerName: 'SFM ID', width: 300, hide:true},\r\n  { field: 'style', headerName: 'Style', width: 250},\r\n  { field: 'size', headerName: 'Size', width: 100},\r\n  { field: 'color', headerName: 'Color', width: 150},\r\n  { field: 'sku', headerName: 'SKU', width: 150 },\r\n  { field: 'cost', headerName: 'Cost', width: 100, type: 'number'},\r\n  { field: 'price', headerName: 'Price', width: 100, type: 'number'},\r\n  { field: 'amountInStock', headerName: 'Amount In Stock', width: 150, type: 'number'}\r\n];\r\n\r\nfunction ProductDetails(props){\r\n  \r\n  // { id: 1, sfmId: 'dummy1', style: 'dummy style' },\r\n  // { id: 2,  sfmId: 'dummy2', style: 'dummy style' }\r\n  const [products, setProducts] = useState([]);\r\n  const [searchFilteredProducts, setSearchFilteredProducts] = useState([]);\r\n  const [searchString, setSearchString] = useState('');\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [mode, setMode] = useState('none');\r\n  const [mySelectedRows, setMySelectedRows] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\tconst [isFilePicked, setIsFilePicked] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n  const restrictedColumns = [\r\n    { field: 'style', headerName: 'Style', width: 150},\r\n    { field: 'size', headerName: 'Size', width: 150},\r\n    { field: 'color', headerName: 'Color', width: 150},\r\n    { field: 'sku', headerName: 'SKU', width: 150 },\r\n  ];\r\n\r\n  if(usertype==0) \r\n    restrictedColumns.push({ field: 'price', headerName: 'Price', width: 150});\r\n\r\n  const fileChangeHandler = (event) => {\r\n    if(event.target.files.length==1){\r\n      setSelectedFile(event.target.files[0]);\r\n      console.log(\"file is: \", event.target.files[0])\r\n      setIsFilePicked(true);\r\n    }\r\n    else{\r\n      setSelectedFile(null);\r\n      setIsFilePicked(false);\r\n    }\r\n\t};\r\n\r\n  const handleUpload = (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n\r\n\t\tformData.append('productsFile', selectedFile);\r\n\r\n    if(isFilePicked && selectedFile.name.search(/product/i) == -1){\r\n      setMessage('Please make sure you have selected products file. File name should contain the word product');\r\n      return;\r\n    }\r\n\r\n\t\tAPI.uploadProductsFile(token['mr-token'], formData)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((result) => {\r\n        if(result['errors']){          \r\n          if(result['errors'].length==0){\r\n            setMessage('Successfully imported all records');\r\n            console.log('Successfully imported all records');\r\n          }\r\n          else{\r\n            setMessage('Partial Success (see error records in console (hit Ctrl+Shift+i)');\r\n            console.log('Following rows were not imported: ');\r\n            console.log(result['errors']);\r\n          }\r\n        }\r\n\t\t\t\telse setMessage('Failed import due to unknown reason');\r\n        console.log('setting mode');\r\n        setIsFilePicked(false);\r\n        fetchlist();\r\n        setMode('none');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error('Error:', error);\r\n        setMessage('Failed import due to unknown reasons');\r\n\t\t\t});\r\n\t};\r\n\r\n  function fetchlist(){\r\n    API.getProductList(token['mr-token'])\r\n    .then(resp => {\r\n      console.log(resp);\r\n      if(resp.status==200)\r\n        return resp.json();\r\n      else\r\n        throw 'Something went wrong'\r\n    })\r\n    .then(data => {\r\n      console.log(data); \r\n      // data.forEach((item, i) => item.id = item.sfmId);\r\n      setProducts(data);\r\n    })    \r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }\r\n  \r\n  useEffect(() => {\r\n    props.setTitle('Products');\r\n\r\n    if(mode=='none')\r\n      fetchlist();\r\n  }, [token, mode]\r\n  );\r\n\r\n  useEffect(() => {\r\n    updateSearchFilteredProducts(searchString);\r\n  }, [products]\r\n  );\r\n\r\n  const updateSearchFilteredProducts = (theSearchString) =>{\r\n    let rows = [...products];\r\n    if(theSearchString!='')\r\n        rows = rows.filter(r => {\r\n          const str = theSearchString.toLowerCase()\r\n          return r.style.toLowerCase().search(str)>=0 ||\r\n          r.size.toLowerCase().search(str)>=0 ||\r\n          r.color.toLowerCase().search(str)>=0;\r\n          \r\n        })\r\n    setMySelectedRows([]);\r\n    setSearchFilteredProducts(rows);\r\n  }\r\n\r\n  const updatebtnClicked = (e) => {\r\n    console.log(\"update clicked\");\r\n    if(mySelectedRows.length==1)\r\n      setMode('update');\r\n  };\r\n\r\n  const handleAddClick = (e) => {setMode('add')}\r\n\r\n  const handleSelection = (items) => {\r\n    console.log(items);    \r\n    setMySelectedRows(items.selectionModel);    \r\n  }\r\n\r\n  const handleDeleteClick = (e) => {setOpen(true)}\r\n  const handleClose = (e) => {setOpen(false)}\r\n  const handleDeleteConfirm = async (e) => { \r\n    console.log('u confirmed delete');\r\n    let deleted = 0;\r\n    const errors = [];\r\n    for(let rowId of mySelectedRows) {\r\n      try{\r\n        const resp = await API.deleteProduct(token['mr-token'], rowId);        \r\n        if(resp.status==200 || resp.status==204){\r\n          console.log(`deleted order with id ${rowId}`);\r\n          deleted++;\r\n        }            \r\n        else{\r\n          console.log(`Failed to delete product with id ${rowId}`);\r\n          const p = products.find(x => x.id==rowId)['sfmId'];\r\n          throw `Could not delete product ${p}`;\r\n        }           \r\n      }\r\n      catch(e){\r\n        console.error(`could not delete product id ${rowId}`, e);\r\n        errors.push(e.toString());\r\n      }\r\n    }\r\n    if(deleted < mySelectedRows.length)\r\n      setMessage('Could not delete products ' + errors.toString());\r\n    else\r\n      setMessage('Successfull');\r\n    setOpen(false);\r\n    fetchlist();\r\n  }\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  else\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      {message=='' ? '' : <div style={{color:\"red\"}}>{message}</div>}\r\n      { mode=='none' ?\r\n        <div>\r\n          { usertype==1 && \r\n          <div style={{ width: '100%', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', flexDirection: 'row'}}>\r\n            <div>\r\n              <IconButton color='primary' variant='contained' onClick={handleAddClick}><AddCircleIcon /></IconButton>\r\n              <IconButton disabled={mySelectedRows.length == 1 ? false:true} onClick={updatebtnClicked} color='primary' variant='contained' ><EditIcon /></IconButton>\r\n              <IconButton variant=\"outlined\" color=\"secondary\" disabled={mySelectedRows.length>0 ? false:true} onClick={handleDeleteClick}><DeleteIcon /></IconButton>\r\n              <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                >\r\n                <DialogTitle id=\"alert-dialog-title\">\"Are you sure you want to delete the {mySelectedRows.length} items\"</DialogTitle>\r\n                \r\n                <DialogActions>\r\n                  <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n                  <Button onClick={handleDeleteConfirm} color=\"primary\" autoFocus>Confirm</Button>\r\n                </DialogActions>\r\n              </Dialog>\r\n            </div>\r\n            <form ><input type=\"file\" name=\"myfile\" id=\"myfile\" onChange={fileChangeHandler} hidden></input><label htmlFor=\"myfile\" className=\"file-input-label\">Choose File</label><Button type=\"submit\" disabled={!isFilePicked} onClick={handleUpload} color='primary' variant='contained'>Import Products</Button></form>\r\n            <div>\r\n                <TextField variant=\"outlined\" size=\"small\" margin=\"none\" type=\"text\" value={searchString} text='Search' onChange={(e) => setSearchString(e.target.value)} onKeyPress={e => e.key==\"Enter\" && updateSearchFilteredProducts(e.target.value)}></TextField>\r\n                <Button color=\"primary\" variant=\"contained\" onClick={e => updateSearchFilteredProducts(searchString)}>Search</Button>\r\n            </div>\r\n          </div>}\r\n          <div style={{  width: '100%', minWidth:'600px', height: 'calc(100vh - 140px'}}>\r\n            <DataGrid rows={searchFilteredProducts} columns={usertype==1 ? columns : restrictedColumns} checkboxSelection components={{\r\n              Toolbar: GridToolbar,\r\n            }} onSelectionModelChange={handleSelection} disableColumnMenu={true} disableSelectionOnClick/>\r\n          </div>\r\n        </div>\r\n        :\r\n        <ProductForm id={ mode=='update' ? mySelectedRows[0] : null } mode={mode} setMode={setMode}></ProductForm>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductDetails;\r\n","import '../App.css';\r\nimport React, {useState, useEffect} from 'react'\r\nimport { DataGrid, GridToolbar, GridRowsProp, GridColDef } from '@material-ui/data-grid';\r\nimport API from '../api-service'\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Divider } from '@material-ui/core';\r\n\r\nconst columns = [\r\n  { field: 'storeName', headerName: 'Store Name', width: 200 },\r\n  { field: 'storeCode', headerName: 'Store Code', width: 110 },\r\n  { field: 'emailAddress', headerName: 'Email Address', width: 250 },\r\n  { field: 'addressLine1', headerName: 'Addres Line 1', width: 200 },\r\n  { field: 'addressLine2', headerName: 'Adress Line 2', width: 200 },\r\n  { field: 'city', headerName: 'City', width: 150 },\r\n  { field: 'state', headerName: 'State', width: 150 },\r\n  { field: 'zipCode', headerName: 'Zip Code', width: 100 }\r\n];\r\n\r\nfunction StoreDetails(props){\r\n\r\n  props.setTitle('Stores');\r\n\r\n  //{ id: 1, storeCode: 'dummy1', storeName: 'dummy store' },\r\n  //{ id: 2, storeCode: 'dummy2', storeName: 'dummy store2' }\r\n  const [stores, setStores] = useState([]);\r\n  \r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n\r\n  useEffect(() => {\r\n    API.getStoreList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      console.log(data);\r\n      // client permission to filter only his store, is handled in api\r\n      data.forEach((item, i) => item.id = i+1);\r\n      \r\n      return setStores(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }, []\r\n  );\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(parseInt(userInfo['mr-user'].split('-')[1])==2)\r\n    return (<Redirect to='/'></Redirect>);\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      <div style={{  width: '100%', minWidth:'600px', height: \"calc(100vh - 100px\"}}>\r\n        <DataGrid rows={stores} columns={columns} components={{\r\n          Toolbar: GridToolbar,\r\n        }} disableColumnMenu/>\r\n      </div>\r\n    </div>      \r\n  );\r\n}\r\n\r\nexport default StoreDetails;\r\n","import API from '../api-service'\r\nimport React, {useState, useEffect} from 'react';\r\nimport {Button, TextField, FormLabel, Typography, MenuItem, Dialog, DialogTitle, DialogActions} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useCookies } from 'react-cookie'\r\nimport { setGridPageSizeStateUpdate } from '@material-ui/data-grid';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function PurchaseForm(props){\r\n\r\n  const classes = useStyles();\r\n  const [token] = useCookies(['mr-token']);\r\n  const [errormsg, setErrormsg] = useState({});\r\n  const [saved, setSaved] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const [submittedData, setSubmittedData] = useState([]);\r\n  const [availableStyles, setAvailableStyles] = useState([]);\r\n  const [availableSizes, setAvailableSizes] = useState([]);\r\n  const [availableColors, setAvailableColors] = useState([]);\r\n  const [availableProducts, setAvailableProducts] = useState([]);\r\n  let badData = false;\r\n  console.log(\"opened form\");\r\n  console.log(availableStyles);\r\n  console.log(availableProducts);\r\n\r\n  useEffect(() => {\r\n    API.getProductList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      const styles = data.map( d => d.style);\r\n      setAvailableStyles([...new Set(styles)]);\r\n      const sizes = data.map( d => d.size)\r\n      setAvailableSizes([...new Set(sizes)]);\r\n      const colors = data.map( d => d.color);\r\n      setAvailableColors([...new Set(colors)]);      \r\n      setAvailableProducts(data.map( d => d.sfmId));\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});    \r\n  }, []\r\n  );\r\n\r\n  const handleClose = (e) => {setOpen(false)}\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);    \r\n    let dataObject = {};    \r\n    console.log(formData);\r\n    formData.forEach((value, key) => dataObject[key] = value);\r\n    console.log(\"sending data\");\r\n    const sfmId = dataObject['style'] + '-' + dataObject['size'] + '-' + dataObject['color']\r\n    setSubmittedData(dataObject);\r\n    if(!availableProducts.find(x => x==sfmId)){\r\n      setOpen(true);\r\n      return;\r\n    }\r\n    saveData(dataObject);    \r\n  };\r\n\r\n  const handleConfirm = (e) => {\r\n    saveData(submittedData);\r\n  }\r\n\r\n  const saveData = (dataObject) => {\r\n    console.log(dataObject);\r\n    if(props.mode=='update')\r\n      API.updatePurchase(token['mr-token'], props.id, dataObject)\r\n      .then(resp => {\r\n        if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n        if(resp.status==200) { setSaved(true); }\r\n        return resp.json()\r\n      })\r\n      .then(data => {if(badData) setErrormsg(data)})\r\n      .catch(error => {console.log(\"api error\"); console.error(error)});\r\n    else\r\n      API.addPurchase(token['mr-token'], dataObject)\r\n      .then(resp => {\r\n        console.log(\"saving\",resp.status);\r\n        if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n        if(resp.status==201) { setSaved(true); }\r\n        return resp.json()\r\n      })\r\n      .then(data => {if(badData) setErrormsg(data)})\r\n      .catch(error => {console.log(\"api error\"); console.error(error)});      \r\n  }  \r\n\r\n  const handleGoBack = (e) => {\r\n    props.setMode('none');\r\n  }\r\n  \r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(saved)\r\n    return(<div>Saved Succcesfully <Button onClick={handleGoBack}>Go back to Purchases</Button></div>);\r\n  else\r\n  return(\r\n    <div>\r\n      <div style={{display:'flex'}}>\r\n        <Typography>{props.mode=='update' ? 'Update':'Add'}</Typography>\r\n        <Button onClick={handleGoBack}>Go back</Button>\r\n      </div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\"The Product does not Exist. New Product will be created. Continue?\"</DialogTitle>\r\n        \r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n          <Button onClick={handleConfirm} color=\"primary\" autoFocus>Confirm</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <form className={classes.form} onSubmit={handleSubmit} >\r\n      { Object.keys(errormsg).length!=0 && <FormLabel error={true} >Invalid data</FormLabel>}\r\n      \r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        select\r\n        fullWidth\r\n        id=\"status\"\r\n        label=\"Status\"\r\n        name=\"status\"\r\n        helperText = {errormsg['status'] ? errormsg['status'][0]:''}\r\n        error = {errormsg['status'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['status']:'In Transit'}\r\n      >\r\n        <MenuItem key={0} value={'In Transit'}>In Transit</MenuItem>\r\n        <MenuItem key={1} value={'Received'}>Received</MenuItem>\r\n      </TextField>\r\n      <Autocomplete\r\n      id=\"styleCombo\"\r\n      options={availableStyles}\r\n      freeSolo\r\n      getOptionLabel={(option) => option}\r\n      fullWidth      \r\n      renderInput={(params) => \r\n        <TextField {...params} \r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        id=\"style\"\r\n        label=\"Style\"\r\n        name=\"style\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['style'] ? errormsg['style'][0]:''}\r\n        error = {errormsg['style'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['style']:''}\r\n        />}\r\n      />\r\n\r\n      <Autocomplete\r\n      id=\"sizeCombo\"\r\n      options={availableSizes}\r\n      freeSolo\r\n      getOptionLabel={(option) => option}\r\n      renderInput={(params) => \r\n        <TextField {...params} \r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"size\"\r\n        label=\"Size\"\r\n        name=\"size\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['size'] ? errormsg['size'][0]:''}\r\n        error = {errormsg['size'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['size']:''}\r\n        />}\r\n      />\r\n      <Autocomplete\r\n      id=\"colorCombo\"\r\n      options={availableColors}\r\n      freeSolo\r\n      getOptionLabel={(option) => option}\r\n      renderInput={(params) => \r\n        <TextField {...params} \r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        id=\"color\"\r\n        label=\"Color\"\r\n        name=\"color\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['color'] ? errormsg['color'][0]:''}\r\n        error = {errormsg['color'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['color']:''}\r\n        />}\r\n      />\r\n      \r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"company\"\r\n        label=\"Company\"\r\n        name=\"company\"\r\n        helperText = {errormsg['company'] ? errormsg['company'][0]:''}\r\n        error = {errormsg['company'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['company']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"warehouse\"\r\n        label=\"Warehouse\"\r\n        name=\"warehouse\"\r\n        helperText = {errormsg['warehouse'] ? errormsg['warehouse'][0]:''}\r\n        error = {errormsg['warehouse'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['warehouse']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"ordered\"\r\n        label=\"Ordered\"\r\n        name=\"ordered\"\r\n        type=\"number\"\r\n        helperText = {errormsg['ordered'] ? errormsg['ordered'][0]:''}\r\n        error = {errormsg['ordered'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['ordered']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"orderDate\"\r\n        label=\"order Date\"\r\n        name=\"orderDate\"\r\n        type=\"date\"\r\n        helperText = {errormsg['orderDate'] ? errormsg['orderDate'][0]:''}\r\n        error = {errormsg['orderDate'] ? true: false}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        defaultValue = {props.mode=='update' ? props.data['orderDate']:''}\r\n      />\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}            \r\n      >\r\n        Submit\r\n      </Button>          \r\n      </form>\r\n    </div>); \r\n}","import '../App.css';\r\nimport React, {useState, useEffect} from 'react';\r\nimport { DataGrid, GridToolbar, GridRowsProp, GridColDef } from '@material-ui/data-grid';\r\nimport API from '../api-service';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Divider, Button, TextField, Dialog, DialogTitle, DialogActions, IconButton } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport PurchaseForm from './PurchaseForm';\r\n\r\n\r\n\r\nfunction PurchaseList(props){\r\n\r\n  //{ id: 1, sfmId: 'dummy1', style: 'dummy style' },\r\n  //{ id: 2,  sfmId: 'dummy2', style: 'dummy style' }\r\n  const [purchases, setPurchases] = useState([]);\r\n  const [searchFilteredPurchases, setSearchFilteredPurchases] = useState([]);\r\n  const [searchString, setSearchString] = useState('');\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [mode, setMode] = useState('none');\r\n  const [mySelectedRows, setMySelectedRows] = useState([]);\r\n  const [recordDetails, setRecordDetails] = useState({});\r\n\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\tconst [isFilePicked, setIsFilePicked] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [open, setOpen] = useState(false);\r\n\r\n\tconst fileChangeHandler = (event) => {\r\n    if(event.target.files.length==1){\r\n      setSelectedFile(event.target.files[0]);\r\n      console.log(\"file is: \", event.target.files[0]);\r\n      setIsFilePicked(true);\r\n    }\r\n    else{\r\n      setSelectedFile(null);\r\n      setIsFilePicked(false);\r\n    }\r\n\t};\r\n\r\n  const handleDeleteClick = (e) => {setOpen(true)}\r\n  const handleClose = (e) => {setOpen(false)}\r\n\r\n  const handleDeleteConfirm = (e) => {\r\n    console.log('u confirmed delete');\r\n    let errors = [];\r\n    const deleteRows = async () => {\r\n      for(let rowId of mySelectedRows) {\r\n        try{\r\n          const resp = await API.deletePurchase(token['mr-token'], rowId);\r\n          if(resp.status==200 || resp.status==204){\r\n            console.log(`deleted purchase with id ${rowId}`);\r\n          }          \r\n          else{\r\n            console.log(`Failed to delete purchase with id ${rowId}`);\r\n            throw `Failed to delete purchase with id ${rowId}`;\r\n          }\r\n        }\r\n        catch(e){\r\n          console.error(`could not delete purchase id ${rowId}`, e);\r\n          errors.push(`could not delete purchase id ${rowId}`);\r\n        }\r\n      }\r\n\r\n      if(errors.length>0)\r\n        setMessage('Some rows were not deleted\\n' + errors.toString() + ' Pleae refresh');\r\n      else\r\n        setMessage('Deleted successfully. Please refresh');\r\n\r\n    }\r\n    setOpen(false);\r\n    deleteRows();\r\n\r\n  }\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: 'Purchase Id', width: 150, hide:true },\r\n    { field: 'status', headerName: 'Status', width: 150,\r\n      renderCell: (params) => {\r\n          return(\r\n          <Button\r\n            variant=\"contained\"\r\n            color= { params.value==\"In Transit\" ? \"secondary\":\"primary\" }\r\n            size=\"small\"\r\n            data-pid={params.id}\r\n            onClick={handleStatusChange}\r\n            style={{ marginLeft: 16 }}\r\n          >\r\n            {params.value}\r\n          </Button>);\r\n      },\r\n      },\r\n    { field: 'style', headerName: 'Style', width: 150 },\r\n    { field: 'size', headerName: 'Size', width: 150 },\r\n    { field: 'color', headerName: 'Color', width: 150 },\r\n    { field: 'company', headerName: 'Company' },\r\n    { field: 'warehouse', headerName: 'Warehouse', width: 150 },\r\n    { field: 'ordered', headerName: 'Ordered', width: 150 },\r\n    { field: 'orderDate', headerName: 'Order Date', width: 150},\r\n    { field: 'arrivalDate', headerName: 'Arrival Date', width: 150 },\r\n    { field: 'sfmId', headerName: 'SFM ID', width: 150 }\r\n  ];\r\n\r\n  const handleStatusChange = (e) => {\r\n    const pid = parseInt(e.currentTarget.dataset.pid);\r\n    let rowdata = purchases.find(p => p.id == pid);\r\n    const status = rowdata.status=='In Transit' ? 'Received': 'In Transit'\r\n    const newRow = {...rowdata, status}\r\n    console.log(newRow);\r\n    API.updatePurchase(token['mr-token'], pid, newRow)\r\n      .then(resp => {\r\n        if(resp.status==200) return resp.json();\r\n        if(resp.status==400) throw JSON.stringify(resp.json());\r\n        else throw 'Unknown reason. Please refresh';\r\n      })\r\n      .then(data => {\r\n        const updatedRows = purchases.map((row) => {\r\n          if (row.id == data.id)\r\n            return data;          \r\n          return row;\r\n        });\r\n        setMessage('updated purchase');\r\n        console.log(updatedRows.map(x => x.id));\r\n        setPurchases(updatedRows);\r\n      })\r\n      .catch(err => {console.log('api error');console.error(err); setMessage('Something went wrong, ' + String(err))});\r\n    \r\n  }\r\n\r\n\tconst handleUpload = (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n\r\n\t\tformData.append('purchaseFile', selectedFile);\r\n\r\n    if(isFilePicked && selectedFile.name.search(/purchase/i) == -1){\r\n      setMessage('Please make sure you have selected purchase file. File name should contain the word purchase');\r\n      return;\r\n    }\r\n\r\n\t\tAPI.uploadPurchasesFile(token['mr-token'], formData)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((result) => {\r\n        if(result['errors']){          \r\n          if(result['errors'].length==0){\r\n            setMessage('Successfully imported all records');\r\n            console.log('Successfully imported all records');\r\n          }\r\n          else{\r\n            setMessage('Partial Success (see error records in console (hit Ctrl+Shift+i)');\r\n            console.log('Following rows were not imported: ');\r\n            console.log(result['errors']);\r\n          }\r\n        }\r\n\t\t\t\telse setMessage('Failed import due to unknown reason');\r\n        console.log('setting mode');\r\n        fetchList();\r\n        setMode('none');\r\n        setIsFilePicked(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error('Error:', error);\r\n        setMessage('Failed import due to unknown reasons');\r\n\t\t\t});\r\n\t};\r\n\r\n  const updatebtnClicked = (e) => {\r\n    console.log(\"update clicked\");\r\n    if(mySelectedRows.length==1)    \r\n      API.getPurchase(token['mr-token'], mySelectedRows[0])\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n        console.log(\"filling formdata\");\r\n        setRecordDetails(data);\r\n        setMode('update');\r\n        })\r\n        .catch(e =>{console.log(\"api error\");console.error(e)});\r\n  };\r\n\r\n  const handleAddClick = (e) => {setMode('add')}\r\n\r\n  const handleSelection = (items) => {\r\n    console.log(items);    \r\n    setMySelectedRows(items.selectionModel);    \r\n  }\r\n  \r\n\r\n  useEffect(() => {\r\n    props.setTitle('Purchases');\r\n    console.log('useeffect called');\r\n    if(mode=='none')\r\n      fetchList();    \r\n  }, [token, mode]\r\n  );\r\n\r\n  useEffect(() => {\r\n    updateSearchFilteredPurchases(searchString);\r\n  }, [purchases]\r\n  );\r\n\r\n  const updateSearchFilteredPurchases = (theSearchString) =>{\r\n    let rows = [...purchases];\r\n    if(theSearchString!='')\r\n        rows = rows.filter(r => {\r\n          const str = theSearchString.toLowerCase()\r\n          return r.style.toLowerCase().search(str)>=0 ||\r\n          r.size.toLowerCase().search(str)>=0 ||\r\n          r.color.toLowerCase().search(str)>=0 ||\r\n          r.warehouse.toLowerCase().search(str)>=0 ||\r\n          r.company.toLowerCase().search(str)>=0;\r\n          \r\n        })\r\n    setMySelectedRows([]);\r\n    setSearchFilteredPurchases(rows);\r\n  }\r\n\r\n  function fetchList(){\r\n      console.log(\"fetching data\");\r\n      API.getPurchasesList(token['mr-token'])\r\n      .then(resp => {\r\n        if(resp.status==200)\r\n          return resp.json()\r\n        else throw 'Something went wrong';\r\n      })\r\n      .then(data => {\r\n        console.log(data);\r\n        // not needed as purchases object already contains field called id\r\n        // data.forEach((item, i) => item.id = i+1);\r\n        setMySelectedRows([]);\r\n        setPurchases(data);\r\n      })\r\n      .catch(e => {console.log(\"api error\"); console.error(e); setMessage(String(e))});    \r\n  }\r\n\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(parseInt(userInfo['mr-user'].split('-')[1])==0)\r\n    return (<Redirect to='/'></Redirect>);\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      {message=='' ? '' : <div style={{color:'red'}}>{message}</div>}\r\n      { mode=='none' ?\r\n        <div>\r\n          <div style={{ width: '100%', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', flexDirection: 'row'}}>\r\n            <div>\r\n            <IconButton  color='primary' variant='contained' onClick={handleAddClick}><AddCircleIcon /></IconButton>\r\n            <IconButton disabled={mySelectedRows.length == 1 ? false:true} onClick={updatebtnClicked} color='primary' variant='contained' ><EditIcon /></IconButton>\r\n            <IconButton variant=\"contained\" color=\"secondary\" disabled={mySelectedRows.length>0 ? false:true} onClick={handleDeleteClick}><DeleteIcon /></IconButton>\r\n            <Dialog\r\n              open={open}\r\n              onClose={handleClose}                \r\n            >\r\n              <DialogTitle id=\"alert-dialog-title\">\"Are you sure you want to delete the {mySelectedRows.length} items\"</DialogTitle>\r\n              \r\n              <DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n                <Button onClick={handleDeleteConfirm} color=\"primary\" autoFocus>Confirm</Button>\r\n              </DialogActions>\r\n            </Dialog>\r\n            </div>\r\n            <form ><input type=\"file\" name=\"myfile\" id=\"myfile\" onChange={fileChangeHandler} hidden></input><label htmlFor=\"myfile\" className=\"file-input-label\">Choose File</label><Button type=\"submit\" disabled={!isFilePicked} onClick={handleUpload} color='primary' variant='contained'>Import</Button></form>\r\n            <div>\r\n                <TextField variant=\"outlined\" size=\"small\" margin=\"none\" type=\"text\" value={searchString} text='Search' onChange={(e) => setSearchString(e.target.value)} onKeyPress={e => e.key==\"Enter\" && updateSearchFilteredPurchases(e.target.value)}></TextField>\r\n                <Button color=\"primary\" variant=\"contained\" onClick={e => updateSearchFilteredPurchases(searchString)}>Search</Button>\r\n            </div>\r\n          </div>\r\n          <div style={{  width: '100%', minWidth:'600px', flexGrow: 1}}>\r\n            <DataGrid rows={searchFilteredPurchases} columns={columns} checkboxSelection autoHeight={true} components={{\r\n              Toolbar: GridToolbar,\r\n            }} onSelectionModelChange={handleSelection} disableSelectionOnClick={true}/>\r\n          </div>\r\n        </div>\r\n        :\r\n        <PurchaseForm id={ mode=='update' ? mySelectedRows : null }  data={ mode=='update' ? recordDetails : null} mode={mode} setMode={setMode}></PurchaseForm>\r\n      }           \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PurchaseList;\r\n","import '../App.css';\r\nimport React, {useState, useEffect} from 'react'\r\nimport { DataGrid, GridToolbar, GridRowsProp, GridColDef } from '@material-ui/data-grid';\r\nimport { Button, TextField} from '@material-ui/core';\r\nimport API from '../api-service'\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Divider } from '@material-ui/core';\r\n\r\nconst columns = [\r\n  { field: 'style', headerName: 'Style', width: 250 },\r\n  { field: 'size', headerName: 'Size', width: 80 },\r\n  { field: 'color', headerName: 'Color', width: 150 },\r\n  { field: 'productAvailability', headerName: 'Product Availabity', width: 150 },\r\n  { field: 'inStock', headerName: 'In Stock', width: 80 },\r\n  { field: 'unfulfilledCount', headerName: 'Unfulfilled Count', width: 80 },\r\n  { field: 'inTransit', headerName: 'In Transit', width: 90 },\r\n  { field: 'arrivalDate', headerName: 'ArrivaL Date', width: 120 },\r\n  { field: 'trueCount', headerName: 'True Count', width: 80 },\r\n  { field: 'minimum', headerName: 'Minimum', width: 80 },\r\n  { field: 'maximum', headerName: 'Maximum', width: 80 },\r\n  { field: 'shortCount', headerName: 'Short Count', width: 80 },\r\n  { field: 'needToPurchase', headerName: 'Need to Purchase', width: 90 }\r\n];\r\n\r\nfunction InventoryList(props){\r\n  \r\n  //{ id: 1, style: 'dummy1', size: 'dummy ' },\r\n  //{ id: 2, style: 'dummy2', size: 'dummy ' }\r\n  const [productInventory, setproductInventory] = useState([]);\r\n  const [searchFilteredInventory, setSearchFilteredInventory] = useState([]);\r\n  const [searchString, setSearchString] = useState('');\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n\r\n  useEffect(() => {\r\n    props.setTitle('Inventory');\r\n\r\n    console.log({...productInventory[0]});\r\n    API.getInventoryList(token['mr-token'])\r\n    .then(data => {\r\n      console.log(data); \r\n      // data.forEach((item, i) => item.id = item.sfmId);\r\n      \r\n      return setproductInventory(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }, [token]\r\n  );\r\n\r\n  useEffect(() => {\r\n    updateSearchFilteredInventory(searchString);\r\n  }, [productInventory]\r\n  );\r\n\r\n  const updateSearchFilteredInventory = (theSearchString) =>{\r\n    let rows = [...productInventory];\r\n    if(theSearchString!='')\r\n        rows = rows.filter(r => {\r\n          const str = theSearchString.toLowerCase()\r\n          return r.style.toLowerCase().search(str)>=0 ||\r\n          r.size.toLowerCase().search(str)>=0 ||\r\n          r.color.toLowerCase().search(str)>=0 ||\r\n          r.productAvailability.toLowerCase().search(str)>=0;\r\n        })\r\n    setSearchFilteredInventory(rows);\r\n  }\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(parseInt(userInfo['mr-user'].split('-')[1])==0)\r\n    return (<Redirect to='/'></Redirect>);\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-end', alignItems: 'center', flexWrap: 'wrap', flexDirection: 'row', marginBottom: \"5px\"}}>\r\n        <div>\r\n            <TextField variant=\"outlined\" size=\"small\" margin=\"none\" type=\"text\" value={searchString} text='Search' onChange={(e) => setSearchString(e.target.value)} onKeyPress={e => e.key==\"Enter\" && updateSearchFilteredInventory(e.target.value)}></TextField>\r\n            <Button color=\"primary\" variant=\"contained\" onClick={e => updateSearchFilteredInventory(searchString)}>Search</Button>\r\n        </div>\r\n      </div>\r\n      <div style={{  width: '100%', minWidth:'600px', height:'calc(100vh - 100px)'}}>        \r\n        <DataGrid rows={searchFilteredInventory} columns={columns} components={{\r\n          Toolbar: GridToolbar,\r\n        }} disableColumnMenu />\r\n      </div>\r\n    </div>      \r\n  );\r\n}\r\n\r\nexport default InventoryList;\r\n","import API from '../api-service'\r\nimport React, {useState, useEffect, useRef} from 'react';\r\nimport {Button, TextField, FormLabel, Typography, MenuItem, FormControl, InputLabel, Input, FormHelperText} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function OrderForm(props){\r\n\r\n  const classes = useStyles();\r\n  const [token] = useCookies(['mr-token']);\r\n  const [errormsg, setErrormsg] = useState({});\r\n  const [saved, setSaved, getSaved] = useState(false);\r\n  const [availableProducts, setavailableProducts] = useState([]);\r\n  const [availableStyles, setavailableStyles] = useState([]);\r\n  const [availableSizes, setavailableSizes] = useState([]);\r\n  const [availableColors, setavailableColors] = useState([]);\r\n  const [availableStores, setAvailableStores] = useState([]);\r\n  const styleref = useRef(null);\r\n  const sizeref = useRef(null);\r\n  const colorref = useRef(null);\r\n  const statuses = ['Unfulfilled', 'Processed', 'Printed', 'Shipped'];\r\n  let badData = false;\r\n  console.log(\"opened form\");\r\n\r\n  useEffect(() => {\r\n    API.getProductList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      //console.log(data); \r\n      const sortBy = [ \r\n        {prop:'style', direction: 1}, \r\n        {prop:'size', direction: 1}, \r\n        {prop:'color', direction: 1},\r\n      ];\r\n\r\n      data.sort(function(a,b){\r\n        let i = 0, result = 0;\r\n        while(i < sortBy.length && result === 0) {\r\n          result = sortBy[i].direction*(a[ sortBy[i].prop ].toString() < b[ sortBy[i].prop ].toString() ? -1 : (a[ sortBy[i].prop ].toString() > b[ sortBy[i].prop ].toString() ? 1 : 0));\r\n          i++;\r\n        }\r\n        return result;\r\n      })\r\n      setavailableStyles([...new Set(data.map(i => i.style))]);\r\n      setavailableSizes([...new Set(data.map(i => i.size))]);\r\n      setavailableColors([...new Set(data.map(i => i.color))]);\r\n      setavailableProducts(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n\r\n    API.getStoreList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      console.log(data); \r\n      \r\n      return setAvailableStores(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }, []\r\n  );\r\n\r\n  const handleStyleChange = (e) => {\r\n    console.log(styleref, sizeref, colorref);\r\n    const newstyle = e.target.value;\r\n    //sizeref.current.value = '';\r\n    //colorref.current.value = '';\r\n    console.log('style changed', newstyle);\r\n    setavailableSizes([...new Set(availableProducts.filter(p => p.style==newstyle).map(x => x.size))]);\r\n    setavailableColors([...new Set(availableProducts.filter(p => p.style==newstyle).map(x => x.color))]);\r\n  }\r\n\r\n  const handleSizeChange = (e) => {\r\n    console.log(styleref.current.value, sizeref.current.value, colorref.current.value);\r\n    const newstyle = styleref.current.value;\r\n    const newsize = e.target.value;\r\n    //colorref.current.value = '';\r\n    console.log('size changed', newsize);\r\n    setavailableColors([...new Set(availableProducts.filter(p => p.style==newstyle && p.size==newsize).map(x => x.color))]);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log('submit clicked');\r\n    const formData = new FormData(e.target);    \r\n    let dataObject = {};    \r\n    formData.forEach((value, key) => dataObject[key] = value);\r\n    // let splitArray = dataObject['sfmId'].split(\"-\");\r\n    // dataObject['style'] = splitArray.slice(0, splitArray.length-2).join('-');\r\n    // dataObject['size'] = splitArray[splitArray.length-2];\r\n    // dataObject['color'] = splitArray[splitArray.length-1];\r\n    dataObject['sfmId'] = dataObject['style'] + '-' + dataObject['size'] + '-' + dataObject['color']\r\n    if(availableProducts.filter(p => p.sfmId==dataObject['sfmId']).length==0){\r\n      setErrormsg({'style': ['The style size color combination does not exist']});\r\n      return;\r\n    }\r\n    if(dataObject['saleDate'] == \"\")\r\n      dataObject['saleDate'] = null;\r\n    if(dataObject['shipDate'] == \"\")\r\n      dataObject['shipDate'] = null;\r\n    console.log(\"sending data\");\r\n    console.log(dataObject);\r\n\r\n    if(props.mode=='update')\r\n      API.updateOrder(token['mr-token'], props.id, dataObject)\r\n      .then(resp => {\r\n        if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n        if(resp.status==200) { setSaved(true); }\r\n        return resp.json()\r\n      })\r\n      .then(data => {if(badData) setErrormsg(data)})\r\n      .catch(error => {console.log(\"api error\"); console.error(error)});\r\n    else\r\n      API.addOrder(token['mr-token'], dataObject)\r\n      .then(resp => {\r\n        console.log(\"saving\",resp.status);\r\n        if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n        if(resp.status==201) { setSaved(true); }\r\n        return resp.json()\r\n      })\r\n      .then(data => {if(badData) setErrormsg(data)})\r\n      .catch(error => {console.log(\"api error\"); console.error(error)});      \r\n  };\r\n\r\n  const handleGoBack = (e) => {\r\n    props.setMode('none');\r\n  }\r\n  \r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(saved)\r\n    return(<Typography variant=\"h6\">Saved Succcesfully <Button variant=\"contained\" color=\"primary\" onClick={handleGoBack}>Go back</Button></Typography>);\r\n  return(\r\n    <div>\r\n      <div style={{display:'flex', justifyContent: \"space-between\"}}>\r\n        <Typography variant=\"h4\">{props.mode=='update' ? 'Update':'Add'}</Typography>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleGoBack}>Go back</Button>\r\n      </div>\r\n    <form className={classes.form} onSubmit={handleSubmit} >\r\n      { Object.keys(errormsg).length!=0 && <FormLabel error={true} >Invalid data {errormsg['form']}</FormLabel>}      \r\n      \r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        select\r\n        fullWidth\r\n        id=\"store\"\r\n        label=\"Store Name\"\r\n        name=\"store\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['store'] ? errormsg['store'][0]:''}\r\n        error = {errormsg['store'] ? true: false}\r\n        >\r\n        {availableStores.map((option) => (\r\n          <MenuItem key={option.storeCode} value={option.storeCode}>\r\n            {option.storeName}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        select\r\n        id=\"orderStatus\"\r\n        label=\"Order Status\"\r\n        name=\"orderStatus\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['orderStatus'] ? errormsg['orderStatus'][0]:''}\r\n        error = {errormsg['orderStatus'] ? true: false}\r\n        defaultValue = 'Unfulfilled'\r\n      >\r\n      {statuses.map((option) => (\r\n        <MenuItem key={option} value={option}>\r\n          {option}\r\n        </MenuItem>\r\n      ))}\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        fullWidth\r\n        id=\"saleDate\"\r\n        label=\"Sale Date\"\r\n        name=\"saleDate\"\r\n        type=\"date\"\r\n        helperText = {errormsg['saleDate'] ? errormsg['saleDate'][0]:''}\r\n        error = {errormsg['saleDate'] ? true: false}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"orderNo\"\r\n        label=\"Order No\"\r\n        name=\"orderNo\"\r\n        inputProps={{maxLength:20}}\r\n        helperText = {errormsg['orderNo'] ? errormsg['orderNo'][0]:''}\r\n        error = {errormsg['orderNo'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"recipientName\"\r\n        label=\"Recipient Name\"\r\n        name=\"recipientName\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['recipientName'] ? errormsg['recipientName'][0]:''}\r\n        error = {errormsg['recipientName'] ? true: false}\r\n      />\r\n      \r\n\r\n      \r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        select\r\n        id=\"style\"\r\n        label=\"Style\"\r\n        name=\"style\"\r\n        inputRef={styleref}\r\n        onChange={handleStyleChange}\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['style'] ? errormsg['style'][0]:''}\r\n        error = {errormsg['style'] ? true: false}\r\n      >\r\n      {availableStyles.map((option) => (\r\n        <MenuItem key={option} value={option}>\r\n          {option}\r\n        </MenuItem>\r\n      ))}\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        select\r\n        inputRef={sizeref}\r\n        id=\"size\"\r\n        label=\"Size\"\r\n        name=\"size\"\r\n        onChange={handleSizeChange}\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['size'] ? errormsg['size'][0]:''}\r\n        error = {errormsg['size'] ? true: false}\r\n        >\r\n        {availableSizes.map((option) => (\r\n          <MenuItem key={option} value={option}>\r\n            {option}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        select\r\n        inputRef={colorref}\r\n        id=\"color\"\r\n        label=\"Color\"\r\n        name=\"color\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['color'] ? errormsg['color'][0]:''}\r\n        error = {errormsg['color'] ? true: false}\r\n      >\r\n      {availableColors.map((option) => (\r\n        <MenuItem key={option} value={option}>\r\n          {option}\r\n        </MenuItem>\r\n      ))}\r\n      </TextField>\r\n      {/*<TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        select\r\n        required\r\n        id=\"sfmId\"\r\n        label=\"Style - Size - Color\"\r\n        name=\"sfmId\"\r\n        helperText = {errormsg['sfmId'] ? errormsg['sfmId'][0]:''}\r\n        error = {errormsg['sfmId'] ? true: false}\r\n      >\r\n      {availableProducts.map((option) => (\r\n        <MenuItem key={option.sfmId} value={option.sfmId}>\r\n          {option.sfmId}\r\n        </MenuItem>\r\n      ))}\r\n      </TextField>\r\n      */}\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        fullWidth\r\n        id=\"design\"\r\n        label=\"design\"\r\n        name=\"design\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['design'] ? errormsg['design'][0]:''}\r\n        error = {errormsg['design'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        required\r\n        select\r\n        id=\"processing\"\r\n        label=\"Processing\"\r\n        name=\"processing\"\r\n        inputProps={{maxLength:1}}\r\n        helperText = {errormsg['processing'] ? errormsg['processing'][0]:''}\r\n        error = {errormsg['processing'] ? true: false}\r\n        defaultValue = 'N'\r\n      >\r\n        <MenuItem key={0} value={'N'}>No</MenuItem>\r\n        <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        select\r\n        id=\"printed\"\r\n        label=\"Printed\"\r\n        name=\"printed\"\r\n        inputProps={{maxLength:1}}\r\n        helperText = {errormsg['printed'] ? errormsg['printed'][0]:''}\r\n        error = {errormsg['printed'] ? true: false}\r\n        defaultValue = 'N'\r\n      >\r\n        <MenuItem key={0} value={'N'}>No</MenuItem>\r\n        <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        required\r\n        select\r\n        id=\"shipped\"\r\n        label=\"Shipped\"\r\n        name=\"shipped\"\r\n        inputProps={{maxLength:1}}\r\n        helperText = {errormsg['shipped'] ? errormsg['shipped'][0]:''}\r\n        error = {errormsg['shipped'] ? true: false}\r\n        defaultValue = 'N'\r\n      >\r\n        <MenuItem key={0} value={'N'}>No</MenuItem>\r\n        <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"sfmNotes\"\r\n        label=\"SFM Notes\"\r\n        name=\"sfmNotes\"\r\n        inputProps={{maxLength:5000}}\r\n        helperText = {errormsg['sfmNotes'] ? errormsg['sfmNotes'][0]:''}\r\n        error = {errormsg['sfmNotes'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"Buyer Name\"\r\n        label=\"buyerName\"\r\n        name=\"buyerName\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['buyerName'] ? errormsg['buyerName'][0]:''}\r\n        error = {errormsg['buyerName'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        type=\"email\"\r\n        id=\"buyerEmail\"\r\n        label=\"Buyer Email\"\r\n        name=\"buyerEmail\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['buyerEmail'] ? errormsg['buyerEmail'][0]:''}\r\n        error = {errormsg['buyerEmail'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"buyerComments\"\r\n        label=\"Buyer Comments\"\r\n        name=\"buyerComments\"\r\n        inputProps={{maxLength:5000}}\r\n        helperText = {errormsg['buyerComments'] ? errormsg['buyerComments'][0]:''}\r\n        error = {errormsg['buyerComments'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"giftMessages\"\r\n        label=\"Gift Messages\"\r\n        name=\"giftMessages\"\r\n        inputProps={{maxLength:5000}}\r\n        helperText = {errormsg['giftMessages'] ? errormsg['giftMessages'][0]:''}\r\n        error = {errormsg['giftMessages'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"sku\"\r\n        label=\"SKU\"\r\n        name=\"sku\"\r\n        inputProps={{maxLength:20}}\r\n        helperText = {errormsg['sku'] ? errormsg['sku'][0]:''}\r\n        error = {errormsg['sku'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"shipDate\"\r\n        label=\"shipDate\"\r\n        name=\"shipDate\"\r\n        type=\"datetime-local\"\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        helperText = {errormsg['shipDate'] ? errormsg['shipDate'][0]:''}\r\n        error = {errormsg['shipDate'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"priorityShip\"\r\n        label=\"priorityShip\"\r\n        name=\"priorityShip\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['priorityShip'] ? errormsg['priorityShip'][0]:''}\r\n        error = {errormsg['priorityShip'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"customerPaidShipping\"\r\n        label=\"Customer Paid Shipping $\"\r\n        name=\"customerPaidShipping\"\r\n        type=\"number\"\r\n        inputProps={{step:0.01, min:0, max:99999}}\r\n        helperText = {errormsg['customerPaidShipping'] ? errormsg['customerPaidShipping'][0]:''}\r\n        error = {errormsg['customerPaidShipping'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"trackingNumber\"\r\n        label=\"Tracking Number\"\r\n        name=\"trackingNumber\"\r\n        inputProps={{maxLength:30}}\r\n        helperText = {errormsg['trackingNumber'] ? errormsg['trackingNumber'][0]:''}\r\n        error = {errormsg['trackingNumber'] ? true: false}\r\n      />\r\n      {/*<TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"productAvailability\"\r\n        label=\"Product Availability\"\r\n        name=\"productAvailability\"\r\n        helperText = {errormsg['productAvailability'] ? errormsg['productAvailability'][0]:''}\r\n        error = {errormsg['productAvailability'] ? true: false}\r\n      />*/}\r\n      \r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}\r\n      >\r\n        Submit\r\n      </Button>\r\n    </form>\r\n    </div>); \r\n}","import API from '../api-service'\r\nimport React, {useState, useEffect, useRef} from 'react';\r\nimport {Button, TextField, FormLabel, Typography, MenuItem, FormControl, InputLabel, Input, FormHelperText} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function OrderUpdateForm(props){\r\n\r\n  const classes = useStyles();\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [errormsg, setErrormsg] = useState({});\r\n  const [saved, setSaved, getSaved] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const [dataReturned, setDataReturned] = useState(false);\r\n  const [availableProducts, setavailableProducts] = useState([]);\r\n  const [availableStores, setAvailableStores] = useState([]);\r\n  const [availableStyles, setavailableStyles] = useState([]);\r\n  const [availableSizes, setavailableSizes] = useState([]);\r\n  const [availableColors, setavailableColors] = useState([]);\r\n  const styleref = useRef(null);\r\n  const sizeref = useRef(null);\r\n  const colorref = useRef(null);\r\n  const statuses = ['Unfulfilled', 'Processed', 'Printed', 'Shipped', 'Cancelled'];\r\n\r\n\r\n  let badData = false;\r\n  console.log(\"opened form\");\r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n  useEffect(() => {\r\n    API.getOrder(token['mr-token'], props.id)\r\n    .then(resp => resp.json())\r\n    .then(result => {\r\n      console.log(\"initializing formdata\");\r\n      setData(result);\r\n      setDataReturned(true);\r\n    })\r\n    .catch(e =>{console.log(\"api error\");console.error(e)});\r\n\r\n    API.getProductList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      //console.log(data); \r\n      const sortBy = [ \r\n        {prop:'style', direction: 1}, \r\n        {prop:'size', direction: 1}, \r\n        {prop:'color', direction: 1},\r\n      ];\r\n\r\n      data.sort(function(a,b){\r\n        let i = 0, result = 0;\r\n        while(i < sortBy.length && result === 0) {\r\n          result = sortBy[i].direction*(a[ sortBy[i].prop ].toString() < b[ sortBy[i].prop ].toString() ? -1 : (a[ sortBy[i].prop ].toString() > b[ sortBy[i].prop ].toString() ? 1 : 0));\r\n          i++;\r\n        }\r\n        return result;\r\n      })\r\n      setavailableStyles([...new Set(data.map(i => i.style))]);\r\n      setavailableSizes([...new Set(data.map(i => i.size))]);\r\n      setavailableColors([...new Set(data.map(i => i.color))]);\r\n      setavailableProducts(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n\r\n    API.getStoreList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      //console.log(data); \r\n      \r\n      setAvailableStores(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }, []\r\n  );\r\n\r\n\r\n  const handleClientFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);    \r\n    let dataObject = {};    \r\n    formData.forEach((value, key) => dataObject[key] = value);\r\n    // let splitArray = dataObject['sfmId'].split(\"-\");\r\n    // dataObject['style'] = splitArray.slice(0, splitArray.length-2).join('-');\r\n    // dataObject['size'] = splitArray[splitArray.length-2];\r\n    // dataObject['color'] = splitArray[splitArray.length-1];\r\n    dataObject['sfmId'] = dataObject['style'] + '-' + dataObject['size'] + '-' + dataObject['color']\r\n    if(availableProducts.filter(p => p.sfmId==dataObject['sfmId']).length==0){\r\n      setErrormsg({'style': ['The style size color combination does not exist']});\r\n      return;\r\n    }\r\n    dataObject = {...data, ...dataObject}\r\n    console.log(dataObject);\r\n    API.updateOrder(token['mr-token'], props.id, dataObject)\r\n    .then(resp => {\r\n      if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n      if(resp.status==200) { setSaved(true); }\r\n      return resp.json()\r\n    })\r\n    .then(data => {if(badData) setErrormsg(data)})\r\n    .catch(error => {console.log(\"api error\"); console.error(error)});\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);    \r\n    let dataObject = {};    \r\n    formData.forEach((value, key) => dataObject[key] = value);\r\n    // let splitArray = dataObject['sfmId'].split(\"-\");\r\n    // dataObject['style'] = splitArray.slice(0, splitArray.length-2).join('-');\r\n    // dataObject['size'] = splitArray[splitArray.length-2];\r\n    // dataObject['color'] = splitArray[splitArray.length-1];\r\n    dataObject['sfmId'] = dataObject['style'] + '-' + dataObject['size'] + '-' + dataObject['color']\r\n    if(availableProducts.filter(p => p.sfmId==dataObject['sfmId']).length==0){\r\n      setErrormsg({'style': ['The style size color combination does not exist']});\r\n      return;\r\n    }\r\n    if(dataObject['saleDate'] == \"\")\r\n      dataObject['saleDate'] = null;\r\n    if(dataObject['shipDate'] == \"\")\r\n      dataObject['shipDate'] = null;\r\n    console.log(\"sending data\");\r\n    console.log(dataObject);\r\n\r\n    API.updateOrder(token['mr-token'], props.id, dataObject)\r\n    .then(resp => {\r\n      if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n      if(resp.status==200) { setSaved(true); }\r\n      return resp.json()\r\n    })\r\n    .then(data => {if(badData) setErrormsg(data)})\r\n    .catch(error => {console.log(\"api error\");\r\n      console.error(error);\r\n      setErrormsg({'form': 'Something went wrong. Please refresh.'})\r\n    });\r\n  };\r\n\r\n  const handleGoBack = (e) => {\r\n    props.setMode('none');\r\n  }\r\n\r\n  const handleStyleChange = (e) => {\r\n    console.log(styleref, sizeref, colorref);\r\n    const newstyle = e.target.value;\r\n    //sizeref.current.value = '';\r\n    //colorref.current.value = '';\r\n    console.log('style changed', newstyle);\r\n    setavailableSizes([...new Set(availableProducts.filter(p => p.style==newstyle).map(x => x.size))]);\r\n    setavailableColors([...new Set(availableProducts.filter(p => p.style==newstyle).map(x => x.color))]);\r\n  }\r\n\r\n  const handleSizeChange = (e) => {\r\n    console.log(styleref.current.value, sizeref.current.value, colorref.current.value);\r\n    const newstyle = styleref.current.value;\r\n    const newsize = e.target.value;\r\n    //colorref.current.value = '';\r\n    console.log('size changed', newsize);\r\n    setavailableColors([...new Set(availableProducts.filter(p => p.style==newstyle && p.size==newsize).map(x => x.color))]);\r\n  }\r\n\r\n  console.log('rendering');\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(saved)\r\n    return(<Typography variant=\"h6\">Saved Succcesfully <Button variant=\"contained\" color=\"primary\" onClick={handleGoBack}>Go back</Button></Typography>);\r\n  if(!dataReturned)\r\n    return (<div>Loading</div>)\r\n  return(\r\n    <div>\r\n      <div style={{display:'flex', justifyContent: \"space-between\"}}>\r\n        <Typography variant=\"h4\" >Update</Typography>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleGoBack}>Go back</Button>\r\n      </div>\r\n      {usertype!=0 ?\r\n        <form className={classes.form} onSubmit={handleSubmit} >\r\n          <FormLabel>Order Id: {data['orderId']} ------ Order No: {data['orderNo']}</FormLabel>\r\n          { Object.keys(errormsg).length!=0 && <FormLabel error={true} >Invalid data {errormsg['form']}</FormLabel>}      \r\n          \r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            select\r\n            fullWidth\r\n            id=\"store\"\r\n            label=\"Store Name\"\r\n            name=\"store\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['store'] ? errormsg['store'][0]:''}\r\n            error = {errormsg['store'] ? true: false}\r\n            defaultValue = {data['store']}\r\n            >\r\n            {availableStores.map((option) => (\r\n              <MenuItem key={option.storeCode} value={option.storeCode}>\r\n                {option.storeName}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            select\r\n            id=\"orderStatus\"\r\n            label=\"Order Status\"\r\n            name=\"orderStatus\"\r\n            inputProps={{maxLength:15}}\r\n            helperText = {errormsg['orderStatus'] ? errormsg['orderStatus'][0]:''}\r\n            error = {errormsg['orderStatus'] ? true: false}\r\n            defaultValue = {data['orderStatus']}\r\n          >\r\n          {statuses.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"saleDate\"\r\n            label=\"Sale Date\"\r\n            name=\"saleDate\"\r\n            type=\"date\"\r\n            helperText = {errormsg['saleDate'] ? errormsg['saleDate'][0]:''}\r\n            error = {errormsg['saleDate'] ? true: false}\r\n            defaultValue = {data['saleDate']}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"orderNo\"\r\n            label=\"Order No\"\r\n            name=\"orderNo\"\r\n            inputProps={{maxLength:20}}\r\n            helperText = {errormsg['orderNo'] ? errormsg['orderNo'][0]:''}\r\n            error = {errormsg['orderNo'] ? true: false}\r\n            defaultValue = {data['orderNo']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"recipientName\"\r\n            label=\"Recipient Name\"\r\n            name=\"recipientName\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['recipientName'] ? errormsg['recipientName'][0]:''}\r\n            error = {errormsg['recipientName'] ? true: false}\r\n            defaultValue = {data['recipientName']}\r\n          />\r\n          \r\n\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            inputRef={styleref}\r\n            id=\"style\"\r\n            label=\"Style\"\r\n            name=\"style\"\r\n            onChange={handleStyleChange}\r\n            helperText = {errormsg['style'] ? errormsg['style'][0]:''}\r\n            error = {errormsg['style'] ? true: false}\r\n            defaultValue = {data['style']}\r\n          >\r\n          {availableStyles.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            inputRef={sizeref}\r\n            onChange={handleSizeChange}\r\n            id=\"size\"\r\n            label=\"Size\"\r\n            name=\"size\"\r\n            helperText = {errormsg['size'] ? errormsg['size'][0]:''}\r\n            error = {errormsg['size'] ? true: false}\r\n            defaultValue = {data['size']}\r\n            >\r\n            {availableSizes.map((option) => (\r\n              <MenuItem key={option} value={option}>\r\n                {option}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            inputRef={colorref}\r\n            id=\"color\"\r\n            label=\"Color\"\r\n            name=\"color\"\r\n            helperText = {errormsg['color'] ? errormsg['color'][0]:''}\r\n            error = {errormsg['color'] ? true: false}\r\n            defaultValue = {data['color']}\r\n          >\r\n          {availableColors.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>\r\n          {/*<TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            select\r\n            required\r\n            id=\"sfmId\"\r\n            label=\"Style - Size - Color\"\r\n            name=\"sfmId\"\r\n            helperText = {errormsg['sfmId'] ? errormsg['sfmId'][0]:''}\r\n            error = {errormsg['sfmId'] ? true: false}\r\n            defaultValue = {data['sfmId']}\r\n          >\r\n          {availableProducts.map((option) => (\r\n            <MenuItem key={option.sfmId} value={option.sfmId}>\r\n              {option.sfmId}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>*/}\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"design\"\r\n            label=\"design\"\r\n            name=\"design\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['design'] ? errormsg['design'][0]:''}\r\n            error = {errormsg['design'] ? true: false}\r\n            defaultValue = {data['design']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            required\r\n            select\r\n            id=\"processing\"\r\n            label=\"Processing\"\r\n            name=\"processing\"\r\n            inputProps={{maxLength:1}}\r\n            helperText = {errormsg['processing'] ? errormsg['processing'][0]:''}\r\n            error = {errormsg['processing'] ? true: false}\r\n            defaultValue = {data['processing']}\r\n          >\r\n            <MenuItem key={0} value={'N'}>No</MenuItem>\r\n            <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            select\r\n            id=\"printed\"\r\n            label=\"Printed\"\r\n            name=\"printed\"\r\n            inputProps={{maxLength:1}}\r\n            helperText = {errormsg['printed'] ? errormsg['printed'][0]:''}\r\n            error = {errormsg['printed'] ? true: false}\r\n            defaultValue = {data['printed']}\r\n          >\r\n            <MenuItem key={0} value={'N'}>No</MenuItem>\r\n            <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            required\r\n            select\r\n            id=\"shipped\"\r\n            label=\"Shipped\"\r\n            name=\"shipped\"\r\n            inputProps={{maxLength:1}}\r\n            helperText = {errormsg['shipped'] ? errormsg['shipped'][0]:''}\r\n            error = {errormsg['shipped'] ? true: false}\r\n            defaultValue = {data['shipped']}\r\n          >\r\n            <MenuItem key={0} value={'N'}>No</MenuItem>\r\n            <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"sfmNotes\"\r\n            label=\"SFM Notes\"\r\n            name=\"sfmNotes\"\r\n            inputProps={{maxLength:5000}}\r\n            helperText = {errormsg['sfmNotes'] ? errormsg['sfmNotes'][0]:''}\r\n            error = {errormsg['sfmNotes'] ? true: false}\r\n            defaultValue = {data['sfmNotes']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"Buyer Name\"\r\n            label=\"buyerName\"\r\n            name=\"buyerName\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['buyerName'] ? errormsg['buyerName'][0]:''}\r\n            error = {errormsg['buyerName'] ? true: false}\r\n            defaultValue = {data['buyerName']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            type=\"email\"\r\n            id=\"buyerEmail\"\r\n            label=\"Buyer Email\"\r\n            name=\"buyerEmail\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['buyerEmail'] ? errormsg['buyerEmail'][0]:''}\r\n            error = {errormsg['buyerEmail'] ? true: false}\r\n            defaultValue = {data['buyerEmail']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"buyerComments\"\r\n            label=\"Buyer Comments\"\r\n            name=\"buyerComments\"\r\n            inputProps={{maxLength:5000}}\r\n            helperText = {errormsg['buyerComments'] ? errormsg['buyerComments'][0]:''}\r\n            error = {errormsg['buyerComments'] ? true: false}\r\n            defaultValue = {data['buyerComments']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"giftMessages\"\r\n            label=\"Gift Messages\"\r\n            name=\"giftMessages\"\r\n            inputProps={{maxLength:5000}}\r\n            helperText = {errormsg['giftMessages'] ? errormsg['giftMessages'][0]:''}\r\n            error = {errormsg['giftMessages'] ? true: false}\r\n            defaultValue = {data['giftMessages']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"sku\"\r\n            label=\"SKU\"\r\n            name=\"sku\"\r\n            inputProps={{maxLength:20}}\r\n            helperText = {errormsg['sku'] ? errormsg['sku'][0]:''}\r\n            error = {errormsg['sku'] ? true: false}\r\n            defaultValue = {data['sku']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"shipDate\"\r\n            label=\"shipDate\"\r\n            name=\"shipDate\"\r\n            type=\"datetime-local\"\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n            helperText = {errormsg['shipDate'] ? errormsg['shipDate'][0]:''}\r\n            error = {errormsg['shipDate'] ? true: false}\r\n            defaultValue = {data['shipDate']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"priorityShip\"\r\n            label=\"priorityShip\"\r\n            name=\"priorityShip\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['priorityShip'] ? errormsg['priorityShip'][0]:''}\r\n            error = {errormsg['priorityShip'] ? true: false}\r\n            defaultValue = {data['priorityShip']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"customerPaidShipping\"\r\n            label=\"Customer Paid Shipping $\"\r\n            name=\"customerPaidShipping\"\r\n            type=\"number\"\r\n            inputProps={{step:0.01, min:0, max: 99999}}\r\n            helperText = {errormsg['customerPaidShipping'] ? errormsg['customerPaidShipping'][0]:''}\r\n            error = {errormsg['customerPaidShipping'] ? true: false}\r\n            defaultValue = {data['customerPaidShipping']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"trackingNumber\"\r\n            label=\"Tracking Number\"\r\n            name=\"trackingNumber\"\r\n            inputProps={{maxLength:30}}\r\n            helperText = {errormsg['trackingNumber'] ? errormsg['trackingNumber'][0]:''}\r\n            error = {errormsg['trackingNumber'] ? true: false}\r\n            defaultValue = {data['trackingNumber']}\r\n          />\r\n          {/*<TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"productAvailability\"\r\n            label=\"Product Availability\"\r\n            name=\"productAvailability\"\r\n            helperText = {errormsg['productAvailability'] ? errormsg['productAvailability'][0]:''}\r\n            error = {errormsg['productAvailability'] ? true: false}\r\n          />*/}\r\n          \r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Submit\r\n          </Button>\r\n        </form>\r\n        :\r\n        <form className={classes.form} onSubmit={handleClientFormSubmit} >\r\n          { Object.keys(errormsg).length!=0 && <FormLabel error={true} >Invalid data {errormsg['form']}</FormLabel>}      \r\n          <FormLabel>Order Id: {data['orderId']} ------ Order No: {data['orderNo']}</FormLabel>\r\n          {/*<TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            select\r\n            required\r\n            id=\"sfmId\"\r\n            label=\"Style - Size - Color\"\r\n            name=\"sfmId\"\r\n            helperText = {errormsg['sfmId'] ? errormsg['sfmId'][0]:''}\r\n            error = {errormsg['sfmId'] ? true: false}\r\n            defaultValue = {data['sfmId']}\r\n          >\r\n          {availableProducts.map((option) => (\r\n            <MenuItem key={option.sfmId} value={option.sfmId}>\r\n              {option.sfmId}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>*/}\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            inputRef={styleref}\r\n            id=\"style\"\r\n            label=\"Style\"\r\n            name=\"style\"\r\n            onChange={handleStyleChange}\r\n            helperText = {errormsg['style'] ? errormsg['style'][0]:''}\r\n            error = {errormsg['style'] ? true: false}\r\n            defaultValue = {data['style']}\r\n          >\r\n          {availableStyles.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            inputRef={sizeref}\r\n            id=\"size\"\r\n            label=\"Size\"\r\n            name=\"size\"\r\n            onChange={handleSizeChange}\r\n            helperText = {errormsg['size'] ? errormsg['size'][0]:''}\r\n            error = {errormsg['size'] ? true: false}\r\n            defaultValue = {data['size']}\r\n            >\r\n            {availableSizes.map((option) => (\r\n              <MenuItem key={option} value={option}>\r\n                {option}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            inputRef={colorref}\r\n            id=\"color\"\r\n            label=\"Color\"\r\n            name=\"color\"\r\n            helperText = {errormsg['color'] ? errormsg['color'][0]:''}\r\n            error = {errormsg['color'] ? true: false}\r\n            defaultValue = {data['color']}\r\n          >\r\n          {availableColors.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"design\"\r\n            label=\"design\"\r\n            name=\"design\"\r\n            helperText = {errormsg['design'] ? errormsg['design'][0]:''}\r\n            error = {errormsg['design'] ? true: false}\r\n            defaultValue = {data['design']}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Submit\r\n          </Button>\r\n        </form>\r\n        \r\n        \r\n      }\r\n    </div>); \r\n}","import '../App.css';\r\nimport React, {useState, useEffect} from 'react'\r\nimport { DataGrid, GridToolbar, GridRowsProp, GridColDef } from '@material-ui/data-grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport API from '../api-service'\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Divider, MenuItem, Button, TextField, Dialog, DialogActions, DialogContent, DialogTitle, DialogContentText, createChainedFunction, IconButton } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport OrderForm from './OrderForm';\r\nimport OrderUpdateForm from './OrderUpdateForm';\r\n\r\nconst formatDate = (dt) => {\r\n  const dd = String(dt.getDate()).padStart(2, '0');\r\n  const mm = String(dt.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n  const yy = String(dt.getFullYear()).substr(2,2);\r\n  return mm + '/' + dd + '/' + yy;\r\n}\r\n\r\nconst formatDateTime = (dt) => {\r\n  const dd = String(dt.getDate()).padStart(2, '0');\r\n  const mm = String(dt.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n  const yy = String(dt.getFullYear()).substr(2,2);\r\n  const hh = String(dt.getHours()).padStart(2, '0');\r\n  const minutes = String(dt.getMinutes()).padStart(2, '0');\r\n  return mm + '/' + dd + '/' + yy + ' ' + hh + ':' + minutes;\r\n}\r\n\r\nconst currencyFormatter = new Intl.NumberFormat('en-US', {\r\n  style: 'currency',\r\n  currency: 'USD',\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    '& .cold': {\r\n      backgroundColor: '#b9d5ff91',\r\n      color: '#1a3e72',\r\n    },\r\n    '& .hot': {\r\n      backgroundColor: '#ff943975',\r\n      color: '#1a3e72',\r\n    },\r\n  },\r\n});\r\n\r\n\r\nconst columns = [\r\n  { field: 'orderId', headerName: 'Id', width: 80 },\r\n  { field: 'storeName', headerName: 'Store Name', width: 150 },\r\n  { field: 'orderStatus', headerName: 'Status', width: 110 },\r\n  { field: 'saleDate', headerName: 'Sale Date', type: 'date', editable:true, width: 120,\r\n      valueFormatter: (params) => { if(params.value) return formatDate(new Date(params.value))}},\r\n  { field: 'orderNo', headerName: 'Order No', width: 150 },\r\n  { field: 'orderCount', headerName: 'Order Cnt', width: 110 },\r\n  { field: 'recipientName', headerName: 'Recipent Name', editable:true, width: 200 },\r\n  { field: 'style', headerName: 'Style', width: 150 },\r\n  { field: 'size', headerName: 'Size', width: 80 },\r\n  { field: 'color', headerName: 'Color', width: 110 },\r\n  { field: 'design', headerName: 'Design', width: 150 },\r\n  { field: 'processing', headerName: 'Processing'},\r\n  { field: 'printed', headerName: 'Printed', width: 80 },\r\n  { field: 'shipped', headerName: 'Shipped', width: 90 },\r\n  { field: 'sfmNotes', headerName: 'SFM Notes', width: 150 },\r\n  { field: 'buyerName', headerName: 'Buyer Name', width: 200 },\r\n  { field: 'buyerEmail', headerName: 'Buyer Email', width: 200 },\r\n  { field: 'buyerComments', headerName: 'Buyer Comments', width: 150 },\r\n  { field: 'giftMessages', headerName: 'Gift Messages', width: 150 },\r\n  { field: 'sfmId', headerName: 'SFM ID', width: 300 },\r\n  { field: 'sku', headerName: 'SKU', width: 200 },\r\n  { field: 'shipDate', headerName: 'Ship Date', type: 'datetime', editable:true, width: 150,\r\n    valueFormatter: (params) => { if(params.value) return formatDateTime(new Date(params.value))} },\r\n  { field: 'priorityShip', headerName: 'Priority Ship', width: 110, editable:true  },\r\n  { field: 'customerPaidShipping', headerName: 'Customer Paid Shipping', width: 150, type: 'number',\r\n    editable:true,\r\n    valueFormatter: ({ value }) => currencyFormatter.format(Number(value))\r\n  },\r\n  { field: 'trackingNumber', headerName: 'Tracking Number', width: 150, editable:true },\r\n  { field: 'productAvailability', headerName: 'Product Availability', width: 120 }\r\n];\r\n\r\nfunction OrderList(props){\r\n  const classes = useStyles();\r\n  \r\n  // { id: 1, style: 'dummy1', size: 'dummy ' },\r\n  // { id: 2, style: 'dummy2', size: 'dummy ' }\r\n  const [orders, setOrders] = useState([]);\r\n  const [searchFilteredOrders, setSearchFilteredOrders] = useState([]);\r\n  const [searchString, setSearchString] = useState('');\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [mode, setMode] = useState('none');\r\n  const [open, setOpen] = useState(false);\r\n  const [mySelectedRows, setMySelectedRows] = useState([]);\r\n  const [myEditedRows, setMyEditedRows] = useState([]);\r\n\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\tconst [isFilePicked, setIsFilePicked] = useState(false);\r\n  const [selectedShippingFile, setSelectedShippingFile] = useState(null);\r\n  const [isShippingFilePicked, setIsShippingFilePicked] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n\tconst fileChangeHandler = (event) => {\r\n    console.log(event);\r\n    if(event.target.files.length==1){\r\n      setSelectedFile(event.target.files[0]);\r\n      console.log(\"order file is: \", event.target.files[0]);\r\n      event.target.labels[0].textContent = event.target.files[0].name\r\n      setIsFilePicked(true);\r\n    }\r\n    else{\r\n      setSelectedFile(null);\r\n      setIsFilePicked(false);\r\n    }\r\n\t\t\r\n\t};\r\n\r\n  const shippingFileChangeHandler = (event) => {\r\n    if(event.target.files.length==1){\r\n      setSelectedShippingFile(event.target.files[0]);\r\n      console.log(\"ship file is: \", event.target.files[0]);\r\n      event.target.labels[0].textContent = event.target.files[0].name\r\n      setIsShippingFilePicked(true);\r\n    }\r\n    else{\r\n      setSelectedShippingFile(null);\r\n      setIsShippingFilePicked(false);\r\n    }\r\n\t};\r\n\r\n  const handleRowSelected = (s) => {\r\n    console.log(s);\r\n    let rows = [...s.api.current.getSelectedRows().values()];\r\n    console.log('selected rows ere : ', rows);\r\n    setMyEditedRows(rows);\r\n  }\r\n\r\n  const handleMassUpdate = (e) => {\r\n    console.log('updating the orders', myEditedRows);\r\n\r\n    async function updateTheOrders(){\r\n      let updateErrors = []\r\n      for(let row of myEditedRows){\r\n        try{\r\n          const updateOrdersAsync = async () => { return API.updateOrder(token['mr-token'], row.orderId, row)}\r\n          let resp = await updateOrdersAsync();\r\n          if(resp.status==200){\r\n            console.log(`updated order with id ${row.orderId}`);\r\n          }\r\n          else if(resp.status==400){\r\n            console.log(`Invalid Update for order with id ${row.orderId}`);\r\n            let result = await resp.json()\r\n            let orderId = row.orderId\r\n            updateErrors.push({orderId, result});\r\n          }\r\n          else\r\n            throw \"server error\";\r\n        }\r\n        catch(err){\r\n          console.log(`Something went wrong for order id ${row.orderId}`);\r\n          console.error(err);\r\n          updateErrors.push(`Something went wrong for order id ${row.orderId}`);\r\n        }\r\n      }\r\n\r\n      if(updateErrors.length>0)\r\n        setMessage('Some rows were not updated\\n' + JSON.stringify(updateErrors));\r\n      else\r\n        setMessage('Updated successfully');\r\n    }\r\n\r\n    updateTheOrders();\r\n      \r\n      //fetchlist();\r\n  }\r\n\r\n  // needed to update myEditedRows if cell value changed after selection\r\n  const handleEditCellChangeCommitted = React.useCallback(\r\n    ({ id, field, props }) => {\r\n        console.log('cell commit', myEditedRows, props);\r\n        const data = props; // Fix eslint value is missing in prop-types for JS files\r\n        const updatedRows = myEditedRows.map((row) => {\r\n          const obj = {};\r\n          obj[field] = data.value;\r\n          if (row.orderId === id) {\r\n            return { ...row, ...obj};\r\n          }\r\n          return row;\r\n        });\r\n        setMyEditedRows(updatedRows);\r\n        console.log('cell commit after ', updatedRows);\r\n    },\r\n    [myEditedRows],\r\n  );\r\n\r\n\tconst handleUpload = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    if(isFilePicked && selectedFile.name.search(/order/i) == -1){\r\n      setMessage('Please make sure you have selected orders file. File name should contain the word order');\r\n      return;\r\n    }\r\n\r\n    if(isShippingFilePicked && selectedShippingFile.name.search(/ship/i) == -1){\r\n      setMessage('Please make sure you have selected shipping file. File name should contain the word ship');\r\n      return;\r\n    }\r\n\r\n    let res\r\n\r\n    if(isFilePicked){\r\n      formData.append('ordersFile', selectedFile);\r\n\t\t  res = API.uploadOrdersFile(token['mr-token'], formData)\r\n    }\r\n\r\n    else if(isShippingFilePicked){\r\n      formData.append('shippingFile', selectedShippingFile);\r\n\t\t  res = API.uploadShippingFile(token['mr-token'], formData)\r\n    }\r\n\r\n    else{\r\n      setMessage('Please select a file');\r\n      return;\r\n    }\r\n\t\t\r\n\t\t\tres.then((response) => response.json())\r\n\t\t\t.then((result) => {\r\n        if(result['errors']){          \r\n          if(result['errors'].length==0){\r\n            setMessage('Successfully imported all records');\r\n            console.log('Successfully imported all records');\r\n          }\r\n          else{\r\n            setMessage('Partial Success (see error records in console (hit Ctrl+Shift+i)');\r\n            console.log('Following rows were not imported: ');\r\n            console.log(result['errors']);\r\n          }\r\n        }\r\n\t\t\t\telse setMessage('Failed import due to unknown reason');\r\n        setIsFilePicked(false);\r\n        setSelectedFile(null);\r\n        setIsShippingFilePicked(false);\r\n        setSelectedShippingFile(null);\r\n        fetchlist();\r\n        setMode('none');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error('Error:', error);\r\n        setIsFilePicked(false);\r\n        setSelectedFile(null);\r\n        setIsShippingFilePicked(false);\r\n        setSelectedShippingFile(null);\r\n        setMessage('Failed import due to unknown reasons');\r\n\t\t\t});\r\n\t};\r\n\r\n  const handleAddClick = (e) => {setMode('add')}\r\n  const handleUpdateClick = (e) => {setMode('update')}\r\n  const handleDeleteClick = (e) => {setOpen(true)}\r\n  const handleClose = (e) => {setOpen(false)}\r\n  const handleDeleteConfirm = (e) => {\r\n    console.log('u confirmed delete');\r\n      mySelectedRows.forEach( rowId => {\r\n        API.deleteOrder(token['mr-token'], rowId)\r\n        .then( resp => {\r\n          if(resp.status==200 || resp.status==204)\r\n            console.log(`deleted order with id ${rowId}`);\r\n          else\r\n            console.log(`Failed to delete order with id ${rowId}`);\r\n        })\r\n        .catch(e => console.error(`could not delete order id ${rowId}`, e))\r\n      });\r\n      setOpen(false);\r\n  }\r\n\r\n  const handleSelection = (items) => {\r\n    console.log(items);    \r\n    setMySelectedRows(items.selectionModel);    \r\n  }\r\n\r\n  useEffect(() => {\r\n    props.setTitle('Orders');\r\n    if(mode=='none'){\r\n      setMySelectedRows([]);\r\n      setMyEditedRows([]);\r\n      console.log('inside useeffect');\r\n      fetchlist()\r\n    }\r\n      \r\n  }, [mode, token]\r\n  );\r\n\r\n  useEffect(() => {\r\n    updateSearchFilteredOrders(searchString);      \r\n  }, [orders]\r\n  );\r\n\r\n  function fetchlist(){\r\n    console.log('fetching details');\r\n    API.getOrderList(token['mr-token'])\r\n    .then(data => {\r\n      //console.log(data); \r\n      data.forEach((item, i) => item.id = item.orderId);\r\n      // data.sort(function(a,b){\r\n      //   if(!a['shipDate']){\r\n      //     console.log(a.orderId)\r\n      //     return -1;\r\n      //   }\r\n      //   if(!b['shipDate']) return -1;\r\n      //   return a.toString() > b.toString() ? -1 : 1;\r\n      // })\r\n      const sortBy = [\r\n        {prop:'shipDate', direction: -1},\r\n        {prop:'storeName', direction: 1}, \r\n        {prop:'recipientName', direction: 1},\r\n      ];\r\n\r\n      data.sort(function(a,b){\r\n        let i = 0, result = 0;\r\n        if(!a['shipDate'] && !b['shipDate'])\r\n          i++;\r\n        else if(!a['shipDate'])\r\n          return -1;\r\n        else if(!b['shipDate'])\r\n          return 1;\r\n        while(i < sortBy.length && result === 0) {\r\n          result = sortBy[i].direction*(a[ sortBy[i].prop ].toString() < b[ sortBy[i].prop ].toString() ? -1 : (a[ sortBy[i].prop ].toString() > b[ sortBy[i].prop ].toString() ? 1 : 0));\r\n          i++;\r\n        }\r\n        return result;\r\n      })\r\n      return setOrders(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }\r\n\r\n  const updateSearchFilteredOrders = (theSearchString) =>{\r\n    let rows = [...orders];\r\n    if(theSearchString!='')\r\n        rows = rows.filter(r => {\r\n          const str = theSearchString.toLowerCase()\r\n          return r.orderStatus.toLowerCase().search(str)>=0 ||\r\n          r.style.toLowerCase().search(str)>=0 ||\r\n          r.orderNo.toLowerCase().search(str)>=0 ||\r\n          r.storeName.toLowerCase().search(str)>=0 ||\r\n          r.recipientName.toLowerCase().search(str)>=0 ||\r\n          r.design.toLowerCase().search(str)>=0 ||\r\n          r.size.toLowerCase().search(str)>=0 ||\r\n          r.color.toLowerCase().search(str)>=0;\r\n        })\r\n    setMySelectedRows([]);\r\n    setMyEditedRows([]);\r\n    setSearchFilteredOrders(rows);\r\n  }\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  else\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      {message=='' ? '' : <div style={{color:\"red\"}}>{message}</div>}\r\n      { mode=='none' ?\r\n        <div>\r\n          {usertype==0 && <IconButton style={{ marginBottom:'10px'}} color='primary' variant='contained' disabled={mySelectedRows.length==1 && myEditedRows[0].processing=='N'? false:true} onClick={handleUpdateClick}><EditIcon /></IconButton>}\r\n          {usertype!=0 && <div style={{ width: '100%', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', flexDirection: 'row'}}>\r\n            <IconButton style={{ width: '60px'}} color='primary' variant='contained' onClick={handleAddClick}><AddCircleIcon /></IconButton>\r\n            <IconButton color='primary' variant='contained' disabled={mySelectedRows.length==1 ? false:true} onClick={handleUpdateClick}><EditIcon /></IconButton>\r\n            <div>\r\n              <IconButton variant=\"outlined\" color=\"secondary\" disabled={mySelectedRows.length>0 ? false:true} onClick={handleDeleteClick}><DeleteIcon /></IconButton>\r\n              <Dialog\r\n                open={open}\r\n                onClose={handleClose}                \r\n              >\r\n                <DialogTitle id=\"alert-dialog-title\">\"Are you sure you want to delete the {mySelectedRows.length} items\"</DialogTitle>\r\n                \r\n                <DialogActions>\r\n                  <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n                  <Button onClick={handleDeleteConfirm} color=\"primary\" autoFocus>Confirm</Button>\r\n                </DialogActions>\r\n              </Dialog>\r\n            </div>\r\n            <Button variant=\"contained\" color=\"primary\" disabled={myEditedRows.length>0 ? false:true} onClick={handleMassUpdate}>Mass Update</Button>\r\n            <form ><input type=\"file\" name=\"myfile\" id=\"myfile\" onChange={fileChangeHandler} hidden></input><label htmlFor=\"myfile\" className=\"file-input-label\">Choose File</label><Button type=\"submit\" disabled={!isFilePicked} onClick={handleUpload} color='primary' variant='contained'>Import Order Details</Button></form>\r\n            <form ><input type=\"file\" name=\"myShippingfile\" id=\"myShippingfile\" onChange={shippingFileChangeHandler} hidden></input><label htmlFor=\"myShippingfile\" className=\"file-input-label\">Choose File</label><Button type=\"submit\" disabled={!isShippingFilePicked} onClick={handleUpload} color='primary' variant='contained'>Import Shipping Details</Button></form>\r\n            <div>\r\n                <TextField variant=\"outlined\" size=\"small\" margin=\"none\" type=\"text\" value={searchString} text='Search' onChange={(e) => setSearchString(e.target.value)} onKeyPress={e => e.key==\"Enter\" && updateSearchFilteredOrders(e.target.value)}></TextField>\r\n                <Button color=\"primary\" variant=\"contained\" onClick={e => updateSearchFilteredOrders(searchString)}>Search</Button>\r\n            </div>\r\n            </div>}\r\n          <div style={{ width: '100%', padding: \"5px\",  height: \"calc(100vh - 100px)\", minWidth:'600px'}} className={classes.root}>        \r\n            <DataGrid\r\n              rows={searchFilteredOrders} columns={columns}\r\n              checkboxSelection \r\n              components={{ Toolbar: GridToolbar,}}\r\n              disableSelectionOnClick={true}\r\n              onSelectionModelChange={handleSelection}\r\n              onRowSelected={handleRowSelected}\r\n              onEditCellChangeCommitted={handleEditCellChangeCommitted}\r\n              disableColumnMenu={true}\r\n              getRowClassName={(params) =>{\r\n                if(params.row.productAvailability==\"Short\" || params.row.productAvailability==\"Out Of Stock\")\r\n                return 'hot'\r\n              }                \r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n        :\r\n        (mode=='add' ? \r\n          <OrderForm mode={mode} setMode={setMode}></OrderForm>\r\n          :\r\n          <OrderUpdateForm id={mySelectedRows[0]} mode={mode} setMode={setMode}></OrderUpdateForm>\r\n        )\r\n        \r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrderList;\r\n","import '../App.css';\r\nimport React, {useState, useEffect, useRef} from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    alignItems: 'center',\r\n    lineHeight: '24px',\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    '& .cellValue': {\r\n      whiteSpace: 'nowrap',\r\n      overflow: 'hidden',\r\n      textOverflow: 'ellipsis',\r\n    },\r\n  },\r\n}));\r\n\r\nfunction isOverflown(element){\r\n  if(String(element.innerHTML).length > 10)\r\n    return true;\r\n  else return false;\r\n}\r\n\r\nexport default function GridCellExpand(props) {\r\n  const { width, value } = props;\r\n  const wrapper = useRef(null);\r\n  const cellDiv = useRef(null);\r\n  const cellValue = useRef(null);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const classes = useStyles();\r\n  const [showFullCell, setShowFullCell] = useState(false);\r\n  const [showPopper, setShowPopper] = useState(false);\r\n\r\n  const handleMouseEnter = () => {\r\n    const isCurrentlyOverflown = isOverflown(cellValue.current);\r\n    setShowPopper(isCurrentlyOverflown);\r\n    setAnchorEl(cellDiv.current);\r\n    setShowFullCell(true);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setShowFullCell(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!showFullCell) {\r\n      return undefined;\r\n    }\r\n\r\n    function handleKeyDown(nativeEvent) {\r\n      // IE11, Edge (prior to using Bink?) use 'Esc'\r\n      if (nativeEvent.key === 'Escape' || nativeEvent.key === 'Esc') {\r\n        setShowFullCell(false);\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [setShowFullCell, showFullCell]);\r\n\r\n  return (\r\n    <div\r\n      ref={wrapper}\r\n      className={classes.root}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n    >\r\n      <div\r\n        ref={cellDiv}\r\n        style={{\r\n          height: 1,\r\n          width,\r\n          display: 'block',\r\n          position: 'absolute',\r\n          top: 0,\r\n        }}\r\n      />\r\n      <div ref={cellValue} className=\"cellValue\">\r\n        {value}\r\n      </div>\r\n      {showPopper && (\r\n        <Popper\r\n          open={showFullCell && anchorEl !== null}\r\n          anchorEl={anchorEl}\r\n          style={{ width, marginLeft: -17 }}\r\n        >\r\n          <Paper\r\n            elevation={1}\r\n            style={{ minHeight: wrapper.current.offsetHeight - 3 }}\r\n          >\r\n            <Typography variant=\"body2\" style={{ padding: 8 }}>\r\n              {value}\r\n            </Typography>\r\n          </Paper>\r\n        </Popper>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nGridCellExpand.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n};","import '../App.css';\r\nimport API from '../api-service'\r\nimport OrderForm from './OrderForm';\r\nimport OrderUpdateForm from './OrderUpdateForm';\r\nimport GridCellExpand from './GridCellExpand';\r\nimport React, {useState, useEffect} from 'react';\r\nimport {isOverflown, DataGrid, GridToolbar, GridRowsProp, GridColDef, useGridContainerProps } from '@material-ui/data-grid';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Divider, Button, Checkbox, Dialog, DialogActions, DialogTitle, TextField, IconButton } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 700,\r\n  },\r\n  headcell: {\r\n    fontWeight: \"bold\",\r\n    fontSize: \"1rem\",\r\n    padding: \"6px\"\r\n  },\r\n  redbtn: {\r\n    color: \"white\",\r\n    background: \"red\",\r\n    float: \"right\"\r\n  },\r\n  greenbtn: {\r\n    color: \"white\",\r\n    background: \"green\",\r\n    float: \"right\"\r\n  },\r\n  tablecell: {\r\n    padding: \"6px\"\r\n  }\r\n\r\n\r\n});\r\n\r\n//const getDetails = (params) => \r\n\r\nconst columns = [\r\n  { field: 'orderId', headerName: 'Id', width: 150, hide:true },\r\n  { field: 'storeName', headerName: 'Store Name', width: 150 },\r\n  { field: 'displayStatus', headerName: 'Status', width: 150 },\r\n  // { field: 'details', headerName: 'Recipient|Order No|#', width: 150,\r\n  //     valueGetter: getDetails,\r\n  //     sortComparator: (v1, v2, cellParams1, cellParams2) =>\r\n  //       getFullName(cellParams1).localeCompare(getFullName(cellParams2)),},\r\n  { field: 'orderNo', headerName: 'Order No', width: 150 },\r\n  { field: 'orderCount', headerName: 'Order Count', width: 150},\r\n  { field: 'recipientName', headerName: 'Recipent Name', width: 150},\r\n  { field: 'style', headerName: 'Style', width: 350 },\r\n  { field: 'size', headerName: 'Size', width: 150 },\r\n  { field: 'color', headerName: 'Color', width: 150 },\r\n  { field: 'design', headerName: 'Design', width: 150 },\r\n  { field: 'processing', headerName: 'Processing', width: 150 },\r\n  { field: 'printed', headerName: 'Printed', width: 150 },\r\n  { field: 'shipped', headerName: 'Shipped', width: 150 },\r\n  { field: 'sfmNotes', headerName: 'SFM Notes', width: 150 },\r\n  { field: 'giftMessages', headerName: 'Gift Messages', width: 150 },\r\n  { field: 'productAvailability', headerName: 'Product Availability', width: 150 }\r\n];\r\n\r\nfunction Printing(props){\r\n\r\n  const classes = useStyles();\r\n  \r\n  // { id: 1, style: 'dummy1', size: 'dummy ' },\r\n  // { id: 2, style: 'dummy2', size: 'dummy ' }\r\n  const [orders, setOrders] = useState([]);\r\n  const [searchFilteredOrders, setSearchFilteredOrders] = useState([]);\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [mode, setMode] = useState('none');\r\n  const [open, setOpen] = useState(false);\r\n  const [searchString, setSearchString] = useState('');\r\n  const [mySelectedRows, setMySelectedRows] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  //const [myEditedRows, setMyEditedRows] = useState([]);\r\n  \r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleCheckboxClick = (e) =>{\r\n    const oid = parseInt(e.target.dataset.oid)\r\n    console.log(oid);\r\n    console.log(e.target.checked);\r\n    let checkedRows = [];\r\n    if(e.target.checked) \r\n      checkedRows = [...mySelectedRows, oid]\r\n    else{\r\n      const index = mySelectedRows.indexOf(oid);\r\n      if (index > -1)\r\n        mySelectedRows.splice(index, 1);\r\n      checkedRows = [...mySelectedRows];\r\n    }\r\n    console.log(checkedRows);\r\n    setMySelectedRows(checkedRows)\r\n  }\r\n\r\n  // const handleRowSelected = (s) => {\r\n  //   console.log(s);\r\n  //   let rows = [...s.api.current.getSelectedRows().values()];\r\n  //   console.log('selected rows ere : ', rows);\r\n  //   setMyEditedRows(rows);\r\n  // }\r\n\r\n  const handleSpecialButtonsClick = (e) =>{\r\n    console.log(e.currentTarget, e.currentTarget.dataset.oid);\r\n    const oid = parseInt(e.currentTarget.dataset.oid);\r\n    const btype = String(e.currentTarget.dataset.btype);\r\n    let rowdata = orders.find(o => o.orderId == oid);\r\n    let newRow ={};\r\n    console.log(btype);\r\n    if(btype==\"processing\"){\r\n      const processing = rowdata.processing=='Y' ? 'N' : 'Y'\r\n      console.log(processing);\r\n      newRow = {...rowdata, processing}\r\n    }\r\n    if(btype==\"printed\"){\r\n      const printed = rowdata.printed=='Y' ? 'N' : 'Y'\r\n      console.log(printed);\r\n      newRow = {...rowdata, printed}\r\n    }\r\n    if(btype==\"shipped\"){\r\n      const shipped = rowdata.shipped=='Y' ? 'N' : 'Y'\r\n      console.log(shipped);\r\n      newRow = {...rowdata, shipped}\r\n    }\r\n      \r\n    API.updateOrder(token['mr-token'], oid, newRow)\r\n      .then(resp => {\r\n        if(resp.status==200) return resp.json()\r\n        else throw 'Something went wrong';\r\n      })\r\n      .then(data => {\r\n        const updatedRows = orders.map((row) => {\r\n          if (row.orderId == data.orderId)\r\n            return data;          \r\n          return row;\r\n        });\r\n        setMessage('updated order');\r\n        console.log(updatedRows.map(x => x.orderId));\r\n        setOrders(updatedRows)\r\n      })\r\n      .catch(err => {console.log('api error');console.error(err); setMessage('Something went wrong')})\r\n  }\r\n\r\n  // needed to update myEditedRows if cell value changed after selection\r\n  // const handleEditCellChangeCommitted = React.useCallback(\r\n  //   ({ id, field, props }) => {\r\n  //       console.log('cell commit', myEditedRows, props);\r\n  //       const data = props; // Fix eslint value is missing in prop-types for JS files\r\n  //       const updatedRows = myEditedRows.map((row) => {\r\n  //         const obj = {};\r\n  //         obj[field] = data.value;\r\n  //         if (row.orderId === id) {\r\n  //           return { ...row, ...obj};\r\n  //         }\r\n  //         return row;\r\n  //       });\r\n  //       setMyEditedRows(updatedRows);\r\n  //       console.log('cell commit after ', updatedRows);\r\n  //   },\r\n  //   [myEditedRows],\r\n  // );\r\n\r\n  const handleAddClick = (e) => {setMode('add')}\r\n  const handleEditClick = (e) => {setMode('update')}\r\n  const handleDeleteClick = (e) => {setOpen(true)}\r\n  const handleClose = (e) => {setOpen(false)}\r\n\r\n  const handleDeleteConfirm = (e) => {\r\n    console.log('u confirmed delete');\r\n    let errors = [];\r\n    const deleteRows = async () => {\r\n      for(let rowId of mySelectedRows) {\r\n        try{\r\n          const resp = await API.deleteOrder(token['mr-token'], rowId);\r\n          if(resp.status==200 || resp.status==204){\r\n            console.log(`deleted order with id ${rowId}`);\r\n          }          \r\n          else{\r\n            console.log(`Failed to delete order with id ${rowId}`);\r\n            throw `Failed to delete order with id ${rowId}`;\r\n          }\r\n        }\r\n        catch(e){\r\n          console.error(`could not delete order id ${rowId}`, e);\r\n          errors.push(`could not delete order id ${rowId}`);\r\n        }\r\n      }\r\n\r\n      if(errors.length>0)\r\n        setMessage('Some rows were not deleted\\n' + errors.toString() + ' Pleae refresh');\r\n      else\r\n        setMessage('Deleted successfully. Please refresh');\r\n\r\n    }\r\n    setOpen(false);\r\n    deleteRows();\r\n\r\n  }\r\n\r\n  // const handleSelection = (items) => {\r\n  //   console.log(items);    \r\n  //   setMySelectedRows(items.selectionModel);    \r\n  // }\r\n\r\n  useEffect(() => {\r\n    props.setTitle('Printing');\r\n    if(mode=='none')\r\n      fetchlist()\r\n  }, [mode, token]\r\n  );\r\n\r\n  useEffect( () => {\r\n    updateSearchFilteredOrders(searchString);\r\n  }, [orders]);\r\n\r\n  function fetchlist(){\r\n    setLoading(true);\r\n    setMySelectedRows([]);\r\n    API.getPrintingList(token['mr-token'])\r\n    .then(data => {\r\n      let rows = data;\r\n      console.log('fetching orders');\r\n      //console.log(rows.map(r => r.orderId))\r\n      //filter\r\n      \r\n      \r\n      rows.forEach((item, i) => item.id = item.orderId);\r\n\r\n      const sortBy = [ \r\n        {prop:'storeName', direction: 1}, \r\n        {prop:'recipientName', direction: 1}, \r\n        {prop:'orderNo', direction: 1},\r\n        {prop:'orderStatus', direction: 1}\r\n      ];\r\n\r\n      rows.sort(function(a,b){\r\n        let i = 0, result = 0;\r\n        while(i < sortBy.length && result === 0) {\r\n          result = sortBy[i].direction*(a[ sortBy[i].prop ].toString() < b[ sortBy[i].prop ].toString() ? -1 : (a[ sortBy[i].prop ].toString() > b[ sortBy[i].prop ].toString() ? 1 : 0));\r\n          i++;\r\n        }\r\n        return result;\r\n      })\r\n      console.log(rows.map(r => r.orderId));\r\n      setOrders(rows);\r\n      setLoading(false);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e); setLoading(false)});\r\n  }  \r\n\r\n  const updateSearchFilteredOrders = (theSearchString) =>{\r\n    let rows = [...orders];\r\n    if(theSearchString!='')\r\n        rows = rows.filter(r => {\r\n          const str = theSearchString.toLowerCase()\r\n          return r.displayStatus.toLowerCase().search(str)>=0 ||\r\n          r.style.toLowerCase().search(str)>=0 ||\r\n          r.orderNo.toLowerCase().search(str)>=0 ||\r\n          r.storeName.toLowerCase().search(str)>=0 ||\r\n          r.recipientName.toLowerCase().search(str)>=0 ||\r\n          r.design.toLowerCase().search(str)>=0 ||\r\n          r.size.toLowerCase().search(str)>=0 ||\r\n          r.color.toLowerCase().search(str)>=0 ||\r\n          r.productAvailability.toLowerCase().search(str)>=0;\r\n        })\r\n    setMySelectedRows([]);\r\n    setSearchFilteredOrders(rows);\r\n  }\r\n\r\n  let nextGroup = 0;\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  \r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'baseline'}}>\r\n        <div>\r\n          \r\n        </div>\r\n      </div>      \r\n      {message!='' && <div style={{color:\"red\"}}>{message}</div>}\r\n      { mode=='none' ?\r\n        <div>          \r\n          <div style={{ width: '100%', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', flexDirection: 'row'}}>\r\n              \r\n            <div>\r\n              <IconButton color='primary' variant='contained' onClick={handleAddClick}><AddCircleIcon /></IconButton>\r\n              <IconButton variant=\"contained\" color=\"primary\" disabled={mySelectedRows.length==1 ? false:true} onClick={handleEditClick}><EditIcon /></IconButton>\r\n              <IconButton variant=\"contained\" color=\"secondary\" disabled={mySelectedRows.length>0 ? false:true} onClick={handleDeleteClick}><DeleteIcon /></IconButton>\r\n              <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <DialogTitle>\"Are you sure you want to delete the {mySelectedRows.length} items\"</DialogTitle>\r\n                \r\n                <DialogActions>\r\n                  <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n                  <Button onClick={handleDeleteConfirm} color=\"primary\" autoFocus>Confirm</Button>\r\n                </DialogActions>\r\n              </Dialog>\r\n            </div>\r\n            <div>\r\n                <TextField variant=\"outlined\" size=\"small\" margin=\"none\" type=\"text\" value={searchString} text='Search' onChange={(e) => setSearchString(e.target.value)} onKeyPress={e => e.key==\"Enter\" && updateSearchFilteredOrders(e.target.value)}></TextField>\r\n                <Button color=\"primary\" variant=\"contained\" onClick={e => updateSearchFilteredOrders(searchString)}>Search</Button>\r\n              </div>            \r\n          </div>\r\n          \r\n          {/*<div style={{  width: '100%', height: '450px', minWidth:'600px'}}>        \r\n            <DataGrid rows={orders} columns={columns} checkboxSelection  components={{\r\n              Toolbar: GridToolbar,\r\n            }} disableSelectionOnClick={true} onSelectionModelChange={handleSelection} onRowSelected={handleRowSelected} onEditCellChangeCommitted={handleEditCellChangeCommitted} />\r\n          </div>*/}\r\n          {loading ? <h2>Loading...  Please wait</h2>\r\n          :\r\n          <TableContainer component={Paper} style={{height: 'calc(100vh - 140px)'}}>\r\n            <Table className={classes.table} size=\"small\" aria-label=\"spanning table\">\r\n              <TableHead>                \r\n                <TableRow>\r\n                  <TableCell className={classes.tablecell}>\r\n                    <Checkbox\r\n                      disabled={true}\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell className={classes.headcell} >Status</TableCell>\r\n                  <TableCell className={classes.headcell} >Shop</TableCell>\r\n                  <TableCell className={classes.headcell} >Recipient/Order/#</TableCell>\r\n                  <TableCell className={classes.headcell} >Style</TableCell>\r\n                  <TableCell className={classes.headcell} >Size</TableCell>\r\n                  <TableCell className={classes.headcell} >Color</TableCell>\r\n                  <TableCell className={classes.headcell} >Design</TableCell>\r\n                  <TableCell className={classes.headcell} >Msg</TableCell>\r\n                  <TableCell className={classes.headcell} >Processed</TableCell>\r\n                  <TableCell className={classes.headcell} >Printed</TableCell>\r\n                  <TableCell className={classes.headcell} >Shipped</TableCell>\r\n                  <TableCell className={classes.headcell} >Product Availability</TableCell>\r\n                  <TableCell className={classes.headcell} >Notes</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                { searchFilteredOrders.map((row, i, arr) => {\r\n                  let showSpan = false;\r\n                  if(i==nextGroup){\r\n                    showSpan = true;\r\n                    for(let j=i+1;j<arr.length; j++){\r\n                      if(row.orderNo!=arr[j].orderNo || row.storeName!=arr[j].storeName \r\n                        || row.recipientName!=arr[j].recipientName || row.displayStatus!=arr[j].displayStatus){\r\n                          nextGroup = j;\r\n                          break;\r\n                        }                        \r\n                    }\r\n                  }\r\n                  return (\r\n                    <TableRow key={row.orderId}>\r\n                    <TableCell className={classes.tablecell}>\r\n                      <Checkbox\r\n                        inputProps={{ 'data-oid' : row.orderId }}\r\n                        onChange={handleCheckboxClick}\r\n                      />\r\n                    </TableCell>\r\n                    {showSpan && <TableCell style={{ whiteSpace : 'nowrap'}} rowSpan={nextGroup-i} className={classes.tablecell}>{row.displayStatus}</TableCell>}\r\n                    {showSpan && <TableCell style={{ whiteSpace : 'nowrap'}} rowSpan={nextGroup-i} className={classes.tablecell}>{row.storeName}</TableCell>}\r\n                    {showSpan && <TableCell style={{ whiteSpace : 'nowrap'}} rowSpan={nextGroup-i} className={classes.tablecell}><div >{row.recipientName}</div><div>{row.orderNo}</div><div>{row.orderCount}</div></TableCell>}\r\n                    <TableCell style={{ whiteSpace : 'nowrap'}} className={classes.tablecell}>{row.style}</TableCell>\r\n                    <TableCell style={{ whiteSpace : 'nowrap'}} className={classes.tablecell}>{row.size}</TableCell>\r\n                    <TableCell style={{ whiteSpace : 'nowrap'}} className={classes.tablecell}>{row.color}</TableCell>\r\n                    <TableCell style={{ whiteSpace : 'nowrap'}} className={classes.tablecell}>{row.design}</TableCell>\r\n                    <TableCell style={{  maxWidth: '50px'}} className={classes.tablecell}>{row.giftMessages && <EmailIcon />}</TableCell>\r\n                    <TableCell className={classes.tablecell}><Button onClick={handleSpecialButtonsClick} data-oid={row.orderId} data-btype={\"processing\"} className={row.processing=='Y' ? classes.greenbtn : classes.redbtn} variant=\"contained\">{row.processing}</Button></TableCell>\r\n                    <TableCell className={classes.tablecell}><Button onClick={handleSpecialButtonsClick} data-oid={row.orderId} data-btype={\"printed\"} className={row.printed=='Y' ? classes.greenbtn : classes.redbtn} variant=\"contained\">{row.printed}</Button></TableCell>\r\n                    <TableCell className={classes.tablecell}><Button onClick={handleSpecialButtonsClick} data-oid={row.orderId} data-btype={\"shipped\"} className={row.shipped=='Y' ? classes.greenbtn : classes.redbtn} variant=\"contained\">{row.shipped}</Button></TableCell>\r\n                    <TableCell className={classes.tablecell}>{row.productAvailability}</TableCell>\r\n                    <TableCell className={classes.tablecell} style={{ maxWidth : '150px', whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\"}}>{row.sfmNotes}</TableCell>\r\n                  </TableRow>);\r\n                  })\r\n                }                \r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n          }\r\n          </div>\r\n        :\r\n        (mode==\"add\" ?\r\n          <OrderForm mode={mode} setMode={setMode}></OrderForm>\r\n          :\r\n          <OrderUpdateForm id={mySelectedRows[0]} mode={mode} setMode={setMode}></OrderUpdateForm>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Printing;\r\n","import API from '../api-service'\r\nimport React, {useState, useEffect} from 'react';\r\nimport {Button, TextField, MenuItem, Typography, Divider, Paper } from '@material-ui/core';\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst getDeafultStartDate = () => {\r\n  const d = new Date();\r\n  d.setDate(d.getDate() - 30);\r\n  //d.toISOString().split('T')[0];\r\n  const offset = d.getTimezoneOffset()\r\n  const d2 = new Date(d.getTime() - (offset*60*1000))\r\n  return d2.toISOString().split('T')[0]\r\n}\r\n\r\nfunction Dashboard(props){\r\n\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n  const [errormsg, setErrormsg] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [availableStores, setAvailableStores] = useState([]);\r\n  const [inventory, setInventory] = useState([]);\r\n  const [selectedStore, setSelectedStore] = useState('');\r\n  \r\n  const [startDate, setStartDate] = useState(getDeafultStartDate());\r\n  const [endDate, setEndDate] = useState('');\r\n  const [recievedData, setRecievedData] = useState({});\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      props.setTitle('Dashboard');\r\n      try{\r\n        const resp = await API.getStoreList(token['mr-token']);\r\n        let stores = await resp.json();\r\n        if(stores.length==0){\r\n          throw 'No stores available';\r\n        }\r\n        if(usertype==0){\r\n          const userid = userInfo['mr-user'].split('-')[0];\r\n          stores = stores.filter(s => s.user==userid);\r\n        }\r\n        else\r\n          stores.unshift({storeName:'All', storeCode:'All'});\r\n        setAvailableStores(stores);\r\n        let defaultStore = stores[0].storeCode;\r\n        if(usertype==1)\r\n          defaultStore = 'All';\r\n        setSelectedStore(defaultStore);\r\n        displaysummary(defaultStore, startDate, endDate);\r\n      }catch(e){\r\n        console.log(\"api error\");\r\n        console.error(e);\r\n        setErrormsg('Something went wrong. Please refresh');\r\n      }\r\n\r\n      if(usertype==1){\r\n        try{\r\n          const invdata = await API.getInventoryList(token['mr-token']);\r\n          //console.log(invdata);\r\n          setInventory(invdata);\r\n        }      \r\n        catch(e){\r\n          console.log(\"api error\");\r\n          console.error(e);\r\n          setErrormsg('Something went wrong. Please refresh');\r\n        }\r\n      }\r\n      setLoading(false);\r\n    })();\r\n  }, []\r\n  );\r\n\r\n  const storeChanged = (e) => {\r\n    console.log(e.target.value);\r\n    setSelectedStore(e.target.value);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(startDate, endDate);\r\n    console.log(selectedStore, typeof(startDate))\r\n    displaysummary(selectedStore, startDate, endDate);    \r\n  }\r\n\r\n  const displaysummary = (store, startDate, endDate) =>{\r\n    console.log(store);\r\n    if(store==''){\r\n      setErrormsg('Please choose a store');\r\n      return;\r\n    }\r\n    const params = {store, startDate, endDate}\r\n    API.getOverview(token['mr-token'], params)\r\n    .then(resp => {\r\n      if(resp.status==200)\r\n        return resp.json();\r\n      else\r\n        throw 'Something went wrong. Please make sure store is selected.';\r\n    })\r\n    .then(data => {setRecievedData(data)})\r\n    .catch(err => {\r\n      console.log(err);\r\n      setErrormsg(String(err));\r\n    });\r\n  }\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(usertype==2)\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(loading)\r\n    return (<div>Loading. Please wait</div>);\r\n  return (\r\n        <div>\r\n          {errormsg && <h3 style={{color:\"red\"}}>{errormsg}</h3>}\r\n          <div style={{ width: '100%', display: 'flex', justifyContent: 'space-around', alignItems: \"center\"}}>\r\n          <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          select\r\n          style={{minWidth: \"250px\"}}\r\n          label=\"Store\"\r\n          name=\"store\"\r\n          value={selectedStore}\r\n          onChange={storeChanged}\r\n          >\r\n            {availableStores.map((option) => (\r\n              <MenuItem key={option.storeCode} value={option.storeCode}>\r\n                {option.storeName}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            label=\"Start Date\"\r\n            name=\"startDate\"\r\n            type=\"date\"\r\n            value = {startDate}\r\n            onChange={(e) => setStartDate(e.target.value)}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            label=\"End Date\"\r\n            name=\"endtDate\"\r\n            type=\"date\"\r\n            value = {endDate}\r\n            onChange={(e) => setEndDate(e.target.value)}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleSubmit}\r\n          >\r\n          Submit\r\n          </Button>\r\n          </div>\r\n          <Paper style={{padding:\"10px\", margin: \"5px\", marginTop: \"15px\"}}>\r\n            <Typography variant=\"h4\">\r\n              <strong>Orders Summary</strong>\r\n            </Typography>\r\n            <Typography>\r\n            <strong>Total Orders &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.total}\r\n            </Typography>\r\n            <Typography>\r\n            <strong>Fulfilled &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.fulfilled}\r\n            </Typography>\r\n            <Typography>\r\n            <strong>Unfulfilled &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.unfulfilled}\r\n            </Typography>\r\n            <Typography>\r\n            <strong>OnHold &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.onhold}\r\n            </Typography>\r\n            <Typography>\r\n            <strong>Out Of Stock &nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.outofstock}\r\n            </Typography>\r\n          </Paper>\r\n          { usertype==1 &&\r\n          <div>\r\n            <Paper style={{padding:\"10px\", margin: \"5px\", marginTop: \"15px\"}}>\r\n            <Typography variant=\"h4\">\r\n              <strong>General</strong>\r\n            </Typography>\r\n              <Typography>\r\n                <strong>Products &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>\r\n                {inventory.length>0 && [...new Set(inventory.map(i => i.style))].length}\r\n              </Typography>\r\n              <Typography>\r\n              <strong>Store Count &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.storecount}\r\n              </Typography>\r\n            </Paper>\r\n            <Paper style={{padding:\"10px\", margin: \"5px\", marginTop: \"15px\"}}>\r\n              <Typography variant=\"h4\">\r\n                <strong>Inventory Needs</strong>\r\n              </Typography>\r\n              <table style={{padding: \"20px\"}}>\r\n              {inventory.length>0 && inventory.filter(inv => inv.needToPurchase>0).map( (i) => (\r\n                  <tr key={i.sfmId}>\r\n                    <td><strong>{i.style} - {i.size} - {i.color} {}</strong></td>\r\n                    <td><strong>: </strong>{i.needToPurchase}</td>\r\n                  </tr>\r\n              ))}\r\n              </table>\r\n            </Paper>\r\n          </div>\r\n          }\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;","import API from '../api-service';\r\nimport React, {useState, useEffect} from 'react';\r\nimport {Button, TextField} from '@material-ui/core';\r\nimport { useCookies } from 'react-cookie';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport default function AccountDetails(props){\r\n\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo, setUserInfo] = useCookies(['mr-user']);\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [old_password, setOldPassword] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n  const [first_name, setFirstName] = useState('');\r\n  const [last_name, setLastName] = useState('');\r\n  const [changePassword, setChangePassword] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [errormsg, setErrormsg] = useState({});\r\n\r\n  const userId = parseInt(userInfo['mr-user'].split('-')[0])\r\n  useEffect(() => {\r\n    (async () => {\r\n      props.setTitle('My Account');\r\n      try{\r\n        const resp = await API.getAccountDetails(token['mr-token'], userId)\r\n        const data = await resp.json();\r\n        setUsername(data['username']);\r\n        setEmail(data['email']);\r\n        setLastName(data['last_name']);\r\n        setFirstName(data['first_name']);\r\n      }\r\n      catch(e){\r\n        console.log(\"api error\");\r\n        console.error(e);\r\n      }\r\n    })();\r\n  }, [])\r\n\r\n  const handleSave = async (e) => {\r\n    try{\r\n      const resp = await API.updateProfile(token['mr-token'], userId, {email, first_name, last_name})\r\n      if(resp.status==200){\r\n        setErrormsg('');\r\n        setMessage('Updated Successfully');\r\n      }\r\n        \r\n      if(resp.status==400){\r\n        console.log('dddd');\r\n        setMessage('Invalid Data');\r\n        setErrormsg(await resp.json());\r\n      }      \r\n    }\r\n    catch(e){\r\n      setMessage('Something went wrong');\r\n      console.log(\"api error\");\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  const handleChangePassword = async (e) => {\r\n    try{\r\n      const resp = await API.changePassword(token['mr-token'], userId, {password, password2, old_password})\r\n      if(resp.status==200){\r\n        setErrormsg('');\r\n        setMessage('Password Changed Successfully');\r\n      }\r\n        \r\n      if(resp.status==400){\r\n        setMessage('Invalid Data');\r\n        setErrormsg(resp.json());\r\n      }      \r\n    }\r\n    catch(e){\r\n      setMessage('Something went wrong');\r\n      console.log(\"api error\");\r\n      console.error(e);\r\n    }\r\n  }\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      <div>\r\n        {changePassword===false ? <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={(e) => setChangePassword(true)}\r\n        >\r\n        Change Password\r\n        </Button>\r\n        :\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={(e) => setChangePassword(false)}\r\n        >\r\n        Back\r\n        </Button>\r\n      }\r\n      </div>\r\n      {message && <h3 style={{color:\"red\"}}>{message}</h3>}\r\n      {changePassword==false ?\r\n        <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          disabled\r\n          id=\"username\"\r\n          label=\"Username\"\r\n          name=\"username\"\r\n          value={username}\r\n          inputProps={{maxLength:20}}\r\n          helperText = {errormsg['username'] ? errormsg['orderNo'][0]:''}\r\n          error = {errormsg['username'] ? true: false}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          id=\"email\"\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={ (e) => setEmail(e.target.value) }\r\n          inputProps={{maxLength:50}}\r\n          helperText = {errormsg['email'] ? errormsg['email'][0]:''}\r\n          error = {errormsg['email'] ? true: false}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          id=\"first_name\"\r\n          label=\"First Name\"\r\n          name=\"first_name\"\r\n          value={first_name}\r\n          onChange={ (e) => setFirstName(e.target.value) }\r\n          inputProps={{maxLength:20}}\r\n          helperText = {errormsg['first_name'] ? errormsg['first_name'][0]:''}\r\n          error = {errormsg['first_name'] ? true: false}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          id=\"last_name\"\r\n          label=\"Last Name\"\r\n          name=\"last_name\"\r\n          value={last_name}\r\n          onChange={ (e) => setLastName(e.target.value) }\r\n          inputProps={{maxLength:20}}\r\n          helperText = {errormsg['last_name'] ? errormsg['last_name'][0]:''}\r\n          error = {errormsg['last_name'] ? true: false}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={handleSave}\r\n        >\r\n        Save Changes\r\n        </Button>\r\n        </div>\r\n        :\r\n        <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            id=\"old_password\"\r\n            label=\"old_password\"\r\n            name=\"old_password\"\r\n            type=\"password\"\r\n            value={old_password}\r\n            onChange={ (e) => setOldPassword(e.target.value) }\r\n            inputProps={{maxLength:20}}\r\n            helperText = {errormsg['old_password'] ? errormsg['old_password'][0]:''}\r\n            error = {errormsg['old_password'] ? true: false}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            id=\"password\"\r\n            label=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={ (e) => setPassword(e.target.value) }\r\n            inputProps={{maxLength:20}}\r\n            helperText = {errormsg['password'] ? errormsg['password'][0]:''}\r\n            error = {errormsg['password'] ? true: false}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            id=\"password2\"\r\n            label=\"password2\"\r\n            name=\"password2\"\r\n            type=\"password\"\r\n            value={password2}\r\n            onChange={ (e) => setPassword2(e.target.value) }\r\n            inputProps={{maxLength:20}}\r\n            helperText = {errormsg['password2'] ? errormsg['password2'][0]:''}\r\n            error = {errormsg['password2'] ? true: false}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleChangePassword}\r\n          >\r\n          Confirm\r\n          </Button>\r\n        </div>\r\n      }\r\n    </div>\r\n    \r\n  );\r\n}","import API from '../api-service';\r\nimport React, {useState, useEffect} from 'react'\r\nimport { DataGrid, GridToolbar} from '@material-ui/data-grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst getDeafultStartDate = () => {\r\n  const d = new Date();\r\n  d.setDate(d.getDate() - d.getDay() - 7);\r\n  const offset = d.getTimezoneOffset();\r\n  const d2 = new Date(d.getTime() - (offset*60*1000));\r\n  return d2.toISOString().split('T')[0];\r\n}\r\n\r\nconst getDeafultEndDate = () => {\r\n  const d = new Date();\r\n  d.setDate(d.getDate() - d.getDay() - 1);\r\n  const offset = d.getTimezoneOffset();\r\n  const d2 = new Date(d.getTime() - (offset*60*1000));\r\n  return d2.toISOString().split('T')[0];\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  redcolor: {\r\n    background: 'red',\r\n    color: 'white'\r\n  },\r\n  greencolor: {\r\n    background: 'green',\r\n    color: 'white'\r\n  }\r\n\r\n});\r\n\r\nexport default function Invoices(props){\r\n  const classes = useStyles();\r\n\r\n  //{ id: 1, style: 'dummy1', size: 'dummy ' },\r\n  //{ id: 2, style: 'dummy2', size: 'dummy ' }\r\n  const [invoices, setInvoices] = useState([]);\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [printInvoice, setPrintInvoice] = useState(-1);\r\n  const [message, setMessage] = useState('');\r\n  const [startDate, setStartDate] = useState(getDeafultStartDate());\r\n  const [endDate, setEndDate] = useState(getDeafultEndDate());\r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: 'Id', width: 150, hide: true },\r\n    { field: 'receipt', headerName: 'Receipt', width: 110,\r\n        renderCell: (params) => {\r\n            return(\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              data-pid={params.id}\r\n              onClick={handleOpenReceipt}\r\n            >\r\n              Open\r\n            </Button>);\r\n        },\r\n    },\r\n    { field: 'startDate', headerName: 'Start Date', width: 130 },\r\n    { field: 'endDate', headerName: 'End Date', width: 130 },\r\n    { field: 'storeName', headerName: 'Store', width: 150 },\r\n    { field: 'invoiceNo', headerName: 'Invoice Number', width: 200 },\r\n    { field: 'status', headerName: 'Status', width: 110,\r\n      renderCell: (params) => {\r\n          return(\r\n          <Button\r\n            variant=\"contained\"\r\n            className={params.value==\"Paid\"?classes.greencolor:classes.redcolor}\r\n            size=\"small\"\r\n            data-pid={params.id}\r\n            onClick={handleStatusChange}\r\n          >\r\n            {params.value}\r\n          </Button>);\r\n      },\r\n    },\r\n    { field: 'total', headerName: 'Total', width: 110 },    \r\n    { field: 'notes', headerName: 'Notes', width: 150 }  \r\n  ];\r\n\r\n  const handleStatusChange = (e) => {\r\n    const pid = parseInt(e.currentTarget.dataset.pid);\r\n    let rowdata = invoices.find(p => p.id == pid);\r\n    const status = rowdata.status=='Paid' ? 'UnPaid': 'Paid'\r\n    const newRow = {...rowdata, status}\r\n    API.updateInvoice(token['mr-token'], pid, newRow)\r\n      .then(resp => {\r\n        if(resp.status==200) return resp.json();\r\n        if(resp.status==400) throw JSON.stringify(resp.json());\r\n        else throw 'Unknown reason. Please refresh';\r\n      })\r\n      .then(data => {\r\n        const updatedRows = invoices.map((row) => {\r\n          if (row.id == data.id)\r\n            return data;          \r\n          return row;\r\n        });\r\n        setMessage('Status Updated');\r\n        setInvoices(updatedRows);\r\n      })\r\n      .catch(err => {console.log('api error');console.error(err); setMessage('Something went wrong, ' + String(err))});\r\n\r\n    console.log(e.target.value);\r\n  }\r\n\r\n  const handleOpenReceipt = (e) => {\r\n    const pid = parseInt(e.currentTarget.dataset.pid);\r\n    console.log(pid);\r\n    setPrintInvoice(pid);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(startDate, endDate);\r\n    (async () => {\r\n      try{\r\n        const resp = await API.generateInvoices(token['mr-token'], {startDate, endDate})\r\n        if(resp.status!=200)\r\n          throw `invalid status ${resp.status} ${resp.statusText}`;\r\n        const result = await resp.json();\r\n        setMessage(`${result['count']} invoices created `, String(result['errors']));\r\n      }\r\n      catch(e){\r\n        console.log(\"api error\");\r\n        console.error(e);\r\n        setMessage('Something went wrong. Please refresh.');\r\n      }\r\n    })();\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      props.setTitle('Invoices');\r\n      try{\r\n        const resp = await API.getInvoiceList(token['mr-token'])\r\n        if(resp.status!=200)\r\n          throw `invalid status ${resp.status} ${resp.statusText}`;\r\n        const data = await resp.json();\r\n        setInvoices(data);\r\n      }\r\n      catch(e){\r\n        console.log(\"api error\");\r\n        console.error(e);\r\n        setMessage('Something went wrong. Please refresh.');\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(printInvoice!=-1)\r\n    return (<Redirect to={{pathname:'/printinvoice', state: {invoiceid: printInvoice}}}></Redirect>);\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      {message!='' && <div style={{color:\"red\"}}>{message}</div>}\r\n      {usertype==1 && \r\n        <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-end', alignItems: 'baseline', flexWrap: 'wrap', flexDirection: 'row'}}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            label=\"Start Date\"\r\n            name=\"startDate\"\r\n            type=\"date\"\r\n            size=\"small\"\r\n            value = {startDate}\r\n            onChange={(e) => setStartDate(e.target.value)}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            label=\"End Date\"\r\n            name=\"endtDate\"\r\n            type=\"date\"\r\n            size=\"small\"\r\n            value = {endDate}\r\n            onChange={(e) => setEndDate(e.target.value)}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          /><Button color=\"primary\" variant=\"contained\" size=\"small\" onClick={handleSubmit}>Generate Invoices</Button>\r\n      </div>}\r\n      <div style={{ width: '100%', minWidth:'600px', height:'calc(100vh - 100px)'}}>\r\n        <DataGrid rows={invoices} columns={columns} components={{\r\n          Toolbar: GridToolbar,\r\n        }} disableColumnMenu/>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import {Switch, Route} from 'react-router-dom'\r\nimport React from 'react'\r\nimport ProductDetails from './productDetails';\r\nimport StoreDetails from './StoreDetails';\r\nimport PurchaseList from './PurchaseList';\r\nimport InventoryList from './InventoryList';\r\nimport OrderList from './OrderList';\r\nimport Printing from './Printing';\r\nimport Dashboard from './Dashboard';\r\nimport AccountDetails from './AccountDetails';\r\nimport Invoices from './Invoices';\r\n\r\nfunction TheContent(props){\r\n  const setTitle = props.setTitle;\r\n  return (    \r\n        <Switch>\r\n        <Route exact path='/' render={ props => <div {...props}>Welcome To SFM Dropshipping</div>} />\r\n        <Route exact path='/dashboard' render={(props) => (<Dashboard {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/products' render={(props) => (<ProductDetails {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/stores' render={(props) => (<StoreDetails {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/purchases' render={(props) => (<PurchaseList {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/inventory' render={(props) => (<InventoryList {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/orders' render={(props) => (<OrderList {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/printing' render={(props) => (<Printing {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/accountdetails' render={(props) => (<AccountDetails {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/invoices' render={(props) => (<Invoices {...props} setTitle={setTitle} />)} />\r\n          {/* <Route exact path=\"/register\" name=\"Register Page\" render={props => <Register {...props}/>} />\r\n          <Route exact path=\"/404\" name=\"Page 404\" render={props => <Page404 {...props}/>} />\r\n          <Route exact path=\"/500\" name=\"Page 500\" render={props => <Page500 {...props}/>} />\r\n          <Route path=\"/\" name=\"Home\" render={props => <TheLayout {...props}/>} /> */}\r\n        </Switch>\r\n  );\r\n}\r\n\r\nexport default TheContent;","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Box from '@material-ui/core/Box';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport Button from '@material-ui/core/Button';\r\nimport AccountCircleRoundedIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { mainListItems, staffListItems, clientListItems , secondaryListItems } from './listItems';\r\nimport companylogo from './logo.png';\r\n// import Chart from './Chart';\r\n// import Deposits from './Deposits';\r\n\r\nimport {Route, BrowserRouter, Redirect} from 'react-router-dom';\r\nimport {Link} from 'react-router-dom';\r\nimport { useCookies } from 'react-cookie';\r\nimport TheContent from './TheContent';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    backgroundColor: \"rgb(47,83,149)\",\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n    paddingBottom: \"5px\",\r\n    paddingTop: \"10px\",\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    textAlign: 'center'\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n    padding: '5px',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(0),\r\n    paddingLeft: '0px',\r\n    paddingRight: '0px',\r\n    },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function TheLayout() {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const [title, setTitle] = React.useState('Home');\r\n  const [token, setToken, removeToken] = useCookies(['mr-token']);\r\n  const [userInfo, setUserInfo, removeUserInfo] = useCookies(['mr-user']);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSignOut = (e) => {\r\n    removeToken('mr-token');\r\n    removeUserInfo('mr-user');\r\n  }\r\n\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n\r\n  let usertype=0;\r\n  if(userInfo['mr-user'])\r\n    usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n  \r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h4\" color=\"inherit\" noWrap className={classes.title}>\r\n            {title}\r\n          </Typography>\r\n          <img src={companylogo} alt='SFM logo' style={{width:\"120px\"}}></img>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        {usertype==0 && <List>{clientListItems}</List>}\r\n        {usertype==1 && <List>{mainListItems}</List>}\r\n        {usertype==2 && <List>{staffListItems}</List>}\r\n        <Divider />\r\n        <ListItem button component={Link} to='/accountDetails'>\r\n          <ListItemIcon>\r\n            <AccountCircleRoundedIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"My Account\" />\r\n        </ListItem>\r\n        <ListItem button onClick={handleSignOut}>\r\n          <ListItemIcon>\r\n            <ExitToAppIcon color=\"secondary\"/>\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Sign Out\" />\r\n        </ListItem>\r\n        <Divider />\r\n        {usertype==1 && <List>{secondaryListItems}</List> }\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        <Container maxWidth={false} className={classes.container}>\r\n          <TheContent setTitle={setTitle}/>\r\n        </Container>\r\n      </main>\r\n    </div>\r\n  );\r\n}","export const APIROOT = 'https://sfm-dropshipping.herokuapp.com';\r\n//export const APIROOT = 'http://127.0.0.1:8000';\r\n\r\nexport default class API{\r\n  static getProductList(token){\r\n    return fetch(APIROOT + '/api/products/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static getProduct(token, id){\r\n    return fetch(APIROOT + '/api/products/' + id + '/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static addProduct(token, data){\r\n    return fetch(APIROOT + '/api/products/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static updateProduct(token, id, data){\r\n    return fetch(APIROOT + '/api/products/' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static deleteProduct(token, id){\r\n    return fetch(APIROOT + '/api/products/' + id + '/', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n    })\r\n  }\r\n\r\n  static getStoreList(token){\r\n    return fetch(APIROOT + '/api/stores/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static getPurchasesList(token){\r\n    return fetch(APIROOT + '/api/purchases/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static getPurchase(token, id){\r\n    return fetch(APIROOT + '/api/purchases/' + id + '/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static addPurchase(token, data){\r\n    return fetch(APIROOT + '/api/purchases/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static updatePurchase(token, id, data){\r\n    return fetch(APIROOT + '/api/purchases/' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static deletePurchase(token, id){\r\n    return fetch(APIROOT + '/api/purchases/' + id + '/', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n    })\r\n  }\r\n\r\n  static getInventoryList(token){\r\n    return fetch(APIROOT + '/api/inventory/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    }).then(resp => resp.json())\r\n  }\r\n\r\n  static getOrderList(token){\r\n    return fetch(APIROOT + '/api/orders/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    }).then(resp => resp.json())\r\n  }\r\n\r\n  static getPrintingList(token){\r\n    return fetch(APIROOT + '/api/printing/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    }).then(resp => resp.json())\r\n  }\r\n\r\n  static getOrder(token, id){\r\n    return fetch(APIROOT + '/api/orders/' + id + '/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static addOrder(token, data){\r\n    return fetch(APIROOT + '/api/orders/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static deleteOrder(token, id){\r\n    return fetch(APIROOT + '/api/orders/' + id + '/', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n    })\r\n  }\r\n\r\n  static updateOrder(token, id, data){\r\n    return fetch(APIROOT + '/api/orders/' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static getInvoiceList(token){\r\n    return fetch(APIROOT + '/api/invoices/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static getInvoice(token, id){\r\n    return fetch(APIROOT + '/api/invoices/' + id + '/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static updateInvoice(token, id, data){\r\n    return fetch(APIROOT + '/api/invoices/' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static generateInvoices(token, data){\r\n    return fetch(APIROOT + '/api/invoices/generate_invoices/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static uploadOrdersFile(token, data){\r\n    return fetch(APIROOT + '/api/orders/import_ordersfile/',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n        headers: {\r\n          // 'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Token ${token}`\r\n        },\r\n\t\t\t\tbody: data,\r\n\t\t\t}\r\n\t\t)\r\n  }\r\n\r\n  static uploadShippingFile(token, data){\r\n    return fetch(APIROOT + '/api/orders/import_shippingfile/',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n        headers: {\r\n          // 'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Token ${token}`\r\n        },\r\n\t\t\t\tbody: data,\r\n\t\t\t}\r\n\t\t)\r\n  }\r\n\r\n  static uploadPurchasesFile(token, data){\r\n    return fetch(APIROOT + '/api/purchases/import_file/',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n        headers: {\r\n          // 'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Token ${token}`\r\n        },\r\n\t\t\t\tbody: data,\r\n\t\t\t}\r\n\t\t)\r\n  }\r\n\r\n  static uploadProductsFile(token, data){\r\n    return fetch(APIROOT + '/api/products/import_file/',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n        headers: {\r\n          // 'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Token ${token}`\r\n        },\r\n\t\t\t\tbody: data,\r\n\t\t\t}\r\n\t\t)\r\n  }\r\n\r\n  static getOverview(token, data){\r\n    return fetch(APIROOT + '/api/orders/get_overview/',\r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static signinUser(credentials){\r\n    return fetch(APIROOT + '/api-token-auth/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(credentials)\r\n    })\r\n  }\r\n\r\n  static getAccountDetails(token, id){\r\n    return fetch(APIROOT + '/api/accounts/' + id + '/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static updateProfile(token, id, data){\r\n    return fetch(APIROOT + '/api/accounts/update_profile/' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static changePassword(token, id, data){\r\n    return fetch(APIROOT + '/api/accounts/change_password' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n}"],"sourceRoot":""}