(this["webpackJsonptnm-app"]=this["webpackJsonptnm-app"]||[]).push([[6],{108:function(e,t,r){"use strict";t.a=r.p+"static/media/logo.2cf1827a.png"},270:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return ct}));var n,a,o,i,c,s=r(43),l=r(17),d=r(11),u=r(0),j=r.n(u),h=r(40),b=r(123),p=r(219),m=r(281),f=r(267),O=r(259),x=r(230),g=r(209),v=r(268),y=r(232),S=r(218),w=r(168),k=r.n(w),N=r(169),C=r.n(N),T=r(170),P=r.n(T),D=r(171),I=r.n(D),L=r(235),z=r(236),W=r(237),E=r(161),F=r.n(E),A=r(238),M=r(239),V=r(240),q=r(241),U=r(242),_=r(243),R=r(244),G=r(245),Y=r(10),B=r(45),J=r(3),K=Object(J.jsxs)("div",{children:[Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/dashboard",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(F.a,{})}),Object(J.jsx)(W.a,{primary:"Dashboard"})]}),Object(J.jsxs)(L.a,(n={button:!0},Object(l.a)(n,"button",!0),Object(l.a)(n,"component",Y.b),Object(l.a)(n,"to","/orders"),Object(l.a)(n,"children",[Object(J.jsx)(z.a,{children:Object(J.jsx)(A.a,{})}),Object(J.jsx)(W.a,{primary:"Orders"})]),n)),Object(J.jsxs)(L.a,(a={button:!0},Object(l.a)(a,"button",!0),Object(l.a)(a,"component",Y.b),Object(l.a)(a,"to","/printing"),Object(l.a)(a,"children",[Object(J.jsx)(z.a,{children:Object(J.jsx)(M.a,{})}),Object(J.jsx)(W.a,{primary:"Printing"})]),a)),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/stores",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(V.a,{})}),Object(J.jsx)(W.a,{primary:"Stores"})]}),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/inventory",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(q.a,{})}),Object(J.jsx)(W.a,{primary:"Inventory"})]}),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/purchases",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(U.a,{})}),Object(J.jsx)(W.a,{primary:"Purchases"})]}),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/products",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(_.a,{})}),Object(J.jsx)(W.a,{primary:"Products"})]}),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/invoices",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(R.a,{})}),Object(J.jsx)(W.a,{primary:"Invoices"})]})]}),H=Object(J.jsxs)("div",{children:[Object(J.jsxs)(L.a,(o={button:!0},Object(l.a)(o,"button",!0),Object(l.a)(o,"component",Y.b),Object(l.a)(o,"to","/orders"),Object(l.a)(o,"children",[Object(J.jsx)(z.a,{children:Object(J.jsx)(A.a,{})}),Object(J.jsx)(W.a,{primary:"Orders"})]),o)),Object(J.jsxs)(L.a,(i={button:!0},Object(l.a)(i,"button",!0),Object(l.a)(i,"component",Y.b),Object(l.a)(i,"to","/printing"),Object(l.a)(i,"children",[Object(J.jsx)(z.a,{children:Object(J.jsx)(M.a,{})}),Object(J.jsx)(W.a,{primary:"Printing"})]),i)),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/inventory",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(q.a,{})}),Object(J.jsx)(W.a,{primary:"Inventory"})]}),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/purchases",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(U.a,{})}),Object(J.jsx)(W.a,{primary:"Purchases"})]}),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/products",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(_.a,{})}),Object(J.jsx)(W.a,{primary:"Products"})]})]}),Z=Object(J.jsxs)("div",{children:[Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/dashboard",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(F.a,{})}),Object(J.jsx)(W.a,{primary:"Dashboard"})]}),Object(J.jsxs)(L.a,(c={button:!0},Object(l.a)(c,"button",!0),Object(l.a)(c,"component",Y.b),Object(l.a)(c,"to","/orders"),Object(l.a)(c,"children",[Object(J.jsx)(z.a,{children:Object(J.jsx)(A.a,{})}),Object(J.jsx)(W.a,{primary:"Orders"})]),c)),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/stores",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(V.a,{})}),Object(J.jsx)(W.a,{primary:"Stores"})]}),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/products",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(_.a,{})}),Object(J.jsx)(W.a,{primary:"Products"})]}),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/invoices",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(R.a,{})}),Object(J.jsx)(W.a,{primary:"Invoice"})]})]}),X=Object(J.jsx)("div",{children:Object(J.jsxs)(L.a,{button:!0,component:"a",href:B.a+"/admin",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(G.a,{})}),Object(J.jsx)(W.a,{primary:"Django Admin"})]})}),$=r(108),Q=r(1),ee=r(157),te=r(51),re=r.n(te),ne=r(89),ae=r(52),oe=r(47),ie=(r(21),r(62)),ce=r(246),se=r(249),le=r(250),de=r(233),ue=r(280),je=r(90),he=r.n(je),be=r(80),pe=r.n(be),me=r(91),fe=r.n(me),Oe=r(220),xe=Object(b.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ge(e){var t=xe(),r=Object(ee.a)(["mr-token"]),n=Object(s.a)(r,1)[0],a=Object(ee.a)(["mr-userInfo"]),o=Object(s.a)(a,1)[0],i=Object(u.useState)({}),c=Object(s.a)(i,2),l=c[0],j=c[1],h=Object(u.useState)({}),b=Object(s.a)(h,2),p=b[0],m=b[1],f=Object(u.useState)(!1),O=Object(s.a)(f,3),x=O[0],v=O[1];O[2];console.log("opened form"),Object(u.useEffect)((function(){"update"==e.mode&&function(){var t=Object(ae.a)(re.a.mark((function t(){var r,a;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.b.getProduct(n["mr-token"],e.id);case 3:if(200!=(r=t.sent).status){t.next=12;break}return t.next=7,r.json();case 7:a=t.sent,console.log("retreiving data"),m(a),t.next=13;break;case 12:throw"Could not get the product details";case 13:t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),console.log("api error"),console.error(t.t0),j({form:String(t.t0)});case 20:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}()()}),[]);var y=function(){var t=Object(ae.a)(re.a.mark((function t(r,a){var o,i;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.b.updateProduct(n["mr-token"],r,a);case 3:if(o=t.sent,console.log("response status ",o.status),200!=o.status){t.next=11;break}v(!0),alert("Saved Successfully"),e.setMode("none"),t.next=20;break;case 11:if(400!=o.status){t.next=19;break}return console.log(o),t.next=15,o.json();case 15:i=t.sent,j(i),t.next=20;break;case 19:throw"Failed due to unknown reasons";case 20:t.next=27;break;case 22:t.prev=22,t.t0=t.catch(0),console.log("api error"),console.error(t.t0),j({form:String(t.t0)});case 27:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e,r){return t.apply(this,arguments)}}(),S=function(){var t=Object(ae.a)(re.a.mark((function t(r){var a,o;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.b.addProduct(n["mr-token"],r);case 3:if(a=t.sent,console.log("response status ",a.status),201!=a.status){t.next=11;break}v(!0),alert("Saved Successfully"),e.setMode("none"),t.next=20;break;case 11:if(400!=a.status){t.next=19;break}return console.log(a),t.next=15,a.json();case 15:o=t.sent,j(o),t.next=20;break;case 19:throw"Failed due to unknown reasons";case 20:t.next=27;break;case 22:t.prev=22,t.t0=t.catch(0),console.log("api error"),console.error(t.t0),j({form:String(t.t0)});case 27:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e){return t.apply(this,arguments)}}();return n["mr-token"]?1!=parseInt(o["mr-user"].split("-")[1])?Object(J.jsx)(Q.a,{to:"/"}):x?Object(J.jsx)(Q.a,{to:"/products"}):"update"==e.mode&&0===Object.keys(p).length?Object(J.jsx)("div",{children:"Loading..."}):Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(J.jsx)(g.a,{variant:"h4",children:"update"==e.mode?"Update":"Add"}),Object(J.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(t){e.setMode("none")},children:"Go back"})]}),Object(J.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault();var r=new FormData(t.target),n={};r.forEach((function(e,t){return n[t]=e})),console.log("sending data"),n=Object(d.a)(Object(d.a)({},p),n),console.log(n),"update"==e.mode?y(e.id,n):S(n)},children:[0!=Object.keys(l).length&&Object(J.jsxs)(Oe.a,{error:!0,children:["Invalid data ",l.form]}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"style",label:"Style",name:"style",disabled:"update"==e.mode,helperText:l.style?l.style[0]:"",error:!!l.style,defaultValue:"update"==e.mode?p.style:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"size",label:"Size",name:"size",disabled:"update"==e.mode,helperText:l.size?l.size[0]:"",error:!!l.size,defaultValue:"update"==e.mode?p.size:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"color",label:"Color",name:"color",disabled:"update"==e.mode,helperText:l.color?l.color[0]:"",error:!!l.color,defaultValue:"update"==e.mode?p.color:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"sku",label:"SKU",name:"sku",disabled:"update"==e.mode,helperText:l.sku?l.sku[0]:"",error:!!l.sku,defaultValue:"update"==e.mode?p.sku:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",type:"number",inputProps:{step:.01},helperText:l.price?l.price[0]:"",error:!!l.price,defaultValue:"update"==e.mode?p.price:""}),Object(J.jsx)(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"})]})]}):Object(J.jsx)(Q.a,{to:"/signin"})}var ve=[{field:"id",headerName:"ID",width:50},{field:"sfmId",headerName:"SFM ID",width:300,hide:!0},{field:"style",headerName:"Style",width:250},{field:"size",headerName:"Size",width:100},{field:"color",headerName:"Color",width:150},{field:"sku",headerName:"SKU",width:150},{field:"price",headerName:"Price",width:100,type:"number"},{field:"amountInStock",headerName:"Amount In Stock",width:150,type:"number"}];var ye=function(e){var t=Object(u.useState)([]),r=Object(s.a)(t,2),n=r[0],a=r[1],o=Object(u.useState)([]),i=Object(s.a)(o,2),c=i[0],l=i[1],d=Object(u.useState)(""),j=Object(s.a)(d,2),h=j[0],b=j[1],p=Object(ee.a)(["mr-token"]),m=Object(s.a)(p,1)[0],f=Object(ee.a)(["mr-user"]),O=Object(s.a)(f,1)[0],x=Object(u.useState)("none"),g=Object(s.a)(x,2),v=g[0],S=g[1],w=Object(u.useState)([]),k=Object(s.a)(w,2),N=k[0],C=k[1],T=Object(u.useState)(!1),P=Object(s.a)(T,2),D=P[0],I=P[1],L=Object(u.useState)(null),z=Object(s.a)(L,2),W=z[0],E=z[1],F=Object(u.useState)(!1),A=Object(s.a)(F,2),M=A[0],V=A[1],q=Object(u.useState)(""),U=Object(s.a)(q,2),_=U[0],R=U[1],G=parseInt(O["mr-user"].split("-")[1]),Y=[{field:"style",headerName:"Style",width:150},{field:"size",headerName:"Size",width:150},{field:"color",headerName:"Color",width:150},{field:"sku",headerName:"SKU",width:150}];function K(){B.b.getProductList(m["mr-token"]).then((function(e){if(console.log(e),200==e.status)return e.json();throw"Something went wrong"})).then((function(e){console.log(e),a(e)})).catch((function(e){console.log("api error"),console.error(e)}))}0==G&&Y.push({field:"price",headerName:"Price",width:150}),Object(u.useEffect)((function(){e.setTitle("Products"),"none"==v&&K()}),[m,v]),Object(u.useEffect)((function(){H(h)}),[n]);var H=function(e){var t=Object(oe.a)(n);""!=e&&(t=t.filter((function(t){var r=e.toLowerCase();return t.style.toLowerCase().search(r)>=0||t.size.toLowerCase().search(r)>=0||t.color.toLowerCase().search(r)>=0}))),C([]),l(t)},Z=function(e){I(!1)},X=function(){var e=Object(ae.a)(re.a.mark((function e(t){var r,a,o,i,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("u confirmed delete"),r=0,a=[],o=Object(ne.a)(N),e.prev=4,c=re.a.mark((function e(){var t,o,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.value,e.prev=1,e.next=4,B.b.deleteProduct(m["mr-token"],t);case 4:if(200!=(o=e.sent).status&&204!=o.status){e.next=10;break}console.log("deleted order with id ".concat(t)),r++,e.next=13;break;case 10:throw console.log("Failed to delete product with id ".concat(t)),c=n.find((function(e){return e.id==t})).sfmId,"Could not delete product ".concat(c);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("could not delete product id ".concat(t),e.t0),a.push(e.t0.toString());case 19:case"end":return e.stop()}}),e,null,[[1,15]])})),o.s();case 7:if((i=o.n()).done){e.next=11;break}return e.delegateYield(c(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),o.e(e.t1);case 16:return e.prev=16,o.f(),e.finish(16);case 19:r<N.length?R("Could not delete products "+a.toString()):R("Successfull"),I(!1),K();case 22:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}();return m["mr-token"]?Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[_&&Object(J.jsx)("div",{style:{color:"red"},children:_}),"none"==v?Object(J.jsxs)("div",{children:[1==G&&Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",flexDirection:"row"},children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(y.a,{color:"primary",variant:"contained",onClick:function(e){S("add")},children:Object(J.jsx)(he.a,{})}),Object(J.jsx)(y.a,{disabled:1!=N.length,onClick:function(e){console.log("update clicked"),1==N.length&&S("update")},color:"primary",variant:"contained",children:Object(J.jsx)(pe.a,{})}),Object(J.jsx)(y.a,{variant:"outlined",color:"secondary",disabled:!(N.length>0),onClick:function(e){I(!0)},children:Object(J.jsx)(fe.a,{})}),Object(J.jsxs)(ce.a,{open:D,onClose:Z,children:[Object(J.jsxs)(se.a,{id:"alert-dialog-title",children:['"Are you sure you want to delete the ',N.length,' items"']}),Object(J.jsxs)(le.a,{children:[Object(J.jsx)(de.a,{onClick:Z,color:"primary",children:"Cancel"}),Object(J.jsx)(de.a,{onClick:X,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]}),Object(J.jsxs)("form",{children:[Object(J.jsx)("input",{type:"file",name:"myfile",id:"myfile",onChange:function(e){1==e.target.files.length?(E(e.target.files[0]),console.log("file is: ",e.target.files[0]),V(!0)):(E(null),V(!1))},hidden:!0}),Object(J.jsx)("label",{htmlFor:"myfile",className:"file-input-label",children:"Choose File"}),Object(J.jsx)(de.a,{type:"submit",disabled:!M,onClick:function(e){e.preventDefault();var t=new FormData;t.append("productsFile",W),M&&-1==W.name.search(/product/i)?R("Please make sure you have selected products file. File name should contain the word product"):B.b.uploadProductsFile(m["mr-token"],t).then((function(e){return e.json()})).then((function(e){e.errors?0==e.errors.length?(R("Successfully imported all records"),console.log("Successfully imported all records")):(R("Partial Success (see error records in console (hit Ctrl+Shift+i)"),console.log("Following rows were not imported: "),console.log(e.errors)):R("Failed import due to unknown reason"),console.log("setting mode"),V(!1),E(null),K(),S("none")})).catch((function(e){console.error("Error:",e),V(!1),E(null),R("Failed import due to unknown reasons")}))},color:"primary",variant:"contained",children:"Import Products"})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)(ue.a,{variant:"outlined",size:"small",margin:"none",type:"text",value:h,text:"Search",onChange:function(e){return b(e.target.value)},onKeyPress:function(e){return"Enter"==e.key&&H(e.target.value)}}),Object(J.jsx)(de.a,{color:"primary",variant:"contained",onClick:function(e){return H(h)},children:"Search"})]})]}),Object(J.jsx)("div",{style:{width:"100%",minWidth:"600px",height:"calc(100vh - 140px"},children:Object(J.jsx)(ie.a,{rows:c,columns:1==G?ve:Y,checkboxSelection:!0,components:{Toolbar:ie.b},onSelectionModelChange:function(e){console.log(e),C(e.selectionModel)},disableColumnMenu:!0,disableSelectionOnClick:!0})})]}):Object(J.jsx)(ge,{id:"update"==v?N[0]:null,mode:v,setMode:S})]}):Object(J.jsx)(Q.a,{to:"/signin"})},Se=Object(b.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function we(e){var t=Se(),r=Object(ee.a)(["mr-token"]),n=Object(s.a)(r,1)[0],a=Object(u.useState)({}),o=Object(s.a)(a,2),i=o[0],c=o[1],l=Object(u.useState)({}),j=Object(s.a)(l,2),h=j[0],b=j[1],p=Object(u.useState)(!1),m=Object(s.a)(p,2),f=m[0],O=m[1];Object(u.useEffect)((function(){"update"==e.mode&&function(){var t=Object(ae.a)(re.a.mark((function t(){var r,a;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.b.getStore(n["mr-token"],e.id);case 3:if(200!=(r=t.sent).status){t.next=12;break}return t.next=7,r.json();case 7:a=t.sent,console.log("retreiving data"),b(a),t.next=13;break;case 12:throw"Could not get the store details";case 13:t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),console.log("api error"),console.error(t.t0),c({form:String(t.t0)});case 20:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}()()}),[]);var x=function(){var t=Object(ae.a)(re.a.mark((function t(r,a){var o,i;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.b.updateStore(n["mr-token"],r,a);case 3:if(o=t.sent,console.log("response status ",o.status),200!=o.status){t.next=11;break}O(!0),alert("Saved Succesfully"),e.setMode("none"),t.next=20;break;case 11:if(400!=o.status){t.next=19;break}return console.log(o),t.next=15,o.json();case 15:i=t.sent,c(i),t.next=20;break;case 19:throw"Failed due to unknown reasons";case 20:t.next=27;break;case 22:t.prev=22,t.t0=t.catch(0),console.log("api error"),console.error(t.t0),c({form:String(t.t0)});case 27:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e,r){return t.apply(this,arguments)}}();return n["mr-token"]?f?Object(J.jsx)(Q.a,{to:"/stores"}):"update"==e.mode&&0===Object.keys(h).length?Object(J.jsx)("div",{children:"Loading..."}):Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(J.jsx)(g.a,{variant:"h4",children:"update"==e.mode?"Update":"Add"}),Object(J.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(t){e.setMode("none")},children:"Go back"})]}),Object(J.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault();var r=new FormData(t.target),n={};r.forEach((function(e,t){return n[t]=e})),console.log("sending data"),n=Object(d.a)(Object(d.a)({},h),n),console.log(n),"update"==e.mode?x(e.id,n):console.error("only update available")},children:[0!=Object.keys(i).length&&Object(J.jsxs)(Oe.a,{error:!0,children:["Invalid data ",i.form]}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"storeName",label:"Store Name",name:"storeName",disabled:"update"==e.mode,helperText:i.storeName?i.storeName[0]:"",error:!!i.storeName,defaultValue:"update"==e.mode?h.storeName:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",id:"emailAddress",label:"Email Address",name:"emailAddress",helperText:i.emailAddress?i.emailAddress[0]:"",error:!!i.emailAddress,defaultValue:"update"==e.mode?h.emailAddress:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"addressLine1",label:"Address Line 1",name:"addressLine1",inputProps:{maxLength:50},helperText:i.addressLine1?i.addressLine1[0]:"",error:!!i.addressLine1,defaultValue:"update"==e.mode?h.addressLine1:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"addressLine2",label:"addressLine2",name:"addressLine2",helperText:i.addressLine2?i.addressLine2[0]:"",error:!!i.addressLine2,defaultValue:"update"==e.mode?h.addressLine2:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"city",label:"City",name:"city",helperText:i.city?i.city[0]:"",error:!!i.city,defaultValue:"update"==e.mode?h.city:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"state",label:"State",name:"state",inputProps:{maxLength:2},helperText:i.state?i.state[0]:"",error:!!i.state,defaultValue:"update"==e.mode?h.state:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"zipCode",label:"Zip Code",name:"zipCode",type:"number",inputProps:{step:1,max:99999},helperText:i.zipCode?i.zipCode[0]:"",error:!!i.zipCode,defaultValue:"update"==e.mode?h.zipCode:""}),Object(J.jsx)(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"})]})]}):Object(J.jsx)(Q.a,{to:"/signin"})}var ke=[{field:"storeName",headerName:"Store Name",width:200},{field:"storeCode",headerName:"Store Code",width:110},{field:"emailAddress",headerName:"Email Address",width:250},{field:"addressLine1",headerName:"Addres Line 1",width:200},{field:"addressLine2",headerName:"Adress Line 2",width:200},{field:"city",headerName:"City",width:150},{field:"state",headerName:"State",width:150},{field:"zipCode",headerName:"Zip Code",width:100}];var Ne=function(e){var t=Object(u.useState)([]),r=Object(s.a)(t,2),n=r[0],a=r[1],o=Object(ee.a)(["mr-token"]),i=Object(s.a)(o,1)[0],c=Object(ee.a)(["mr-user"]),l=Object(s.a)(c,1)[0],d=Object(u.useState)("none"),j=Object(s.a)(d,2),h=j[0],b=j[1],p=Object(u.useState)(""),m=Object(s.a)(p,2),f=m[0],O=m[1],x=Object(u.useState)([]),g=Object(s.a)(x,2),v=g[0],S=g[1];Object(u.useEffect)((function(){e.setTitle("Stores"),B.b.getStoreList(i["mr-token"]).then((function(e){return e.json()})).then((function(e){return console.log(e),e.forEach((function(e,t){return e.id=t+1})),a(e)})).catch((function(e){console.log("api error"),console.error(e)}))}),[h]);var w=parseInt(l["mr-user"].split("-")[1]);return i["mr-token"]?2==w?Object(J.jsx)(Q.a,{to:"/"}):Object(J.jsx)("div",{children:"none"==h?Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[1==w&&Object(J.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",flexWrap:"wrap",flexDirection:"row"},children:Object(J.jsx)(y.a,{disabled:1!=v.length,onClick:function(e){console.log("update clicked"),1==v.length&&(O(n.find((function(e){return e.id==v[0]})).storeCode),b("update"))},color:"primary",variant:"contained",children:Object(J.jsx)(pe.a,{})})}),Object(J.jsx)("div",{style:{width:"100%",minWidth:"600px",height:"calc(100vh - 100px"},children:Object(J.jsx)(ie.a,{rows:n,columns:ke,components:{Toolbar:ie.b},checkboxSelection:!0,onSelectionModelChange:function(e){console.log(e),S(e.selectionModel)},disableColumnMenu:!0})})]}):Object(J.jsx)(we,{id:"update"==h?f:null,mode:h,setMode:b})}):Object(J.jsx)(Q.a,{to:"/signin"})},Ce=r(254),Te=r(274),Pe=Object(b.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function De(e){var t=Pe(),r=Object(ee.a)(["mr-token"]),n=Object(s.a)(r,1)[0],a=Object(u.useState)({}),o=Object(s.a)(a,2),i=o[0],c=o[1],l=Object(u.useState)(!1),j=Object(s.a)(l,2),h=j[0],b=j[1],p=Object(u.useState)(!1),m=Object(s.a)(p,2),f=m[0],O=m[1],x=Object(u.useState)([]),v=Object(s.a)(x,2),y=v[0],S=v[1],w=Object(u.useState)([]),k=Object(s.a)(w,2),N=k[0],C=k[1],T=Object(u.useState)([]),P=Object(s.a)(T,2),D=P[0],I=P[1],L=Object(u.useState)([]),z=Object(s.a)(L,2),W=z[0],E=z[1],F=Object(u.useState)([]),A=Object(s.a)(F,2),M=A[0],V=A[1],q=!1;console.log("opened form"),console.log(N),console.log(M),Object(u.useEffect)((function(){B.b.getProductList(n["mr-token"]).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return e.style}));C(Object(oe.a)(new Set(t)));var r=e.map((function(e){return e.size}));I(Object(oe.a)(new Set(r)));var n=e.map((function(e){return e.color}));E(Object(oe.a)(new Set(n))),V(e.map((function(e){return e.sfmId})))})).catch((function(e){console.log("api error"),console.error(e)}))}),[]);var U=function(e){O(!1)},_=function(t){console.log(t),"update"==e.mode?B.b.updatePurchase(n["mr-token"],e.id,t).then((function(e){return 400==e.status&&(console.log(e),b(!1),q=!0),200==e.status&&b(!0),e.json()})).then((function(e){q&&c(e)})).catch((function(e){console.log("api error"),console.error(e)})):B.b.addPurchase(n["mr-token"],t).then((function(e){return console.log("saving",e.status),400==e.status&&(console.log(e),b(!1),q=!0),201==e.status&&b(!0),e.json()})).then((function(e){q&&c(e)})).catch((function(e){console.log("api error"),console.error(e)}))},R=function(t){e.setMode("none")};return n["mr-token"]?h?Object(J.jsxs)("div",{children:["Saved Succcesfully ",Object(J.jsx)(de.a,{onClick:R,children:"Go back to Purchases"})]}):Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{style:{display:"flex"},children:[Object(J.jsx)(g.a,{children:"update"==e.mode?"Update":"Add"}),Object(J.jsx)(de.a,{onClick:R,children:"Go back"})]}),Object(J.jsxs)(ce.a,{open:f,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(J.jsx)(se.a,{id:"alert-dialog-title",children:'"The Product does not Exist. New Product will be created. Continue?"'}),Object(J.jsxs)(le.a,{children:[Object(J.jsx)(de.a,{onClick:U,color:"primary",children:"Cancel"}),Object(J.jsx)(de.a,{onClick:function(e){_(y)},color:"primary",autoFocus:!0,children:"Confirm"})]})]}),Object(J.jsxs)("form",{className:t.form,onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),r={};console.log(t),t.forEach((function(e,t){return r[t]=e})),console.log("sending data");var n=r.style+"-"+r.size+"-"+r.color;S(r),M.find((function(e){return e==n}))?_(r):O(!0)},children:[0!=Object.keys(i).length&&Object(J.jsx)(Oe.a,{error:!0,children:"Invalid data"}),Object(J.jsxs)(ue.a,{variant:"outlined",margin:"normal",required:!0,select:!0,fullWidth:!0,id:"status",label:"Status",name:"status",helperText:i.status?i.status[0]:"",error:!!i.status,defaultValue:"update"==e.mode?e.data.status:"In Transit",children:[Object(J.jsx)(Ce.a,{value:"In Transit",children:"In Transit"},0),Object(J.jsx)(Ce.a,{value:"Received",children:"Received"},1)]}),Object(J.jsx)(Te.a,{id:"styleCombo",options:N,freeSolo:!0,getOptionLabel:function(e){return e},fullWidth:!0,renderInput:function(t){return Object(J.jsx)(ue.a,Object(d.a)(Object(d.a)({},t),{},{variant:"outlined",margin:"normal",required:!0,id:"style",label:"Style",name:"style",disabled:"update"==e.mode,helperText:i.style?i.style[0]:"",error:!!i.style,defaultValue:"update"==e.mode?e.data.style:""}))}}),Object(J.jsx)(Te.a,{id:"sizeCombo",options:D,freeSolo:!0,getOptionLabel:function(e){return e},renderInput:function(t){return Object(J.jsx)(ue.a,Object(d.a)(Object(d.a)({},t),{},{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"size",label:"Size",name:"size",disabled:"update"==e.mode,helperText:i.size?i.size[0]:"",error:!!i.size,defaultValue:"update"==e.mode?e.data.size:""}))}}),Object(J.jsx)(Te.a,{id:"colorCombo",options:W,freeSolo:!0,getOptionLabel:function(e){return e},renderInput:function(t){return Object(J.jsx)(ue.a,Object(d.a)(Object(d.a)({},t),{},{variant:"outlined",margin:"normal",required:!0,id:"color",label:"Color",name:"color",disabled:"update"==e.mode,helperText:i.color?i.color[0]:"",error:!!i.color,defaultValue:"update"==e.mode?e.data.color:""}))}}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"company",label:"Company",name:"company",helperText:i.company?i.company[0]:"",error:!!i.company,defaultValue:"update"==e.mode?e.data.company:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"warehouse",label:"Warehouse",name:"warehouse",helperText:i.warehouse?i.warehouse[0]:"",error:!!i.warehouse,defaultValue:"update"==e.mode?e.data.warehouse:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"ordered",label:"Ordered",name:"ordered",type:"number",helperText:i.ordered?i.ordered[0]:"",error:!!i.ordered,defaultValue:"update"==e.mode?e.data.ordered:""}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"orderDate",label:"order Date",name:"orderDate",type:"date",helperText:i.orderDate?i.orderDate[0]:"",error:!!i.orderDate,InputLabelProps:{shrink:!0},defaultValue:"update"==e.mode?e.data.orderDate:""}),Object(J.jsx)(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"})]})]}):Object(J.jsx)(Q.a,{to:"/signin"})}var Ie=function(e){var t=Object(u.useState)([]),r=Object(s.a)(t,2),n=r[0],a=r[1],o=Object(u.useState)([]),i=Object(s.a)(o,2),c=i[0],l=i[1],j=Object(u.useState)(""),h=Object(s.a)(j,2),b=h[0],p=h[1],m=Object(ee.a)(["mr-token"]),f=Object(s.a)(m,1)[0],O=Object(ee.a)(["mr-user"]),x=Object(s.a)(O,1)[0],g=Object(u.useState)("none"),v=Object(s.a)(g,2),S=v[0],w=v[1],k=Object(u.useState)([]),N=Object(s.a)(k,2),C=N[0],T=N[1],P=Object(u.useState)({}),D=Object(s.a)(P,2),I=D[0],L=D[1],z=Object(u.useState)(null),W=Object(s.a)(z,2),E=W[0],F=W[1],A=Object(u.useState)(!1),M=Object(s.a)(A,2),V=M[0],q=M[1],U=Object(u.useState)(""),_=Object(s.a)(U,2),R=_[0],G=_[1],Y=Object(u.useState)(!1),K=Object(s.a)(Y,2),H=K[0],Z=K[1],X=function(e){Z(!1)},$=[{field:"id",headerName:"Purchase Id",width:150,hide:!0},{field:"status",headerName:"Status",width:150,renderCell:function(e){return Object(J.jsx)(de.a,{variant:"contained",color:"In Transit"==e.value?"secondary":"primary",size:"small","data-pid":e.id,onClick:te,style:{marginLeft:16},children:e.value})}},{field:"style",headerName:"Style",width:150},{field:"size",headerName:"Size",width:150},{field:"color",headerName:"Color",width:150},{field:"company",headerName:"Company"},{field:"warehouse",headerName:"Warehouse",width:150},{field:"ordered",headerName:"Ordered",width:150},{field:"orderDate",headerName:"Order Date",width:150},{field:"arrivalDate",headerName:"Arrival Date",width:150},{field:"sfmId",headerName:"SFM ID",width:150}],te=function(e){var t=parseInt(e.currentTarget.dataset.pid),r=n.find((function(e){return e.id==t})),o="In Transit"==r.status?"Received":"In Transit",i=Object(d.a)(Object(d.a)({},r),{},{status:o});console.log(i),B.b.updatePurchase(f["mr-token"],t,i).then((function(e){if(200==e.status)return e.json();throw 400==e.status?JSON.stringify(e.json()):"Unknown reason. Please refresh"})).then((function(e){var t=n.map((function(t){return t.id==e.id?e:t}));G("updated purchase"),console.log(t.map((function(e){return e.id}))),a(t)})).catch((function(e){console.log("api error"),console.error(e),G("Something went wrong, "+String(e))}))};Object(u.useEffect)((function(){e.setTitle("Purchases"),console.log("useeffect called"),"none"==S&&be()}),[f,S]),Object(u.useEffect)((function(){je(b)}),[n]);var je=function(e){var t=Object(oe.a)(n);""!=e&&(t=t.filter((function(t){var r=e.toLowerCase();return t.style.toLowerCase().search(r)>=0||t.size.toLowerCase().search(r)>=0||t.color.toLowerCase().search(r)>=0||t.warehouse.toLowerCase().search(r)>=0||t.company.toLowerCase().search(r)>=0}))),T([]),l(t)};function be(){console.log("fetching data"),B.b.getPurchasesList(f["mr-token"]).then((function(e){if(200==e.status)return e.json();throw"Something went wrong"})).then((function(e){console.log(e),T([]),a(e)})).catch((function(e){console.log("api error"),console.error(e),G(String(e))}))}return f["mr-token"]?0==parseInt(x["mr-user"].split("-")[1])?Object(J.jsx)(Q.a,{to:"/"}):Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[""==R?"":Object(J.jsx)("div",{style:{color:"red"},children:R}),"none"==S?Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",flexDirection:"row"},children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(y.a,{color:"primary",variant:"contained",onClick:function(e){w("add")},children:Object(J.jsx)(he.a,{})}),Object(J.jsx)(y.a,{disabled:1!=C.length,onClick:function(e){console.log("update clicked"),1==C.length&&B.b.getPurchase(f["mr-token"],C[0]).then((function(e){return e.json()})).then((function(e){console.log("filling formdata"),L(e),w("update")})).catch((function(e){console.log("api error"),console.error(e)}))},color:"primary",variant:"contained",children:Object(J.jsx)(pe.a,{})}),Object(J.jsx)(y.a,{variant:"contained",color:"secondary",disabled:!(C.length>0),onClick:function(e){Z(!0)},children:Object(J.jsx)(fe.a,{})}),Object(J.jsxs)(ce.a,{open:H,onClose:X,children:[Object(J.jsxs)(se.a,{id:"alert-dialog-title",children:['"Are you sure you want to delete the ',C.length,' items"']}),Object(J.jsxs)(le.a,{children:[Object(J.jsx)(de.a,{onClick:X,color:"primary",children:"Cancel"}),Object(J.jsx)(de.a,{onClick:function(e){console.log("u confirmed delete");var t=[],r=function(){var e=Object(ae.a)(re.a.mark((function e(){var r,n,a,o;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(ne.a)(C),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=23;break}return a=n.value,e.prev=5,e.next=8,B.b.deletePurchase(f["mr-token"],a);case 8:if(200!=(o=e.sent).status&&204!=o.status){e.next=13;break}console.log("deleted purchase with id ".concat(a)),e.next=15;break;case 13:throw console.log("Failed to delete purchase with id ".concat(a)),"Failed to delete purchase with id ".concat(a);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.error("could not delete purchase id ".concat(a),e.t0),t.push("could not delete purchase id ".concat(a));case 21:e.next=3;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(1),r.e(e.t1);case 28:return e.prev=28,r.f(),e.finish(28);case 31:t.length>0?G("Some rows were not deleted\n"+t.toString()+" Pleae refresh"):G("Deleted successfully. Please refresh");case 32:case"end":return e.stop()}}),e,null,[[1,25,28,31],[5,17]])})));return function(){return e.apply(this,arguments)}}();Z(!1),r()},color:"primary",autoFocus:!0,children:"Confirm"})]})]})]}),Object(J.jsxs)("form",{children:[Object(J.jsx)("input",{type:"file",name:"myfile",id:"myfile",onChange:function(e){1==e.target.files.length?(F(e.target.files[0]),console.log("file is: ",e.target.files[0]),q(!0)):(F(null),q(!1))},hidden:!0}),Object(J.jsx)("label",{htmlFor:"myfile",className:"file-input-label",children:"Choose File"}),Object(J.jsx)(de.a,{type:"submit",disabled:!V,onClick:function(e){e.preventDefault();var t=new FormData;t.append("purchaseFile",E),V&&-1==E.name.search(/purchase/i)?G("Please make sure you have selected purchase file. File name should contain the word purchase"):B.b.uploadPurchasesFile(f["mr-token"],t).then((function(e){return e.json()})).then((function(e){e.errors?0==e.errors.length?(G("Successfully imported all records"),console.log("Successfully imported all records")):(G("Partial Success (see error records in console (hit Ctrl+Shift+i)"),console.log("Following rows were not imported: "),console.log(e.errors)):G("Failed import due to unknown reason"),console.log("setting mode"),be(),w("none"),q(!1)})).catch((function(e){console.error("Error:",e),G("Failed import due to unknown reasons")}))},color:"primary",variant:"contained",children:"Import"})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)(ue.a,{variant:"outlined",size:"small",margin:"none",type:"text",value:b,text:"Search",onChange:function(e){return p(e.target.value)},onKeyPress:function(e){return"Enter"==e.key&&je(e.target.value)}}),Object(J.jsx)(de.a,{color:"primary",variant:"contained",onClick:function(e){return je(b)},children:"Search"})]})]}),Object(J.jsx)("div",{style:{width:"100%",minWidth:"600px",flexGrow:1},children:Object(J.jsx)(ie.a,{rows:c,columns:$,checkboxSelection:!0,autoHeight:!0,components:{Toolbar:ie.b},onSelectionModelChange:function(e){console.log(e),T(e.selectionModel)},disableSelectionOnClick:!0})})]}):Object(J.jsx)(De,{id:"update"==S?C:null,data:"update"==S?I:null,mode:S,setMode:w})]}):Object(J.jsx)(Q.a,{to:"/signin"})},Le=[{field:"style",headerName:"Style",width:250},{field:"size",headerName:"Size",width:80},{field:"color",headerName:"Color",width:150},{field:"productAvailability",headerName:"Product Availabity",width:150},{field:"inStock",headerName:"In Stock",width:80},{field:"unfulfilledCount",headerName:"Unfulfilled Count",width:80},{field:"inTransit",headerName:"In Transit",width:90},{field:"arrivalDate",headerName:"ArrivaL Date",width:120},{field:"trueCount",headerName:"True Count",width:80},{field:"minimum",headerName:"Minimum",width:80},{field:"maximum",headerName:"Maximum",width:80},{field:"shortCount",headerName:"Short Count",width:80},{field:"needToPurchase",headerName:"Need to Purchase",width:90}];var ze=function(e){var t=Object(u.useState)([]),r=Object(s.a)(t,2),n=r[0],a=r[1],o=Object(u.useState)([]),i=Object(s.a)(o,2),c=i[0],l=i[1],d=Object(u.useState)(""),j=Object(s.a)(d,2),h=j[0],b=j[1],p=Object(u.useState)(null),m=Object(s.a)(p,2),f=m[0],O=m[1],x=Object(u.useState)(!1),g=Object(s.a)(x,2),v=g[0],y=g[1],S=Object(u.useState)(""),w=Object(s.a)(S,2),k=w[0],N=w[1],C=Object(ee.a)(["mr-token"]),T=Object(s.a)(C,1)[0],P=Object(ee.a)(["mr-user"]),D=Object(s.a)(P,1)[0];Object(u.useEffect)((function(){e.setTitle("Inventory"),I()}),[T]);var I=function(){B.b.getInventoryList(T["mr-token"]).then((function(e){return console.log(e),a(e)})).catch((function(e){console.log("api error"),N("Something went wrong"),console.error(e)}))};Object(u.useEffect)((function(){L(h)}),[n]);var L=function(e){var t=Object(oe.a)(n);""!=e&&(t=t.filter((function(t){var r=e.toLowerCase();return t.style.toLowerCase().search(r)>=0||t.size.toLowerCase().search(r)>=0||t.color.toLowerCase().search(r)>=0||t.productAvailability.toLowerCase().search(r)>=0}))),l(t)};return T["mr-token"]?0==parseInt(D["mr-user"].split("-")[1])?Object(J.jsx)(Q.a,{to:"/"}):Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[k&&Object(J.jsx)("div",{style:{color:"red"},children:k}),Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",flexDirection:"row",marginBottom:"5px"},children:[Object(J.jsxs)("form",{children:[Object(J.jsx)("input",{type:"file",name:"myfile",id:"myfile",onChange:function(e){1==e.target.files.length?(O(e.target.files[0]),console.log("file is: ",e.target.files[0]),y(!0)):(O(null),y(!1))},hidden:!0}),Object(J.jsx)("label",{htmlFor:"myfile",className:"file-input-label",children:"Choose File"}),Object(J.jsx)(de.a,{type:"submit",disabled:!v,onClick:function(e){e.preventDefault();var t=new FormData;t.append("inventoryFile",f),v&&-1==f.name.search(/inventory/i)?N("Please make sure you have selected inventory file. File name should contain the word inventory"):B.b.uploadInventoryFile(T["mr-token"],t).then((function(e){return e.json()})).then((function(e){e.errors?0==e.errors.length?(N("Successfully imported all records"),console.log("Successfully imported all records")):(N("Partial Success (see error records in console (hit Ctrl+Shift+i)"),console.log("Following rows were not imported: "),console.log(e.errors)):N("Failed import due to unknown reason"),y(!1),O(null),I()})).catch((function(e){console.error("Error:",e),y(!1),O(null),N("Failed import due to unknown reasons")}))},color:"primary",variant:"contained",children:"Import Inventory"})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)(ue.a,{variant:"outlined",size:"small",margin:"none",type:"text",value:h,text:"Search",onChange:function(e){return b(e.target.value)},onKeyPress:function(e){return"Enter"==e.key&&L(e.target.value)}}),Object(J.jsx)(de.a,{color:"primary",variant:"contained",onClick:function(e){return L(h)},children:"Search"})]})]}),Object(J.jsx)("div",{style:{width:"100%",minWidth:"600px",height:"calc(100vh - 100px)"},children:Object(J.jsx)(ie.a,{rows:c,columns:Le,components:{Toolbar:ie.b},disableColumnMenu:!0})})]}):Object(J.jsx)(Q.a,{to:"/signin"})},We=Object(b.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ee(e){var t=We(),r=Object(ee.a)(["mr-token"]),n=Object(s.a)(r,1)[0],a=Object(u.useState)({}),o=Object(s.a)(a,2),i=o[0],c=o[1],l=Object(u.useState)(!1),d=Object(s.a)(l,3),j=d[0],h=d[1],b=(d[2],Object(u.useState)([])),p=Object(s.a)(b,2),m=p[0],f=p[1],O=Object(u.useState)([]),x=Object(s.a)(O,2),v=x[0],y=x[1],S=Object(u.useState)([]),w=Object(s.a)(S,2),k=w[0],N=w[1],C=Object(u.useState)([]),T=Object(s.a)(C,2),P=T[0],D=T[1],I=Object(u.useState)([]),L=Object(s.a)(I,2),z=L[0],W=L[1],E=Object(u.useRef)(null),F=Object(u.useRef)(null),A=Object(u.useRef)(null),M=!1;console.log("opened form"),Object(u.useEffect)((function(){B.b.getProductList(n["mr-token"]).then((function(e){return e.json()})).then((function(e){var t=[{prop:"style",direction:1},{prop:"size",direction:1},{prop:"color",direction:1}];e.sort((function(e,r){for(var n=0,a=0;n<t.length&&0===a;)a=t[n].direction*(e[t[n].prop].toString()<r[t[n].prop].toString()?-1:e[t[n].prop].toString()>r[t[n].prop].toString()?1:0),n++;return a})),y(Object(oe.a)(new Set(e.map((function(e){return e.style}))))),N(Object(oe.a)(new Set(e.map((function(e){return e.size}))))),D(Object(oe.a)(new Set(e.map((function(e){return e.color}))))),f(e)})).catch((function(e){console.log("api error"),console.error(e)})),B.b.getStoreList(n["mr-token"]).then((function(e){return e.json()})).then((function(e){return console.log(e),W(e)})).catch((function(e){console.log("api error"),console.error(e)}))}),[]);return n["mr-token"]?j?e.fromPrinting?Object(J.jsx)(Q.a,{to:"/printing"}):Object(J.jsx)(Q.a,{to:"/orders"}):Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(J.jsx)(g.a,{variant:"h4",children:"update"==e.mode?"Update":"Add"}),Object(J.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(t){e.setMode("none")},children:"Go back"})]}),Object(J.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault(),console.log("submit clicked");var r=new FormData(t.target),a={};r.forEach((function(e,t){return a[t]=e})),a.sfmId=a.style+"-"+a.size+"-"+a.color,0!=m.filter((function(e){return e.sfmId==a.sfmId})).length?(""==a.saleDate&&(a.saleDate=null),a.shipDate=null,a.customerPaidShipping=0,a.trackingNumber="",console.log("sending data"),console.log(a),"update"==e.mode?B.b.updateOrder(n["mr-token"],e.id,a).then((function(t){return 400==t.status&&(console.log(t),h(!1),M=!0),200==t.status&&(h(!0),alert("Saved Successfully"),e.setMode("none")),t.json()})).then((function(e){M&&c(e)})).catch((function(e){console.log("api error"),console.error(e)})):B.b.addOrder(n["mr-token"],a).then((function(t){return console.log("saving",t.status),400==t.status&&(console.log(t),h(!1),M=!0),201==t.status&&(h(!0),alert("Saved Successfully"),e.setMode("none")),t.json()})).then((function(e){M&&c(e)})).catch((function(e){console.log("api error"),console.error(e)}))):c({style:["The style size color combination does not exist"]})},children:[0!=Object.keys(i).length&&Object(J.jsxs)(Oe.a,{error:!0,children:["Invalid data ",i.form]}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,select:!0,fullWidth:!0,id:"store",label:"Store Name",name:"store",inputProps:{maxLength:50},helperText:i.store?i.store[0]:"",error:!!i.store,children:z.map((function(e){return Object(J.jsx)(Ce.a,{value:e.storeCode,children:e.storeName},e.storeCode)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,select:!0,id:"orderStatus",label:"Order Status",name:"orderStatus",inputProps:{maxLength:50},helperText:i.orderStatus?i.orderStatus[0]:"",error:!!i.orderStatus,defaultValue:"Unfulfilled",disabled:!0,children:["Unfulfilled","Processed","Printed","Shipped"].map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"saleDate",label:"Sale Date",name:"saleDate",type:"date",helperText:i.saleDate?i.saleDate[0]:"",error:!!i.saleDate,InputLabelProps:{shrink:!0}}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"orderNo",label:"Order No",name:"orderNo",inputProps:{maxLength:20},helperText:i.orderNo?i.orderNo[0]:"",error:!!i.orderNo}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"recipientName",label:"Recipient Name",name:"recipientName",inputProps:{maxLength:50},helperText:i.recipientName?i.recipientName[0]:"",error:!!i.recipientName}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,select:!0,id:"style",label:"Style",name:"style",inputRef:E,onChange:function(e){console.log(E,F,A);var t=e.target.value;console.log("style changed",t),N(Object(oe.a)(new Set(m.filter((function(e){return e.style==t})).map((function(e){return e.size}))))),D(Object(oe.a)(new Set(m.filter((function(e){return e.style==t})).map((function(e){return e.color})))))},disabled:"update"==e.mode,helperText:i.style?i.style[0]:"",error:!!i.style,children:v.map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,select:!0,inputRef:F,id:"size",label:"Size",name:"size",onChange:function(e){console.log(E.current.value,F.current.value,A.current.value);var t=E.current.value,r=e.target.value;console.log("size changed",r),D(Object(oe.a)(new Set(m.filter((function(e){return e.style==t&&e.size==r})).map((function(e){return e.color})))))},disabled:"update"==e.mode,helperText:i.size?i.size[0]:"",error:!!i.size,children:k.map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,select:!0,inputRef:A,id:"color",label:"Color",name:"color",disabled:"update"==e.mode,helperText:i.color?i.color[0]:"",error:!!i.color,children:P.map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"design",label:"design",name:"design",inputProps:{maxLength:50},helperText:i.design?i.design[0]:"",error:!!i.design}),Object(J.jsxs)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,select:!0,id:"processing",label:"Processing",name:"processing",inputProps:{maxLength:1},helperText:i.processing?i.processing[0]:"",error:!!i.processing,defaultValue:"N",children:[Object(J.jsx)(Ce.a,{value:"N",children:"No"},0),Object(J.jsx)(Ce.a,{value:"Y",children:"Yes"},1)]}),Object(J.jsxs)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,select:!0,id:"printed",label:"Printed",name:"printed",inputProps:{maxLength:1},helperText:i.printed?i.printed[0]:"",error:!!i.printed,defaultValue:"N",children:[Object(J.jsx)(Ce.a,{value:"N",children:"No"},0),Object(J.jsx)(Ce.a,{value:"Y",children:"Yes"},1)]}),Object(J.jsxs)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,select:!0,id:"shipped",label:"Shipped",name:"shipped",inputProps:{maxLength:1},helperText:i.shipped?i.shipped[0]:"",error:!!i.shipped,defaultValue:"N",children:[Object(J.jsx)(Ce.a,{value:"N",children:"No"},0),Object(J.jsx)(Ce.a,{value:"Y",children:"Yes"},1)]}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"sfmNotes",label:"SFM Notes",name:"sfmNotes",inputProps:{maxLength:5e3},helperText:i.sfmNotes?i.sfmNotes[0]:"",error:!!i.sfmNotes}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"Buyer Name",label:"buyerName",name:"buyerName",inputProps:{maxLength:50},helperText:i.buyerName?i.buyerName[0]:"",error:!!i.buyerName}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,type:"email",id:"buyerEmail",label:"Buyer Email",name:"buyerEmail",inputProps:{maxLength:50},helperText:i.buyerEmail?i.buyerEmail[0]:"",error:!!i.buyerEmail}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"buyerComments",label:"Buyer Comments",name:"buyerComments",inputProps:{maxLength:5e3},helperText:i.buyerComments?i.buyerComments[0]:"",error:!!i.buyerComments}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"giftMessages",label:"Gift Messages",name:"giftMessages",inputProps:{maxLength:5e3},helperText:i.giftMessages?i.giftMessages[0]:"",error:!!i.giftMessages}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"sku",label:"SKU",name:"sku",inputProps:{maxLength:20},helperText:i.sku?i.sku[0]:"",error:!!i.sku}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"priorityShip",label:"Priority Ship",name:"priorityShip",inputProps:{maxLength:50},helperText:i.priorityShip?i.priorityShip[0]:"",error:!!i.priorityShip}),Object(J.jsx)(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"})]})]}):Object(J.jsx)(Q.a,{to:"/signin"})}var Fe=Object(b.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ae(e){var t=Fe(),r=Object(ee.a)(["mr-token"]),n=Object(s.a)(r,1)[0],a=Object(ee.a)(["mr-user"]),o=Object(s.a)(a,1)[0],i=Object(u.useState)({}),c=Object(s.a)(i,2),l=c[0],j=c[1],h=Object(u.useState)(!1),b=Object(s.a)(h,3),p=b[0],m=b[1],f=(b[2],Object(u.useState)({})),O=Object(s.a)(f,2),x=O[0],v=O[1],y=Object(u.useState)(!1),S=Object(s.a)(y,2),w=S[0],k=S[1],N=Object(u.useState)([]),C=Object(s.a)(N,2),T=C[0],P=C[1],D=Object(u.useState)([]),I=Object(s.a)(D,2),L=I[0],z=I[1],W=Object(u.useState)([]),E=Object(s.a)(W,2),F=E[0],A=E[1],M=Object(u.useState)([]),V=Object(s.a)(M,2),q=V[0],U=V[1],_=Object(u.useState)([]),R=Object(s.a)(_,2),G=R[0],Y=R[1],K=Object(u.useRef)(null),H=Object(u.useRef)(null),Z=Object(u.useRef)(null),X=!1;console.log("opened form");var $=parseInt(o["mr-user"].split("-")[1]);Object(u.useEffect)((function(){B.b.getOrder(n["mr-token"],e.id).then((function(e){return e.json()})).then((function(e){console.log("initializing formdata"),v(e),k(!0)})).catch((function(e){console.log("api error"),console.error(e)})),B.b.getProductList(n["mr-token"]).then((function(e){return e.json()})).then((function(e){var t=[{prop:"style",direction:1},{prop:"size",direction:1},{prop:"color",direction:1}];e.sort((function(e,r){for(var n=0,a=0;n<t.length&&0===a;)a=t[n].direction*(e[t[n].prop].toString()<r[t[n].prop].toString()?-1:e[t[n].prop].toString()>r[t[n].prop].toString()?1:0),n++;return a})),A(Object(oe.a)(new Set(e.map((function(e){return e.style}))))),U(Object(oe.a)(new Set(e.map((function(e){return e.size}))))),Y(Object(oe.a)(new Set(e.map((function(e){return e.color}))))),P(e)})).catch((function(e){console.log("api error"),console.error(e)})),B.b.getStoreList(n["mr-token"]).then((function(e){return e.json()})).then((function(e){z(e)})).catch((function(e){console.log("api error"),console.error(e)}))}),[]);var te,re=function(e){console.log(K,H,Z);var t=e.target.value;console.log("style changed",t),U(Object(oe.a)(new Set(T.filter((function(e){return e.style==t})).map((function(e){return e.size}))))),Y(Object(oe.a)(new Set(T.filter((function(e){return e.style==t})).map((function(e){return e.color})))))},ne=function(e){console.log(K.current.value,H.current.value,Z.current.value);var t=K.current.value,r=e.target.value;console.log("size changed",r),Y(Object(oe.a)(new Set(T.filter((function(e){return e.style==t&&e.size==r})).map((function(e){return e.color})))))};null!=x.shipDate&&(te=new Date(x.shipDate)).setMinutes(te.getMinutes()-te.getTimezoneOffset());var ae=null==x.shipDate?"":te.toISOString().substr(0,16);return console.log("rendering"),n["mr-token"]?p?e.fromPrinting?Object(J.jsx)(Q.a,{to:"/printing"}):Object(J.jsx)(Q.a,{to:"/orders"}):w?Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(J.jsx)(g.a,{variant:"h4",children:"Update"}),Object(J.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(t){e.setMode("none")},children:"Go back"})]}),0!=$?Object(J.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault();var r=new FormData(t.target),a={};r.forEach((function(e,t){return a[t]=e})),a.sfmId=a.style+"-"+a.size+"-"+a.color,0!=T.filter((function(e){return e.sfmId==a.sfmId})).length?(""==a.saleDate&&(a.saleDate=null),""==a.shipDate?a.shipDate=null:a.shipDate=new Date(a.shipDate).toJSON(),console.log("sending data"),console.log(a),B.b.updateOrder(n["mr-token"],e.id,a).then((function(t){return 400==t.status&&(console.log(t),m(!1),X=!0),200==t.status&&(m(!0),alert("Saved Successfully"),e.setMode("none")),t.json()})).then((function(e){X&&j(e)})).catch((function(e){console.log("api error"),console.error(e),j({form:"Something went wrong. Please refresh."})}))):j({style:["The style size color combination does not exist"]})},children:[Object(J.jsxs)(Oe.a,{children:["Order Id: ",x.orderId," ------ Order No: ",x.orderNo]}),0!=Object.keys(l).length&&Object(J.jsxs)(Oe.a,{error:!0,children:["Invalid data ",l.form]}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,select:!0,fullWidth:!0,id:"store",label:"Store Name",name:"store",inputProps:{maxLength:50},helperText:l.store?l.store[0]:"",error:!!l.store,defaultValue:x.store,children:L.map((function(e){return Object(J.jsx)(Ce.a,{value:e.storeCode,children:e.storeName},e.storeCode)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,select:!0,id:"orderStatus",label:"Order Status",name:"orderStatus",inputProps:{maxLength:15},helperText:l.orderStatus?l.orderStatus[0]:"",error:!!l.orderStatus,defaultValue:x.orderStatus,children:["Unfulfilled","Processed","Printed","Shipped","Cancelled"].map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"saleDate",label:"Sale Date",name:"saleDate",type:"date",helperText:l.saleDate?l.saleDate[0]:"",error:!!l.saleDate,defaultValue:x.saleDate,InputLabelProps:{shrink:!0}}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"orderNo",label:"Order No",name:"orderNo",inputProps:{maxLength:20},helperText:l.orderNo?l.orderNo[0]:"",error:!!l.orderNo,defaultValue:x.orderNo}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"recipientName",label:"Recipient Name",name:"recipientName",inputProps:{maxLength:50},helperText:l.recipientName?l.recipientName[0]:"",error:!!l.recipientName,defaultValue:x.recipientName}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,select:!0,inputRef:K,id:"style",label:"Style",name:"style",onChange:re,helperText:l.style?l.style[0]:"",error:!!l.style,defaultValue:x.style,children:F.map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,select:!0,inputRef:H,onChange:ne,id:"size",label:"Size",name:"size",helperText:l.size?l.size[0]:"",error:!!l.size,defaultValue:x.size,children:q.map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,select:!0,inputRef:Z,id:"color",label:"Color",name:"color",helperText:l.color?l.color[0]:"",error:!!l.color,defaultValue:x.color,children:G.map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"design",label:"design",name:"design",inputProps:{maxLength:50},helperText:l.design?l.design[0]:"",error:!!l.design,defaultValue:x.design}),Object(J.jsxs)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,select:!0,id:"processing",label:"Processing",name:"processing",inputProps:{maxLength:1},helperText:l.processing?l.processing[0]:"",error:!!l.processing,defaultValue:x.processing,children:[Object(J.jsx)(Ce.a,{value:"N",children:"No"},0),Object(J.jsx)(Ce.a,{value:"Y",children:"Yes"},1)]}),Object(J.jsxs)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,select:!0,id:"printed",label:"Printed",name:"printed",inputProps:{maxLength:1},helperText:l.printed?l.printed[0]:"",error:!!l.printed,defaultValue:x.printed,children:[Object(J.jsx)(Ce.a,{value:"N",children:"No"},0),Object(J.jsx)(Ce.a,{value:"Y",children:"Yes"},1)]}),Object(J.jsxs)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,select:!0,id:"shipped",label:"Shipped",name:"shipped",inputProps:{maxLength:1},helperText:l.shipped?l.shipped[0]:"",error:!!l.shipped,defaultValue:x.shipped,children:[Object(J.jsx)(Ce.a,{value:"N",children:"No"},0),Object(J.jsx)(Ce.a,{value:"Y",children:"Yes"},1)]}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"sfmNotes",label:"SFM Notes",name:"sfmNotes",inputProps:{maxLength:5e3},helperText:l.sfmNotes?l.sfmNotes[0]:"",error:!!l.sfmNotes,defaultValue:x.sfmNotes}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"Buyer Name",label:"buyerName",name:"buyerName",inputProps:{maxLength:50},helperText:l.buyerName?l.buyerName[0]:"",error:!!l.buyerName,defaultValue:x.buyerName}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,type:"email",id:"buyerEmail",label:"Buyer Email",name:"buyerEmail",inputProps:{maxLength:50},helperText:l.buyerEmail?l.buyerEmail[0]:"",error:!!l.buyerEmail,defaultValue:x.buyerEmail}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"buyerComments",label:"Buyer Comments",name:"buyerComments",inputProps:{maxLength:5e3},helperText:l.buyerComments?l.buyerComments[0]:"",error:!!l.buyerComments,defaultValue:x.buyerComments}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"giftMessages",label:"Gift Messages",name:"giftMessages",inputProps:{maxLength:5e3},helperText:l.giftMessages?l.giftMessages[0]:"",error:!!l.giftMessages,defaultValue:x.giftMessages}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"sku",label:"SKU",name:"sku",inputProps:{maxLength:20},helperText:l.sku?l.sku[0]:"",error:!!l.sku,defaultValue:x.sku}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"shipDate",label:"shipDate",name:"shipDate",type:"datetime-local",InputLabelProps:{shrink:!0},helperText:l.shipDate?l.shipDate[0]:"",error:!!l.shipDate,defaultValue:ae}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"priorityShip",label:"priorityShip",name:"priorityShip",inputProps:{maxLength:50},helperText:l.priorityShip?l.priorityShip[0]:"",error:!!l.priorityShip,defaultValue:x.priorityShip}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"customerPaidShipping",label:"Customer Paid Shipping $",name:"customerPaidShipping",type:"number",inputProps:{step:.01,min:0,max:99999},helperText:l.customerPaidShipping?l.customerPaidShipping[0]:"",error:!!l.customerPaidShipping,defaultValue:x.customerPaidShipping}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"trackingNumber",label:"Tracking Number",name:"trackingNumber",inputProps:{maxLength:30},helperText:l.trackingNumber?l.trackingNumber[0]:"",error:!!l.trackingNumber,defaultValue:x.trackingNumber}),Object(J.jsx)(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"})]}):Object(J.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault();var r=new FormData(t.target),a={};r.forEach((function(e,t){return a[t]=e})),a.sfmId=a.style+"-"+a.size+"-"+a.color,0!=T.filter((function(e){return e.sfmId==a.sfmId})).length?(""!=a.shipDate&&(a.shipDate=new Date(a.shipDate).toJSON()),a=Object(d.a)(Object(d.a)({},x),a),console.log(a),B.b.updateOrder(n["mr-token"],e.id,a).then((function(t){return 400==t.status&&(console.log(t),m(!1),X=!0),200==t.status&&(m(!0),alert("Saved Successfully"),e.setMode("none")),t.json()})).then((function(e){X&&j(e)})).catch((function(e){console.log("api error"),console.error(e)}))):j({style:["The style size color combination does not exist"]})},children:[0!=Object.keys(l).length&&Object(J.jsxs)(Oe.a,{error:!0,children:["Invalid data ",l.form]}),Object(J.jsxs)(Oe.a,{children:["Order Id: ",x.orderId," ------ Order No: ",x.orderNo]}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,select:!0,inputRef:K,id:"style",label:"Style",name:"style",onChange:re,helperText:l.style?l.style[0]:"",error:!!l.style,defaultValue:x.style,children:F.map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,select:!0,inputRef:H,id:"size",label:"Size",name:"size",onChange:ne,helperText:l.size?l.size[0]:"",error:!!l.size,defaultValue:x.size,children:q.map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,select:!0,inputRef:Z,id:"color",label:"Color",name:"color",helperText:l.color?l.color[0]:"",error:!!l.color,defaultValue:x.color,children:G.map((function(e){return Object(J.jsx)(Ce.a,{value:e,children:e},e)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"design",label:"design",name:"design",helperText:l.design?l.design[0]:"",error:!!l.design,defaultValue:x.design}),Object(J.jsx)(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"})]})]}):Object(J.jsx)("div",{children:"Loading"}):Object(J.jsx)(Q.a,{to:"/signin"})}var Me=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Ve=Object(b.a)({root:{"& .cold":{backgroundColor:"#b9d5ff91",color:"#1a3e72"},"& .hot":{backgroundColor:"#ff943975",color:"#1a3e72"}}}),qe=[{field:"orderId",headerName:"Id",width:80},{field:"storeName",headerName:"Store Name",width:150},{field:"orderStatus",headerName:"Status",width:110},{field:"saleDate",headerName:"Sale Date",type:"date",editable:!0,width:120,valueFormatter:function(e){if(e.value)return function(e){var t=String(e.getDate()).padStart(2,"0");return String(e.getMonth()+1).padStart(2,"0")+"/"+t+"/"+String(e.getFullYear()).substr(2,2)}(new Date(e.value))}},{field:"orderNo",headerName:"Order No",width:150},{field:"orderCount",headerName:"Order Cnt",width:110},{field:"recipientName",headerName:"Recipent Name",editable:!0,width:200},{field:"style",headerName:"Style",width:150},{field:"size",headerName:"Size",width:80},{field:"color",headerName:"Color",width:110},{field:"design",headerName:"Design",width:150},{field:"processing",headerName:"Processing"},{field:"printed",headerName:"Printed",width:80},{field:"shipped",headerName:"Shipped",width:90},{field:"sfmNotes",headerName:"SFM Notes",width:150},{field:"buyerName",headerName:"Buyer Name",width:200},{field:"buyerEmail",headerName:"Buyer Email",width:200},{field:"buyerComments",headerName:"Buyer Comments",width:150},{field:"giftMessages",headerName:"Gift Messages",width:150},{field:"sfmId",headerName:"SFM ID",width:300},{field:"sku",headerName:"SKU",width:200},{field:"shipDate",headerName:"Ship Date",type:"datetime",editable:!0,width:150,valueFormatter:function(e){if(e.value)return function(e){var t=String(e.getDate()).padStart(2,"0");return String(e.getMonth()+1).padStart(2,"0")+"/"+t+"/"+String(e.getFullYear()).substr(2,2)+" "+String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")}(new Date(e.value))}},{field:"priorityShip",headerName:"Priority Ship",width:110,editable:!0},{field:"customerPaidShipping",headerName:"Customer Paid Shipping",width:150,type:"number",editable:!0,valueFormatter:function(e){var t=e.value;return Me.format(Number(t))}},{field:"trackingNumber",headerName:"Tracking Number",width:150,editable:!0},{field:"productAvailability",headerName:"Product Availability",width:120}];var Ue=function(e){var t=Ve(),r=Object(u.useState)([]),n=Object(s.a)(r,2),a=n[0],o=n[1],i=Object(u.useState)([]),c=Object(s.a)(i,2),l=c[0],h=c[1],b=Object(u.useState)(""),p=Object(s.a)(b,2),m=p[0],f=p[1],O=Object(ee.a)(["mr-token"]),x=Object(s.a)(O,1)[0],g=Object(ee.a)(["mr-user"]),v=Object(s.a)(g,1)[0],S=Object(u.useState)("none"),w=Object(s.a)(S,2),k=w[0],N=w[1],C=Object(u.useState)(!1),T=Object(s.a)(C,2),P=T[0],D=T[1],I=Object(u.useState)([]),L=Object(s.a)(I,2),z=L[0],W=L[1],E=Object(u.useState)([]),F=Object(s.a)(E,2),A=F[0],M=F[1],V=Object(u.useState)(null),q=Object(s.a)(V,2),U=q[0],_=q[1],R=Object(u.useState)(!1),G=Object(s.a)(R,2),Y=G[0],K=G[1],H=Object(u.useState)(null),Z=Object(s.a)(H,2),X=Z[0],$=Z[1],te=Object(u.useState)(!1),je=Object(s.a)(te,2),be=je[0],me=je[1],Oe=Object(u.useState)(""),xe=Object(s.a)(Oe,2),ge=xe[0],ve=xe[1],ye=parseInt(v["mr-user"].split("-")[1]),Se=j.a.useCallback((function(e){var t=e.id,r=e.field,n=e.props;console.log("cell commit",A,n);var a=n,o=A.map((function(e){var n={};return n[r]=a.value,e.orderId===t?Object(d.a)(Object(d.a)({},e),n):e}));M(o),console.log("cell commit after ",o)}),[A]),we=function(e){e.preventDefault();var t=new FormData;if(Y&&-1==U.name.search(/order/i))ve("Please make sure you have selected orders file. File name should contain the word order");else if(be&&-1==X.name.search(/ship/i))ve("Please make sure you have selected shipping file. File name should contain the word ship");else{var r;if(Y)t.append("ordersFile",U),r=B.b.uploadOrdersFile(x["mr-token"],t);else{if(!be)return void ve("Please select a file");t.append("shippingFile",X),r=B.b.uploadShippingFile(x["mr-token"],t)}r.then((function(e){return e.json()})).then((function(e){e.errors?0==e.errors.length?(ve("Successfully imported all records"),console.log("Successfully imported all records")):(ve("Partial Success (see error records in console (hit Ctrl+Shift+i)"),console.log("Following rows were not imported: "),console.log(e.errors)):ve("Failed import due to unknown reason"),K(!1),_(null),me(!1),$(null),Ce(),N("none")})).catch((function(e){console.error("Error:",e),K(!1),_(null),me(!1),$(null),ve("Failed import due to unknown reasons")}))}},ke=function(e){N("update")},Ne=function(e){D(!1)};function Ce(){console.log("fetching details"),B.b.getOrderList(x["mr-token"]).then((function(e){e.forEach((function(e,t){return e.id=e.orderId}));var t=[{prop:"shipDate",direction:-1},{prop:"storeName",direction:1},{prop:"recipientName",direction:1}];return e.sort((function(e,r){var n=0,a=0;if(e.shipDate||r.shipDate){if(!e.shipDate)return-1;if(!r.shipDate)return 1}else n++;for(;n<t.length&&0===a;)a=t[n].direction*(e[t[n].prop].toString()<r[t[n].prop].toString()?-1:e[t[n].prop].toString()>r[t[n].prop].toString()?1:0),n++;return a})),o(e)})).catch((function(e){console.log("api error"),console.error(e)}))}Object(u.useEffect)((function(){e.setTitle("Orders"),"none"==k&&(W([]),M([]),console.log("inside useeffect"),Ce())}),[k,x]),Object(u.useEffect)((function(){Te(m)}),[a]);var Te=function(e){var t=Object(oe.a)(a);""!=e&&(t=t.filter((function(t){var r=e.toLowerCase();return t.orderStatus.toLowerCase().search(r)>=0||t.style.toLowerCase().search(r)>=0||t.orderNo.toLowerCase().search(r)>=0||t.storeName.toLowerCase().search(r)>=0||t.recipientName.toLowerCase().search(r)>=0||t.design.toLowerCase().search(r)>=0||t.size.toLowerCase().search(r)>=0||t.color.toLowerCase().search(r)>=0}))),W([]),M([]),h(t)};return x["mr-token"]?Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[""==ge?"":Object(J.jsx)("div",{style:{color:"red"},children:ge}),"none"==k?Object(J.jsxs)("div",{children:[0==ye&&Object(J.jsx)(y.a,{style:{marginBottom:"10px"},color:"primary",variant:"contained",disabled:1!=z.length||"N"!=A[0].processing,onClick:ke,children:Object(J.jsx)(pe.a,{})}),0!=ye&&Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",flexDirection:"row"},children:[Object(J.jsx)(y.a,{style:{width:"60px"},color:"primary",variant:"contained",onClick:function(e){N("add")},children:Object(J.jsx)(he.a,{})}),Object(J.jsx)(y.a,{color:"primary",variant:"contained",disabled:1!=z.length,onClick:ke,children:Object(J.jsx)(pe.a,{})}),Object(J.jsxs)("div",{children:[Object(J.jsx)(y.a,{variant:"outlined",color:"secondary",disabled:!(z.length>0),onClick:function(e){D(!0)},children:Object(J.jsx)(fe.a,{})}),Object(J.jsxs)(ce.a,{open:P,onClose:Ne,children:[Object(J.jsxs)(se.a,{id:"alert-dialog-title",children:['"Are you sure you want to delete the ',z.length,' items"']}),Object(J.jsxs)(le.a,{children:[Object(J.jsx)(de.a,{onClick:Ne,color:"primary",children:"Cancel"}),Object(J.jsx)(de.a,{onClick:function(e){console.log("u confirmed delete"),z.forEach((function(e){B.b.deleteOrder(x["mr-token"],e).then((function(t){200==t.status||204==t.status?console.log("deleted order with id ".concat(e)):console.log("Failed to delete order with id ".concat(e))})).catch((function(t){return console.error("could not delete order id ".concat(e),t)}))})),D(!1)},color:"primary",autoFocus:!0,children:"Confirm"})]})]})]}),Object(J.jsx)(de.a,{variant:"contained",color:"primary",disabled:!(A.length>0),onClick:function(e){function t(){return(t=Object(ae.a)(re.a.mark((function e(){var t,r,n,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=Object(ne.a)(A),e.prev=2,a=re.a.mark((function e(){var r,a,o,i,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.value,e.prev=1,a=function(){var e=Object(ae.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B.b.updateOrder(x["mr-token"],r.orderId,r));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=5,a();case 5:if(200!=(o=e.sent).status){e.next=10;break}console.log("updated order with id ".concat(r.orderId)),e.next=20;break;case 10:if(400!=o.status){e.next=19;break}return console.log("Invalid Update for order with id ".concat(r.orderId)),e.next=14,o.json();case 14:i=e.sent,c=r.orderId,t.push({orderId:c,result:i}),e.next=20;break;case 19:throw"server error";case 20:e.next=27;break;case 22:e.prev=22,e.t0=e.catch(1),console.log("Something went wrong for order id ".concat(r.orderId)),console.error(e.t0),t.push("Something went wrong for order id ".concat(r.orderId));case 27:case"end":return e.stop()}}),e,null,[[1,22]])})),r.s();case 5:if((n=r.n()).done){e.next=9;break}return e.delegateYield(a(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),r.e(e.t1);case 14:return e.prev=14,r.f(),e.finish(14);case 17:t.length>0?ve("Some rows were not updated\n"+JSON.stringify(t)):ve("Updated successfully");case 18:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))).apply(this,arguments)}console.log("updating the orders",A),function(){t.apply(this,arguments)}()},children:"Mass Update"}),Object(J.jsxs)("form",{children:[Object(J.jsx)("input",{type:"file",name:"myfile",id:"myfile",onChange:function(e){console.log(e),1==e.target.files.length?(_(e.target.files[0]),console.log("order file is: ",e.target.files[0]),e.target.labels[0].textContent=e.target.files[0].name,K(!0)):(_(null),K(!1))},hidden:!0}),Object(J.jsx)("label",{htmlFor:"myfile",className:"file-input-label",children:"Choose File"}),Object(J.jsx)(de.a,{type:"submit",disabled:!Y,onClick:we,color:"primary",variant:"contained",children:"Import Order Details"})]}),Object(J.jsxs)("form",{children:[Object(J.jsx)("input",{type:"file",name:"myShippingfile",id:"myShippingfile",onChange:function(e){1==e.target.files.length?($(e.target.files[0]),console.log("ship file is: ",e.target.files[0]),e.target.labels[0].textContent=e.target.files[0].name,me(!0)):($(null),me(!1))},hidden:!0}),Object(J.jsx)("label",{htmlFor:"myShippingfile",className:"file-input-label",children:"Choose File"}),Object(J.jsx)(de.a,{type:"submit",disabled:!be,onClick:we,color:"primary",variant:"contained",children:"Import Shipping Details"})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)(ue.a,{variant:"outlined",size:"small",margin:"none",type:"text",value:m,text:"Search",onChange:function(e){return f(e.target.value)},onKeyPress:function(e){return"Enter"==e.key&&Te(e.target.value)}}),Object(J.jsx)(de.a,{color:"primary",variant:"contained",onClick:function(e){return Te(m)},children:"Search"})]})]}),Object(J.jsx)("div",{style:{width:"100%",padding:"5px",height:"calc(100vh - 100px)",minWidth:"600px"},className:t.root,children:Object(J.jsx)(ie.a,{rows:l,columns:qe,checkboxSelection:!0,components:{Toolbar:ie.b},disableSelectionOnClick:!0,onSelectionModelChange:function(e){console.log(e),W(e.selectionModel)},onRowSelected:function(e){console.log(e);var t=Object(oe.a)(e.api.current.getSelectedRows().values());console.log("selected rows ere : ",t),M(t)},onEditCellChangeCommitted:Se,disableColumnMenu:!0,getRowClassName:function(e){if("Short"==e.row.productAvailability||"Out Of Stock"==e.row.productAvailability)return"hot"}})})]}):"add"==k?Object(J.jsx)(Ee,{mode:k,setMode:N}):Object(J.jsx)(Ae,{id:z[0],mode:k,setMode:N})]}):Object(J.jsx)(Q.a,{to:"/signin"})},_e=r(228);r(253),Object(b.a)((function(){return{root:{alignItems:"center",lineHeight:"24px",width:"100%",height:"100%",position:"relative",display:"flex","& .cellValue":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}}));var Re=r(277),Ge=r(167),Ye=r.n(Ge),Be=r(263),Je=r(266),Ke=r(258),He=r(262),Ze=r(264),Xe=r(265),$e=Object(b.a)({table:{minWidth:700},headcell:{fontWeight:"bold",fontSize:"1rem",padding:"6px"},redbtn:{color:"white",background:"red",float:"right"},greenbtn:{color:"white",background:"green",float:"right"},tablecell:{padding:"6px"}});var Qe=function(e){var t=$e(),r=Object(u.useState)([]),n=Object(s.a)(r,2),a=n[0],o=n[1],i=Object(u.useState)([]),c=Object(s.a)(i,2),l=c[0],j=c[1],h=Object(ee.a)(["mr-token"]),b=Object(s.a)(h,1)[0],p=Object(ee.a)(["mr-user"]),m=Object(s.a)(p,1)[0],f=Object(u.useState)("none"),O=Object(s.a)(f,2),x=O[0],g=O[1],v=Object(u.useState)(!1),S=Object(s.a)(v,2),w=S[0],k=S[1],N=Object(u.useState)(""),C=Object(s.a)(N,2),T=C[0],P=C[1],D=Object(u.useState)([]),I=Object(s.a)(D,2),L=I[0],z=I[1],W=Object(u.useState)(!1),E=Object(s.a)(W,2),F=E[0],A=E[1],M=Object(u.useState)(""),V=Object(s.a)(M,2),q=V[0],U=V[1],_=function(e){var t=parseInt(e.target.dataset.oid);console.log(t),console.log(e.target.checked);var r=[];if(e.target.checked)r=[].concat(Object(oe.a)(L),[t]);else{var n=L.indexOf(t);n>-1&&L.splice(n,1),r=Object(oe.a)(L)}console.log(r),z(r)},R=function(e){console.log(e.currentTarget,e.currentTarget.dataset.oid);var t=parseInt(e.currentTarget.dataset.oid),r=String(e.currentTarget.dataset.btype),n=a.find((function(e){return e.orderId==t})),i={};if(console.log(r),"processing"==r){var c="Y"==n.processing?"N":"Y";console.log(c),i=Object(d.a)(Object(d.a)({},n),{},{processing:c})}if("printed"==r){var s="Y"==n.printed?"N":"Y";console.log(s),i=Object(d.a)(Object(d.a)({},n),{},{printed:s})}if("shipped"==r){var l="Y"==n.shipped?"N":"Y";console.log(l),i=Object(d.a)(Object(d.a)({},n),{},{shipped:l})}B.b.updateOrder(b["mr-token"],t,i).then((function(e){if(200==e.status)return e.json();throw"Something went wrong"})).then((function(e){var t=a.map((function(t){return t.orderId==e.orderId?e:t}));U("updated order"),console.log(t.map((function(e){return e.orderId}))),o(t)})).catch((function(e){console.log("api error"),console.error(e),U("Something went wrong")}))},G=function(e){k(!1)};Object(u.useEffect)((function(){e.setTitle("Printing"),"none"==x&&(A(!0),z([]),B.b.getPrintingList(b["mr-token"]).then((function(e){var t=e;console.log("fetching orders"),t.forEach((function(e,t){return e.id=e.orderId}));var r=[{prop:"storeName",direction:1},{prop:"recipientName",direction:1},{prop:"orderNo",direction:1},{prop:"orderStatus",direction:1}];t.sort((function(e,t){for(var n=0,a=0;n<r.length&&0===a;)a=r[n].direction*(e[r[n].prop].toString()<t[r[n].prop].toString()?-1:e[r[n].prop].toString()>t[r[n].prop].toString()?1:0),n++;return a})),console.log(t.map((function(e){return e.orderId}))),o(t),A(!1)})).catch((function(e){console.log("api error"),console.error(e),A(!1)})))}),[x,b]),Object(u.useEffect)((function(){Y(T)}),[a]);var Y=function(e){var t=Object(oe.a)(a);""!=e&&(t=t.filter((function(t){var r=e.toLowerCase();return t.displayStatus.toLowerCase().search(r)>=0||t.style.toLowerCase().search(r)>=0||t.orderNo.toLowerCase().search(r)>=0||t.storeName.toLowerCase().search(r)>=0||t.recipientName.toLowerCase().search(r)>=0||t.design.toLowerCase().search(r)>=0||t.size.toLowerCase().search(r)>=0||t.color.toLowerCase().search(r)>=0||t.productAvailability.toLowerCase().search(r)>=0}))),z([]),j(t)},K=0;return b["mr-token"]?(parseInt(m["mr-user"].split("-")[1]),Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[Object(J.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:Object(J.jsx)("div",{})}),""!=q&&Object(J.jsx)("div",{style:{color:"red"},children:q}),"none"==x?Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",flexDirection:"row"},children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(y.a,{color:"primary",variant:"contained",onClick:function(e){g("add")},children:Object(J.jsx)(he.a,{})}),Object(J.jsx)(y.a,{variant:"contained",color:"primary",disabled:1!=L.length,onClick:function(e){g("update")},children:Object(J.jsx)(pe.a,{})}),Object(J.jsx)(y.a,{variant:"contained",color:"secondary",disabled:!(L.length>0),onClick:function(e){k(!0)},children:Object(J.jsx)(fe.a,{})}),Object(J.jsxs)(ce.a,{open:w,onClose:G,children:[Object(J.jsxs)(se.a,{children:['"Are you sure you want to delete the ',L.length,' items"']}),Object(J.jsxs)(le.a,{children:[Object(J.jsx)(de.a,{onClick:G,color:"primary",children:"Cancel"}),Object(J.jsx)(de.a,{onClick:function(e){console.log("u confirmed delete");var t=[],r=function(){var e=Object(ae.a)(re.a.mark((function e(){var r,n,a,o;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(ne.a)(L),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=23;break}return a=n.value,e.prev=5,e.next=8,B.b.deleteOrder(b["mr-token"],a);case 8:if(200!=(o=e.sent).status&&204!=o.status){e.next=13;break}console.log("deleted order with id ".concat(a)),e.next=15;break;case 13:throw console.log("Failed to delete order with id ".concat(a)),"Failed to delete order with id ".concat(a);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.error("could not delete order id ".concat(a),e.t0),t.push("could not delete order id ".concat(a));case 21:e.next=3;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(1),r.e(e.t1);case 28:return e.prev=28,r.f(),e.finish(28);case 31:t.length>0?U("Some rows were not deleted\n"+t.toString()+" Pleae refresh"):U("Deleted successfully. Please refresh");case 32:case"end":return e.stop()}}),e,null,[[1,25,28,31],[5,17]])})));return function(){return e.apply(this,arguments)}}();k(!1),r()},color:"primary",autoFocus:!0,children:"Confirm"})]})]})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)(ue.a,{variant:"outlined",size:"small",margin:"none",type:"text",value:T,text:"Search",onChange:function(e){return P(e.target.value)},onKeyPress:function(e){return"Enter"==e.key&&Y(e.target.value)}}),Object(J.jsx)(de.a,{color:"primary",variant:"contained",onClick:function(e){return Y(T)},children:"Search"})]})]}),F?Object(J.jsx)("h2",{children:"Loading...  Please wait"}):Object(J.jsx)(He.a,{component:_e.a,style:{height:"calc(100vh - 140px)"},children:Object(J.jsxs)(Be.a,{className:t.table,size:"small","aria-label":"spanning table",children:[Object(J.jsx)(Ze.a,{children:Object(J.jsxs)(Xe.a,{children:[Object(J.jsx)(Ke.a,{className:t.tablecell,children:Object(J.jsx)(Re.a,{disabled:!0})}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Status"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Shop"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Recipient/Order/#"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Style"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Size"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Color"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Design"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Msg"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Processed"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Printed"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Shipped"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Product Availability"}),Object(J.jsx)(Ke.a,{className:t.headcell,children:"Notes"})]})}),Object(J.jsx)(Je.a,{children:l.map((function(e,r,n){var a=!1;if(r==K){a=!0;for(var o=r+1;o<n.length;o++)if(e.orderNo!=n[o].orderNo||e.storeName!=n[o].storeName||e.recipientName!=n[o].recipientName||e.displayStatus!=n[o].displayStatus){K=o;break}}return Object(J.jsxs)(Xe.a,{children:[Object(J.jsx)(Ke.a,{className:t.tablecell,children:Object(J.jsx)(Re.a,{inputProps:{"data-oid":e.orderId},onChange:_})}),a&&Object(J.jsx)(Ke.a,{style:{whiteSpace:"nowrap"},rowSpan:K-r,className:t.tablecell,children:e.displayStatus}),a&&Object(J.jsx)(Ke.a,{style:{whiteSpace:"nowrap"},rowSpan:K-r,className:t.tablecell,children:e.storeName}),a&&Object(J.jsxs)(Ke.a,{style:{whiteSpace:"nowrap"},rowSpan:K-r,className:t.tablecell,children:[Object(J.jsx)("div",{children:e.recipientName}),Object(J.jsx)("div",{children:e.orderNo}),Object(J.jsx)("div",{children:e.orderCount})]}),Object(J.jsx)(Ke.a,{style:{whiteSpace:"nowrap"},className:t.tablecell,children:e.style}),Object(J.jsx)(Ke.a,{style:{whiteSpace:"nowrap"},className:t.tablecell,children:e.size}),Object(J.jsx)(Ke.a,{style:{whiteSpace:"nowrap"},className:t.tablecell,children:e.color}),Object(J.jsx)(Ke.a,{style:{whiteSpace:"nowrap"},className:t.tablecell,children:e.design}),Object(J.jsx)(Ke.a,{style:{maxWidth:"50px"},className:t.tablecell,children:e.giftMessages&&Object(J.jsx)(Ye.a,{})}),Object(J.jsx)(Ke.a,{className:t.tablecell,children:Object(J.jsx)(de.a,{onClick:R,"data-oid":e.orderId,"data-btype":"processing",className:"Y"==e.processing?t.greenbtn:t.redbtn,variant:"contained",children:e.processing})}),Object(J.jsx)(Ke.a,{className:t.tablecell,children:Object(J.jsx)(de.a,{onClick:R,"data-oid":e.orderId,"data-btype":"printed",className:"Y"==e.printed?t.greenbtn:t.redbtn,variant:"contained",children:e.printed})}),Object(J.jsx)(Ke.a,{className:t.tablecell,children:Object(J.jsx)(de.a,{onClick:R,"data-oid":e.orderId,"data-btype":"shipped",className:"Y"==e.shipped?t.greenbtn:t.redbtn,variant:"contained",children:e.shipped})}),Object(J.jsx)(Ke.a,{className:t.tablecell,children:e.productAvailability}),Object(J.jsx)(Ke.a,{className:t.tablecell,style:{maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.sfmNotes})]},e.orderId)}))})]})})]}):"add"==x?Object(J.jsx)(Ee,{mode:x,setMode:g,fromPrinting:!0}):Object(J.jsx)(Ae,{id:L[0],mode:x,setMode:g,fromPrinting:!0})]})):Object(J.jsx)(Q.a,{to:"/signin"})};var et=function(e){var t=Object(ee.a)(["mr-token"]),r=Object(s.a)(t,1)[0],n=Object(ee.a)(["mr-user"]),a=Object(s.a)(n,1)[0],o=parseInt(a["mr-user"].split("-")[1]),i=Object(u.useState)(""),c=Object(s.a)(i,2),l=c[0],d=c[1],j=Object(u.useState)(!0),h=Object(s.a)(j,2),b=h[0],p=h[1],m=Object(u.useState)([]),f=Object(s.a)(m,2),O=f[0],x=f[1],v=Object(u.useState)([]),y=Object(s.a)(v,2),S=y[0],w=y[1],k=Object(u.useState)(""),N=Object(s.a)(k,2),C=N[0],T=N[1],P=Object(u.useState)(function(){var e=new Date;e.setDate(e.getDate()-30);var t=e.getTimezoneOffset();return new Date(e.getTime()-60*t*1e3).toISOString().split("T")[0]}()),D=Object(s.a)(P,2),I=D[0],L=D[1],z=Object(u.useState)(""),W=Object(s.a)(z,2),E=W[0],F=W[1],A=Object(u.useState)({}),M=Object(s.a)(A,2),V=M[0],q=M[1];Object(u.useEffect)((function(){Object(ae.a)(re.a.mark((function t(){var n,i,c,s,l;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setTitle("Dashboard"),t.prev=1,t.next=4,B.b.getStoreList(r["mr-token"]);case 4:return n=t.sent,t.next=7,n.json();case 7:if(0!=(i=t.sent).length){t.next=10;break}throw"No stores available";case 10:0==o?(c=a["mr-user"].split("-")[0],i=i.filter((function(e){return e.user==c}))):i.unshift({storeName:"All",storeCode:"All"}),x(i),s=i[0].storeCode,1==o&&(s="All"),T(s),U(s,I,E),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(1),console.log("api error"),console.error(t.t0),d("Something went wrong. Please refresh");case 23:if(1!=o){t.next=36;break}return t.prev=24,t.next=27,B.b.getInventoryList(r["mr-token"]);case 27:l=t.sent,w(l),t.next=36;break;case 31:t.prev=31,t.t1=t.catch(24),console.log("api error"),console.error(t.t1),d("Something went wrong. Please refresh");case 36:p(!1);case 37:case"end":return t.stop()}}),t,null,[[1,18],[24,31]])})))()}),[]);var U=function(e,t,n){if(console.log(e),""!=e){var a={store:e,startDate:t,endDate:n};B.b.getOverview(r["mr-token"],a).then((function(e){if(200==e.status)return e.json();throw"Something went wrong. Please make sure store is selected."})).then((function(e){q(e)})).catch((function(e){console.log(e),d(String(e))}))}else d("Please choose a store")};return r["mr-token"]?2==o?Object(J.jsx)(Q.a,{to:"/signin"}):b?Object(J.jsx)("div",{children:"Loading. Please wait"}):Object(J.jsxs)("div",{children:[l&&Object(J.jsx)("h3",{style:{color:"red"},children:l}),Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,select:!0,style:{minWidth:"250px"},label:"Store",name:"store",value:C,onChange:function(e){console.log(e.target.value),T(e.target.value)},children:O.map((function(e){return Object(J.jsx)(Ce.a,{value:e.storeCode,children:e.storeName},e.storeCode)}))}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",label:"Start Date",name:"startDate",type:"date",value:I,onChange:function(e){return L(e.target.value)},InputLabelProps:{shrink:!0}}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",label:"End Date",name:"endtDate",type:"date",value:E,onChange:function(e){return F(e.target.value)},InputLabelProps:{shrink:!0}}),Object(J.jsx)(de.a,{type:"submit",variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),console.log(I,E),console.log(C,typeof I),U(C,I,E)},children:"Submit"})]}),Object(J.jsxs)(_e.a,{style:{padding:"10px",margin:"5px",marginTop:"15px"},children:[Object(J.jsx)(g.a,{variant:"h4",children:Object(J.jsx)("strong",{children:"Orders Summary"})}),Object(J.jsxs)(g.a,{children:[Object(J.jsx)("strong",{children:"Total Orders \xa0\xa0\xa0\xa0\xa0: "}),V.total]}),Object(J.jsxs)(g.a,{children:[Object(J.jsx)("strong",{children:"Fulfilled \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: "}),V.fulfilled]}),Object(J.jsxs)(g.a,{children:[Object(J.jsx)("strong",{children:"Unfulfilled \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: "}),V.unfulfilled]}),Object(J.jsxs)(g.a,{children:[Object(J.jsx)("strong",{children:"OnHold \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: "}),V.onhold]}),Object(J.jsxs)(g.a,{children:[Object(J.jsx)("strong",{children:"Out Of Stock \xa0\xa0\xa0\xa0: "}),V.outofstock]})]}),1==o&&Object(J.jsxs)("div",{children:[Object(J.jsxs)(_e.a,{style:{padding:"10px",margin:"5px",marginTop:"15px"},children:[Object(J.jsx)(g.a,{variant:"h4",children:Object(J.jsx)("strong",{children:"General"})}),Object(J.jsxs)(g.a,{children:[Object(J.jsx)("strong",{children:"Products \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: "}),S.length>0&&Object(oe.a)(new Set(S.map((function(e){return e.style})))).length]}),Object(J.jsxs)(g.a,{children:[Object(J.jsx)("strong",{children:"Store Count \xa0\xa0\xa0\xa0\xa0: "}),V.storecount]})]}),Object(J.jsxs)(_e.a,{style:{padding:"10px",margin:"5px",marginTop:"15px"},children:[Object(J.jsx)(g.a,{variant:"h4",children:Object(J.jsx)("strong",{children:"Inventory Needs"})}),Object(J.jsx)("table",{style:{padding:"20px"},children:S.length>0&&S.filter((function(e){return e.needToPurchase>0})).map((function(e){return Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:Object(J.jsxs)("strong",{children:[e.style," - ",e.size," - ",e.color," "]})}),Object(J.jsxs)("td",{children:[Object(J.jsx)("strong",{children:": "}),e.needToPurchase]})]},e.sfmId)}))})]})]})]}):Object(J.jsx)(Q.a,{to:"/signin"})};function tt(e){var t=Object(ee.a)(["mr-token"]),r=Object(s.a)(t,1)[0],n=Object(ee.a)(["mr-user"]),a=Object(s.a)(n,2),o=a[0],i=(a[1],Object(u.useState)("")),c=Object(s.a)(i,2),l=c[0],d=c[1],j=Object(u.useState)(""),h=Object(s.a)(j,2),b=h[0],p=h[1],m=Object(u.useState)(""),f=Object(s.a)(m,2),O=f[0],x=f[1],g=Object(u.useState)(""),v=Object(s.a)(g,2),y=v[0],S=v[1],w=Object(u.useState)(""),k=Object(s.a)(w,2),N=k[0],C=k[1],T=Object(u.useState)(""),P=Object(s.a)(T,2),D=P[0],I=P[1],L=Object(u.useState)(""),z=Object(s.a)(L,2),W=z[0],E=z[1],F=Object(u.useState)(!1),A=Object(s.a)(F,2),M=A[0],V=A[1],q=Object(u.useState)(""),U=Object(s.a)(q,2),_=U[0],R=U[1],G=Object(u.useState)({}),Y=Object(s.a)(G,2),K=Y[0],H=Y[1],Z=parseInt(o["mr-user"].split("-")[0]);Object(u.useEffect)((function(){Object(ae.a)(re.a.mark((function t(){var n,a;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setTitle("My Account"),t.prev=1,t.next=4,B.b.getAccountDetails(r["mr-token"],Z);case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,d(a.username),p(a.email),E(a.last_name),I(a.first_name),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),console.log("api error"),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,14]])})))()}),[]);var X=function(){var e=Object(ae.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.b.updateProfile(r["mr-token"],Z,{email:b,first_name:D,last_name:W});case 3:if(200==(n=e.sent).status&&(H(""),R("Updated Successfully")),400!=n.status){e.next=13;break}return console.log("dddd"),R("Invalid Data"),e.t0=H,e.next=11,n.json();case 11:e.t1=e.sent,(0,e.t0)(e.t1);case 13:e.next=20;break;case 15:e.prev=15,e.t2=e.catch(0),R("Something went wrong"),console.log("api error"),console.error(e.t2);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(ae.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.b.changePassword(r["mr-token"],Z,{password:y,password2:N,old_password:O});case 3:200==(n=e.sent).status&&(H(""),R("Password Changed Successfully")),400==n.status&&(R("Invalid Data"),H(n.json())),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),R("Something went wrong"),console.log("api error"),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r["mr-token"]?Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[Object(J.jsx)("div",{children:!1===M?Object(J.jsx)(de.a,{variant:"contained",color:"secondary",onClick:function(e){return V(!0)},children:"Change Password"}):Object(J.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(e){return V(!1)},children:"Back"})}),_&&Object(J.jsx)("h3",{style:{color:"red"},children:_}),0==M?Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",disabled:!0,id:"username",label:"Username",name:"username",value:l,inputProps:{maxLength:20},helperText:K.username?K.orderNo[0]:"",error:!!K.username}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,id:"email",label:"Email",name:"email",value:b,onChange:function(e){return p(e.target.value)},inputProps:{maxLength:50},helperText:K.email?K.email[0]:"",error:!!K.email}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,id:"first_name",label:"First Name",name:"first_name",value:D,onChange:function(e){return I(e.target.value)},inputProps:{maxLength:20},helperText:K.first_name?K.first_name[0]:"",error:!!K.first_name}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,id:"last_name",label:"Last Name",name:"last_name",value:W,onChange:function(e){return E(e.target.value)},inputProps:{maxLength:20},helperText:K.last_name?K.last_name[0]:"",error:!!K.last_name}),Object(J.jsx)(de.a,{variant:"contained",color:"primary",onClick:X,children:"Save Changes"})]}):Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,id:"old_password",label:"old_password",name:"old_password",type:"password",value:O,onChange:function(e){return x(e.target.value)},inputProps:{maxLength:20},helperText:K.old_password?K.old_password[0]:"",error:!!K.old_password}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,id:"password",label:"password",name:"password",type:"password",value:y,onChange:function(e){return S(e.target.value)},inputProps:{maxLength:20},helperText:K.password?K.password[0]:"",error:!!K.password}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",required:!0,id:"password2",label:"password2",name:"password2",type:"password",value:N,onChange:function(e){return C(e.target.value)},inputProps:{maxLength:20},helperText:K.password2?K.password2[0]:"",error:!!K.password2}),Object(J.jsx)(de.a,{variant:"contained",color:"primary",onClick:$,children:"Confirm"})]})]}):Object(J.jsx)(Q.a,{to:"/signin"})}var rt=r(217),nt=Object(b.a)({redcolor:{background:"red",color:"white"},greencolor:{background:"green",color:"white"}});function at(e){var t=nt(),r=Object(u.useState)([]),n=Object(s.a)(r,2),a=n[0],o=n[1],i=Object(ee.a)(["mr-token"]),c=Object(s.a)(i,1)[0],l=Object(ee.a)(["mr-user"]),j=Object(s.a)(l,1)[0],h=Object(u.useState)(-1),b=Object(s.a)(h,2),p=b[0],m=(b[1],Object(u.useState)("")),f=Object(s.a)(m,2),O=f[0],x=f[1],g=Object(u.useState)(function(){var e=new Date;e.setDate(e.getDate()-e.getDay()-7);var t=e.getTimezoneOffset();return new Date(e.getTime()-60*t*1e3).toISOString().split("T")[0]}()),v=Object(s.a)(g,2),y=v[0],S=v[1],w=Object(u.useState)(function(){var e=new Date;e.setDate(e.getDate()-e.getDay()-1);var t=e.getTimezoneOffset();return new Date(e.getTime()-60*t*1e3).toISOString().split("T")[0]}()),k=Object(s.a)(w,2),N=k[0],C=k[1],T=parseInt(j["mr-user"].split("-")[1]),P=[{field:"id",headerName:"Id",width:150,hide:!0},{field:"attachment",headerName:"Receipt",width:110,renderCell:function(e){return Object(J.jsx)(rt.a,{size:"small",href:e.value,target:"_blank",rel:"noopener noreferrer",children:"Open"})}},{field:"startDate",headerName:"Start Date",width:130},{field:"endDate",headerName:"End Date",width:130},{field:"storeName",headerName:"Store",width:150},{field:"invoiceNo",headerName:"Invoice Number",width:200},{field:"status",headerName:"Status",width:110,renderCell:function(e){return Object(J.jsx)(de.a,{variant:"contained",className:"Paid"==e.value?t.greencolor:t.redcolor,size:"small","data-pid":e.id,onClick:D,children:e.value})}},{field:"total",headerName:"Total",width:110},{field:"notes",headerName:"Notes",width:150}],D=function(e){var t=parseInt(e.currentTarget.dataset.pid),r=a.find((function(e){return e.id==t})),n="Paid"==r.status?"UnPaid":"Paid",i=Object(d.a)(Object(d.a)({},r),{},{status:n});B.b.updateInvoice(c["mr-token"],t,i).then((function(e){if(200==e.status)return e.json();throw 400==e.status?JSON.stringify(e.json()):"Unknown reason. Please refresh"})).then((function(e){var t=a.map((function(t){return t.id==e.id?e:t}));x("Status Updated"),o(t)})).catch((function(e){console.log("api error"),console.error(e),x("Something went wrong, "+String(e))})),console.log(e.target.value)};return Object(u.useEffect)((function(){Object(ae.a)(re.a.mark((function t(){var r,n;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setTitle("Invoices"),t.prev=1,t.next=4,B.b.getInvoiceList(c["mr-token"]);case 4:if(200==(r=t.sent).status){t.next=7;break}throw"invalid status ".concat(r.status," ").concat(r.statusText);case 7:return t.next=9,r.json();case 9:n=t.sent,o(n),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("api error"),console.error(t.t0),x("Something went wrong. Please refresh.");case 18:case"end":return t.stop()}}),t,null,[[1,13]])})))()}),[]),c["mr-token"]?-1!=p?Object(J.jsx)(Q.a,{to:{pathname:"/printinvoice",state:{invoiceid:p}}}):Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[""!=O&&Object(J.jsx)("div",{style:{color:"red"},children:O}),1==T&&Object(J.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"baseline",flexWrap:"wrap",flexDirection:"row"},children:[Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",label:"Start Date",name:"startDate",type:"date",size:"small",value:y,onChange:function(e){return S(e.target.value)},InputLabelProps:{shrink:!0}}),Object(J.jsx)(ue.a,{variant:"outlined",margin:"normal",label:"End Date",name:"endtDate",type:"date",size:"small",value:N,onChange:function(e){return C(e.target.value)},InputLabelProps:{shrink:!0}}),Object(J.jsx)(de.a,{color:"primary",variant:"contained",size:"small",onClick:function(e){e.preventDefault(),console.log(y,N),Object(ae.a)(re.a.mark((function e(){var t,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.b.generateInvoices(c["mr-token"],{startDate:y,endDate:N});case 3:if(200==(t=e.sent).status){e.next=6;break}throw"invalid status ".concat(t.status," ").concat(t.statusText);case 6:return e.next=8,t.json();case 8:r=e.sent,x("".concat(r.count," invoices created "),String(r.errors)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("api error"),console.error(e.t0),x("Something went wrong. Please refresh.");case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))()},children:"Generate Invoices"})]}),Object(J.jsx)("div",{style:{width:"100%",minWidth:"600px",height:"calc(100vh - 100px)"},children:Object(J.jsx)(ie.a,{rows:a,columns:P,components:{Toolbar:ie.b},disableColumnMenu:!0})})]}):Object(J.jsx)(Q.a,{to:"/signin"})}var ot=function(e){var t=e.setTitle;return Object(J.jsxs)(Q.d,{children:[Object(J.jsx)(Q.b,{exact:!0,path:"/",render:function(e){return Object(J.jsx)("div",Object(d.a)(Object(d.a)({},e),{},{children:"Welcome To SFM Dropshipping"}))}}),Object(J.jsx)(Q.b,{exact:!0,path:"/dashboard",render:function(e){return Object(J.jsx)(et,Object(d.a)(Object(d.a)({},e),{},{setTitle:t}))}}),Object(J.jsx)(Q.b,{exact:!0,path:"/products",render:function(e){return Object(J.jsx)(ye,Object(d.a)(Object(d.a)({},e),{},{setTitle:t}))}}),Object(J.jsx)(Q.b,{exact:!0,path:"/stores",render:function(e){return Object(J.jsx)(Ne,Object(d.a)(Object(d.a)({},e),{},{setTitle:t}))}}),Object(J.jsx)(Q.b,{exact:!0,path:"/purchases",render:function(e){return Object(J.jsx)(Ie,Object(d.a)(Object(d.a)({},e),{},{setTitle:t}))}}),Object(J.jsx)(Q.b,{exact:!0,path:"/inventory",render:function(e){return Object(J.jsx)(ze,Object(d.a)(Object(d.a)({},e),{},{setTitle:t}))}}),Object(J.jsx)(Q.b,{exact:!0,path:"/orders",render:function(e){return Object(J.jsx)(Ue,Object(d.a)(Object(d.a)({},e),{},{setTitle:t}))}}),Object(J.jsx)(Q.b,{exact:!0,path:"/printing",render:function(e){return Object(J.jsx)(Qe,Object(d.a)(Object(d.a)({},e),{},{setTitle:t}))}}),Object(J.jsx)(Q.b,{exact:!0,path:"/accountdetails",render:function(e){return Object(J.jsx)(tt,Object(d.a)(Object(d.a)({},e),{},{setTitle:t}))}}),Object(J.jsx)(Q.b,{exact:!0,path:"/invoices",render:function(e){return Object(J.jsx)(at,Object(d.a)(Object(d.a)({},e),{},{setTitle:t}))}})]})};var it=Object(b.a)((function(e){return{root:{display:"flex"},toolbar:{backgroundColor:"rgb(47,83,149)",paddingRight:24,paddingBottom:"5px",paddingTop:"10px"},toolbarIcon:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,textAlign:"center"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(l.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto",padding:"5px"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(0),paddingLeft:"0px",paddingRight:"0px"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ct(){var e=it(),t=j.a.useState(!0),r=Object(s.a)(t,2),n=r[0],a=r[1],o=j.a.useState("Home"),i=Object(s.a)(o,2),c=i[0],l=i[1],d=Object(ee.a)(["mr-token"]),u=Object(s.a)(d,3),b=u[0],w=(u[1],u[2]),N=Object(ee.a)(["mr-user"]),T=Object(s.a)(N,3),D=T[0],E=(T[1],T[2]);Object(h.a)(e.paper,e.fixedHeight);if(!b["mr-token"])return Object(J.jsx)(Q.a,{to:"/signin"});var F=0;return D["mr-user"]&&(F=parseInt(D["mr-user"].split("-")[1])),Object(J.jsxs)("div",{className:e.root,children:[Object(J.jsx)(p.a,{}),Object(J.jsx)(f.a,{position:"absolute",className:Object(h.a)(e.appBar,n&&e.appBarShift),children:Object(J.jsxs)(O.a,{className:e.toolbar,children:[Object(J.jsx)(y.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){a(!0)},className:Object(h.a)(e.menuButton,n&&e.menuButtonHidden),children:Object(J.jsx)(k.a,{})}),Object(J.jsx)(g.a,{component:"h1",variant:"h4",color:"inherit",noWrap:!0,className:e.title,children:c}),Object(J.jsx)("img",{src:$.a,alt:"SFM logo",style:{width:"120px"}})]})}),Object(J.jsxs)(m.a,{variant:"permanent",classes:{paper:Object(h.a)(e.drawerPaper,!n&&e.drawerPaperClose)},open:n,children:[Object(J.jsx)("div",{className:e.toolbarIcon,children:Object(J.jsx)(y.a,{onClick:function(){a(!1)},children:Object(J.jsx)(C.a,{})})}),Object(J.jsx)(v.a,{}),0==F&&Object(J.jsx)(x.a,{children:Z}),1==F&&Object(J.jsx)(x.a,{children:K}),2==F&&Object(J.jsx)(x.a,{children:H}),Object(J.jsx)(v.a,{}),Object(J.jsxs)(L.a,{button:!0,component:Y.b,to:"/accountDetails",children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(P.a,{})}),Object(J.jsx)(W.a,{primary:"My Account"})]}),Object(J.jsxs)(L.a,{button:!0,onClick:function(e){w("mr-token"),E("mr-user")},children:[Object(J.jsx)(z.a,{children:Object(J.jsx)(I.a,{color:"secondary"})}),Object(J.jsx)(W.a,{primary:"Sign Out"})]}),Object(J.jsx)(v.a,{}),1==F&&Object(J.jsx)(x.a,{children:X})]}),Object(J.jsxs)("main",{className:e.content,children:[Object(J.jsx)("div",{className:e.appBarSpacer}),Object(J.jsx)(S.a,{maxWidth:!1,className:e.container,children:Object(J.jsx)(ot,{setTitle:l})})]})]})}},45:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var n=r(65),a=r(61),o="https://sfm-dropshipping.herokuapp.com",i=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,null,[{key:"getProductList",value:function(e){return fetch(o+"/api/products/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"getProduct",value:function(e,t){return fetch(o+"/api/products/"+t+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"addProduct",value:function(e,t){return fetch(o+"/api/products/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(t)})}},{key:"updateProduct",value:function(e,t,r){return fetch(o+"/api/products/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(r)})}},{key:"deleteProduct",value:function(e,t){return fetch(o+"/api/products/"+t+"/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"getStoreList",value:function(e){return fetch(o+"/api/stores/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"getStore",value:function(e,t){return fetch(o+"/api/stores/"+t+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"updateStore",value:function(e,t,r){return fetch(o+"/api/stores/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(r)})}},{key:"getPurchasesList",value:function(e){return fetch(o+"/api/purchases/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"getPurchase",value:function(e,t){return fetch(o+"/api/purchases/"+t+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"addPurchase",value:function(e,t){return fetch(o+"/api/purchases/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(t)})}},{key:"updatePurchase",value:function(e,t,r){return fetch(o+"/api/purchases/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(r)})}},{key:"deletePurchase",value:function(e,t){return fetch(o+"/api/purchases/"+t+"/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"getInventoryList",value:function(e){return fetch(o+"/api/inventory/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}}).then((function(e){return e.json()}))}},{key:"getOrderList",value:function(e){return fetch(o+"/api/orders/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}}).then((function(e){return e.json()}))}},{key:"getPrintingList",value:function(e){return fetch(o+"/api/printing/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}}).then((function(e){return e.json()}))}},{key:"getOrder",value:function(e,t){return fetch(o+"/api/orders/"+t+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"addOrder",value:function(e,t){return fetch(o+"/api/orders/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(t)})}},{key:"deleteOrder",value:function(e,t){return fetch(o+"/api/orders/"+t+"/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"updateOrder",value:function(e,t,r){return fetch(o+"/api/orders/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(r)})}},{key:"getInvoiceList",value:function(e){return fetch(o+"/api/invoices/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"getInvoice",value:function(e,t){return fetch(o+"/api/invoices/"+t+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"updateInvoice",value:function(e,t,r){return fetch(o+"/api/invoices/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(r)})}},{key:"generateInvoices",value:function(e,t){return fetch(o+"/api/invoices/generate_invoices/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(t)})}},{key:"uploadOrdersFile",value:function(e,t){return fetch(o+"/api/orders/import_ordersfile/",{method:"POST",headers:{Authorization:"Token ".concat(e)},body:t})}},{key:"uploadShippingFile",value:function(e,t){return fetch(o+"/api/orders/import_shippingfile/",{method:"POST",headers:{Authorization:"Token ".concat(e)},body:t})}},{key:"uploadPurchasesFile",value:function(e,t){return fetch(o+"/api/purchases/import_file/",{method:"POST",headers:{Authorization:"Token ".concat(e)},body:t})}},{key:"uploadProductsFile",value:function(e,t){return fetch(o+"/api/products/import_file/",{method:"POST",headers:{Authorization:"Token ".concat(e)},body:t})}},{key:"uploadInventoryFile",value:function(e,t){return fetch(o+"/api/inventory/import_file/",{method:"POST",headers:{Authorization:"Token ".concat(e)},body:t})}},{key:"getOverview",value:function(e,t){return fetch(o+"/api/orders/get_overview/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(t)})}},{key:"signinUser",value:function(e){return fetch(o+"/api-token-auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"getAccountDetails",value:function(e,t){return fetch(o+"/api/accounts/"+t+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"updateProfile",value:function(e,t,r){return fetch(o+"/api/accounts/update_profile/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(r)})}},{key:"changePassword",value:function(e,t,r){return fetch(o+"/api/accounts/change_password"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(r)})}}]),e}()}}]);
//# sourceMappingURL=6.3a61a61f.chunk.js.map