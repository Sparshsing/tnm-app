{"version":3,"sources":["components/listItems.js","components/logo.png","components/ProductForm.js","components/productDetails.js","components/StoreDetails.js","components/PurchaseForm.js","components/PurchaseList.js","components/InventoryList.js","components/OrderForm.js","components/OrderUpdateForm.js","components/OrderList.js","components/GridCellExpand.js","components/Printing.js","components/Dashboard.js","components/AccountDetails.js","components/TheContent.js","components/TheLayout.js","api-service.js"],"names":["mainListItems","ListItem","button","component","Link","to","ListItemIcon","ListItemText","primary","PlaylistAddCheck","ImportantDevices","Store","HomeWork","ShoppingCart","ViewCarousel","Receipt","staffListItems","clientListItems","secondaryListItems","href","APIROOT","SettingsApplications","useStyles","makeStyles","theme","form","width","marginTop","spacing","submit","margin","ProductForm","props","classes","useCookies","token","userInfo","useState","errormsg","setErrormsg","saved","setSaved","badData","console","log","handleGoBack","e","setMode","parseInt","split","Button","onClick","style","display","Typography","mode","className","onSubmit","preventDefault","formData","FormData","target","dataObject","forEach","value","key","API","updateProduct","id","then","resp","status","json","data","catch","error","addProduct","Object","keys","length","FormLabel","TextField","variant","required","fullWidth","label","name","disabled","helperText","defaultValue","type","inputProps","step","color","columns","field","headerName","ProductDetails","products","setProducts","mySelectedRows","setMySelectedRows","recordDetails","setRecordDetails","selectedFile","setSelectedFile","isFilePicked","setIsFilePicked","message","setMessage","usertype","restrictedColumns","fetchlist","getProductList","push","useEffect","setTitle","justifyContent","flexDirection","alignItems","flexWrap","IconButton","selectedRowId","getProduct","onChange","event","files","hidden","htmlFor","append","search","uploadProductsFile","response","result","minWidth","height","rows","checkboxSelection","components","Toolbar","GridToolbar","onSelectionModelChange","items","selectionModel","StoreDetails","stores","setStores","getStoreList","item","i","PurchaseForm","open","setOpen","submittedData","setSubmittedData","availableStyles","setAvailableStyles","availableSizes","setAvailableSizes","availableColors","setAvailableColors","availableProducts","setAvailableProducts","styles","map","d","Set","sizes","size","colors","sfmId","handleClose","saveData","updatePurchase","addPurchase","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogActions","autoFocus","find","x","select","MenuItem","Autocomplete","options","freeSolo","getOptionLabel","option","renderInput","params","InputLabelProps","shrink","PurchaseList","purchases","setPurchases","hide","renderCell","data-pid","handleStatusChange","marginLeft","pid","currentTarget","dataset","rowdata","p","newRow","JSON","stringify","updatedRows","row","err","String","fetchList","getPurchasesList","getPurchase","errors","deleteRows","a","rowId","deletePurchase","toString","uploadPurchasesFile","flexGrow","autoHeight","disableSelectionOnClick","InventoryList","productInventory","setproductInventory","getInventoryList","OrderForm","setavailableProducts","setavailableStyles","setavailableSizes","setavailableColors","availableStores","setAvailableStores","sortBy","prop","direction","sort","b","filter","updateOrder","addOrder","maxLength","storeCode","storeName","newstyle","min","max","OrderUpdateForm","setData","dataReturned","setDataReturned","getOrder","handleStyleChange","currencyFormatter","Intl","NumberFormat","currency","editable","valueFormatter","format","Number","OrderList","orders","setOrders","myEditedRows","setMyEditedRows","selectedShippingFile","setSelectedShippingFile","isShippingFilePicked","setIsShippingFilePicked","handleEditCellChangeCommitted","React","useCallback","obj","orderId","handleUpload","res","uploadOrdersFile","uploadShippingFile","handleUpdateClick","getOrderList","marginBottom","processing","deleteOrder","updateErrors","updateOrdersAsync","updateTheOrders","labels","textContent","padding","onRowSelected","s","api","current","getSelectedRows","values","onEditCellChangeCommitted","root","lineHeight","position","whiteSpace","overflow","textOverflow","table","th","background","Printing","searched","setSearched","handleCheckboxClick","oid","checked","checkedRows","index","indexOf","splice","handleSpecialButtonsClick","btype","o","printed","shipped","getPrintingList","r","str","toLowerCase","displayStatus","orderNo","recipientName","design","giftMessages","nextGroup","text","TableContainer","Paper","Table","aria-label","TableHead","TableRow","TableCell","Checkbox","align","TableBody","arr","showSpan","j","rowSpan","orderCount","maxWidth","data-oid","data-btype","productAvailability","sfmNotes","Dashboard","loading","setLoading","inventory","setInventory","selectedStore","setSelectedStore","Date","setDate","getDate","toISOString","getDeafultStartDate","startDate","setStartDate","endDate","setEndDate","recievedData","setRecievedData","userid","user","unshift","defaultStore","displaysummary","invdata","store","getOverview","total","fulfilled","unfulfilled","onhold","outofstock","storecount","inv","needToPurchase","AccountDetails","username","setUsername","email","setEmail","old_password","setOldPassword","password","setPassword","password2","setPassword2","first_name","setFirstName","last_name","setLastName","changePassword","setChangePassword","userId","getAccountDetails","handleSave","updateProfile","handleChangePassword","TheContent","exact","path","render","toolbar","backgroundColor","paddingRight","paddingBottom","paddingTop","toolbarIcon","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","marginRight","menuButtonHidden","title","textAlign","drawerPaper","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","container","paddingLeft","paper","fixedHeight","TheLayout","removeToken","removeUserInfo","clsx","CssBaseline","AppBar","edge","noWrap","src","companylogo","alt","Drawer","Divider","List","Container","fetch","method","headers","body","credentials"],"mappings":"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","file":"static/js/6.4bb47ee4.chunk.js","sourcesContent":["import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport LayersIcon from '@material-ui/icons/Layers';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport { Store, SettingsApplications, Receipt, ViewCarousel, HomeWork, ShoppingCart, PlaylistAddCheck, ImportantDevices} from '@material-ui/icons';\r\nimport {Link} from 'react-router-dom'\r\nimport {APIROOT} from '../api-service'\r\n\r\nexport const mainListItems = (\r\n  <div>\r\n    <ListItem button component={Link} to='/dashboard'>\r\n      <ListItemIcon>\r\n        <DashboardIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Dashboard\" />\r\n    </ListItem>\r\n    <ListItem button button component={Link} to='/orders'>\r\n      <ListItemIcon>\r\n        <PlaylistAddCheck />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Orders\" />\r\n    </ListItem>\r\n    <ListItem button button component={Link} to='/printing'>\r\n      <ListItemIcon>\r\n        <ImportantDevices />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Printing\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/stores'>\r\n      <ListItemIcon>\r\n        <Store />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Stores\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/inventory'>\r\n      <ListItemIcon>\r\n        <HomeWork />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Inventory\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/purchases'>\r\n      <ListItemIcon>\r\n        <ShoppingCart />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Purchases\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/products'>\r\n      <ListItemIcon>\r\n        <ViewCarousel />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Products\" />\r\n    </ListItem>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <Receipt />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Invoice\" />\r\n    </ListItem>\r\n  </div>\r\n);\r\n\r\nexport const staffListItems = (\r\n  <div>\r\n    <ListItem button button component={Link} to='/orders'>\r\n      <ListItemIcon>\r\n        <PlaylistAddCheck />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Orders\" />\r\n    </ListItem>\r\n    <ListItem button button component={Link} to='/printing'>\r\n      <ListItemIcon>\r\n        <ImportantDevices />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Printing\" />\r\n    </ListItem>    \r\n    <ListItem button component={Link} to='/inventory'>\r\n      <ListItemIcon>\r\n        <HomeWork />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Inventory\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/purchases'>\r\n      <ListItemIcon>\r\n        <ShoppingCart />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Purchases\" />\r\n    </ListItem>\r\n    <ListItem button component={Link} to='/products'>\r\n      <ListItemIcon>\r\n        <ViewCarousel />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Products\" />\r\n    </ListItem>    \r\n  </div>\r\n);\r\n\r\nexport const clientListItems = (\r\n  <div>\r\n    <ListItem button component={Link} to='/dashboard'>\r\n      <ListItemIcon>\r\n        <DashboardIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Dashboard\" />\r\n    </ListItem>\r\n    <ListItem button button component={Link} to='/orders'>\r\n      <ListItemIcon>\r\n        <PlaylistAddCheck />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Orders\" />\r\n    </ListItem>    \r\n    <ListItem button component={Link} to='/stores'>\r\n      <ListItemIcon>\r\n        <Store />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Stores\" />\r\n    </ListItem>    \r\n    <ListItem button component={Link} to='/products'>\r\n      <ListItemIcon>\r\n        <ViewCarousel />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Products\" />\r\n    </ListItem>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <Receipt />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Invoice\" />\r\n    </ListItem>\r\n  </div>\r\n);\r\n\r\nexport const secondaryListItems = (\r\n  <div>\r\n    <ListItem button component=\"a\" href={APIROOT+\"/admin\"}>\r\n      <ListItemIcon>\r\n        <SettingsApplications />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Django Admin\" />\r\n    </ListItem>\r\n  </div>\r\n);","export default __webpack_public_path__ + \"static/media/logo.2cf1827a.png\";","import API from '../api-service'\r\nimport React, {useState} from 'react';\r\nimport {Button, TextField, FormLabel, Typography} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useCookies } from 'react-cookie'\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function ProductForm(props){\r\n\r\n  const classes = useStyles();\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-userInfo']);\r\n\r\n  const [errormsg, setErrormsg] = useState({});\r\n  const [saved, setSaved, getSaved] = useState(false);\r\n  let badData = false;\r\n  console.log(\"opened form\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);    \r\n    let dataObject = {};    \r\n    formData.forEach((value, key) => dataObject[key] = value);\r\n    console.log(\"sending data\");\r\n    console.log(dataObject);      \r\n    if(props.mode=='update')\r\n      API.updateProduct(token['mr-token'], props.id, dataObject)\r\n      .then(resp => {\r\n        if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n        if(resp.status==200) { setSaved(true); }\r\n        return resp.json()\r\n      })\r\n      .then(data => {if(badData) setErrormsg(data)})\r\n      .catch(error => {console.log(\"api error\"); console.error(error)});\r\n    else\r\n      API.addProduct(token['mr-token'], dataObject)\r\n      .then(resp => {\r\n        console.log(\"saving\",resp.status);\r\n        if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n        if(resp.status==201) { setSaved(true); }\r\n        return resp.json()\r\n      })\r\n      .then(data => {if(badData) setErrormsg(data)})\r\n      .catch(error => {console.log(\"api error\"); console.error(error)});      \r\n  };\r\n\r\n  const handleGoBack = (e) => {\r\n    props.setMode('none');\r\n  }\r\n  \r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(parseInt(userInfo['mr-user'].split('-')[1])!=1)\r\n    return (<Redirect to='/'></Redirect>);\r\n  if(saved)\r\n    return(<div>Saved Succcesfully <Button onClick={handleGoBack}>Go back to Products</Button></div>);\r\n  else\r\n  return(\r\n    <div>\r\n      <div style={{display:'flex'}}>\r\n        <Typography>{props.mode=='update' ? 'Update':'Add'}</Typography>\r\n        <Button onClick={handleGoBack}>Go back</Button>\r\n      </div>\r\n    <form className={classes.form} onSubmit={handleSubmit} >\r\n      { Object.keys(errormsg).length!=0 && <FormLabel error={true} >Invalid data {errormsg['form']}</FormLabel>}      \r\n      \r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"style\"\r\n        label=\"Style\"\r\n        name=\"style\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['style'] ? errormsg['style'][0]:''}\r\n        error = {errormsg['style'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['style']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"size\"\r\n        label=\"Size\"\r\n        name=\"size\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['size'] ? errormsg['size'][0]:''}\r\n        error = {errormsg['size'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['size']:''}\r\n      />\r\n      <TextField\r\n      variant=\"outlined\"\r\n      margin=\"normal\"\r\n      required\r\n      fullWidth\r\n      id=\"color\"\r\n      label=\"Color\"\r\n      name=\"color\"\r\n      disabled = {props.mode=='update' ? true:false}\r\n      helperText = {errormsg['color'] ? errormsg['color'][0]:''}\r\n      error = {errormsg['color'] ? true: false}\r\n      defaultValue = {props.mode=='update' ? props.data['color']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"sku\"\r\n        label=\"SKU\"\r\n        name=\"sku\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['sku'] ? errormsg['sku'][0]:''}\r\n        error = {errormsg['sku'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['sku']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"cost\"\r\n        label=\"Cost\"\r\n        name=\"cost\"\r\n        type=\"number\"\r\n        inputProps={{step:0.01}}\r\n        helperText = {errormsg['cost'] ? errormsg['cost'][0]:''}\r\n        error = {errormsg['cost'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['cost']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"price\"\r\n        label=\"Price\"\r\n        name=\"price\"\r\n        type=\"number\"\r\n        inputProps={{step:0.01}}\r\n        helperText = {errormsg['price'] ? errormsg['price'][0]:''}\r\n        error = {errormsg['price'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['price']:''}\r\n      />\r\n      \r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}            \r\n      >\r\n        Submit\r\n      </Button>          \r\n    </form>\r\n    </div>); \r\n}","import '../App.css';\r\nimport React, {useState, useEffect} from 'react';\r\nimport { DataGrid, GridToolbar, GridRowsProp, GridColDef } from '@material-ui/data-grid';\r\nimport API from '../api-service';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Divider, Button, TextField, IconButton } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ProductForm from './ProductForm';\r\n\r\nconst columns = [\r\n  { field: 'sfmId', headerName: 'SFM ID', width: 150},\r\n  { field: 'style', headerName: 'Style', width: 150},\r\n  { field: 'size', headerName: 'Size', width: 150},\r\n  { field: 'color', headerName: 'Color', width: 150},\r\n  { field: 'sku', headerName: 'SKU', width: 150 },\r\n  { field: 'cost', headerName: 'Cost', width: 150},\r\n  { field: 'price', headerName: 'Price', width: 150},\r\n  { field: 'amountInStock', headerName: 'Amount In Stock', width: 150}\r\n];\r\n\r\nfunction ProductDetails(props){\r\n  \r\n  // { id: 1, sfmId: 'dummy1', style: 'dummy style' },\r\n  // { id: 2,  sfmId: 'dummy2', style: 'dummy style' }\r\n  const [products, setProducts] = useState([]);\r\n  \r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [mode, setMode] = useState('none');\r\n  const [mySelectedRows, setMySelectedRows] = useState([]);\r\n  const [recordDetails, setRecordDetails] = useState({});\r\n\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\tconst [isFilePicked, setIsFilePicked] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n  const restrictedColumns = [\r\n    { field: 'style', headerName: 'Style', width: 150},\r\n    { field: 'size', headerName: 'Size', width: 150},\r\n    { field: 'color', headerName: 'Color', width: 150},\r\n    { field: 'sku', headerName: 'SKU', width: 150 },\r\n  ];\r\n\r\n  if(usertype==0) \r\n    restrictedColumns.push({ field: 'price', headerName: 'Price', width: 150});\r\n\r\n  const fileChangeHandler = (event) => {\r\n    if(event.target.files.length==1){\r\n      setSelectedFile(event.target.files[0]);\r\n      console.log(\"file is: \", event.target.files[0])\r\n      setIsFilePicked(true);\r\n    }\r\n    else{\r\n      setSelectedFile(null);\r\n      setIsFilePicked(false);\r\n    }\r\n\t};\r\n\r\n  const handleUpload = (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n\r\n\t\tformData.append('productsFile', selectedFile);\r\n\r\n    if(isFilePicked && selectedFile.name.search(/product/i) == -1){\r\n      setMessage('Please make sure you have selected products file. File name should contain the word product');\r\n      return;\r\n    }\r\n\r\n\t\tAPI.uploadProductsFile(token['mr-token'], formData)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((result) => {\r\n        if(result['errors']){          \r\n          if(result['errors'].length==0){\r\n            setMessage('Successfully imported all records');\r\n            console.log('Successfully imported all records');\r\n          }\r\n          else{\r\n            setMessage('Partial Success (see error records in console (hit Ctrl+Shift+i)');\r\n            console.log('Following rows were not imported: ');\r\n            console.log(result['errors']);\r\n          }\r\n        }\r\n\t\t\t\telse setMessage('Failed import due to unknown reason');\r\n        console.log('setting mode');\r\n        setIsFilePicked(false);\r\n        fetchlist();\r\n        setMode('none');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error('Error:', error);\r\n        setMessage('Failed import due to unknown reasons');\r\n\t\t\t});\r\n\t};\r\n\r\n  function fetchlist(){\r\n    API.getProductList(token['mr-token'])\r\n    .then(resp => {\r\n      console.log(resp);\r\n      if(resp.status==200)\r\n        return resp.json();\r\n      else\r\n        throw 'Something went wrong'\r\n    })\r\n    .then(data => {\r\n      console.log(data); \r\n      // data.forEach((item, i) => item.id = item.sfmId);\r\n      setProducts(data);\r\n    })    \r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }\r\n  \r\n  useEffect(() => {\r\n    props.setTitle('Products');\r\n\r\n    if(mode=='none')\r\n      fetchlist();\r\n  }, [token, mode]\r\n  );\r\n\r\n  const updatebtnClicked = (e) => {\r\n    console.log(\"update clicked\");\r\n    if(mySelectedRows.length==1){\r\n      const selectedRowId = mySelectedRows[0]\r\n      setMySelectedRows([])\r\n      API.getProduct(token['mr-token'], selectedRowId)\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n        console.log(\"filling formdata\");\r\n        setRecordDetails(data);\r\n        setMode('update');\r\n        })\r\n        .catch(e =>{console.log(\"api error\");console.error(e)});\r\n      }\r\n  };\r\n\r\n  const handleAddClick = (e) => {setMode('add')}\r\n\r\n  const handleSelection = (items) => {\r\n    console.log(items);    \r\n    setMySelectedRows(items.selectionModel);    \r\n  }\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  else\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      {message=='' ? '' : <div style={{color:\"red\"}}>{message}</div>}\r\n      { mode=='none' ?\r\n        <div>\r\n          { usertype==1 && \r\n          <div style={{ width: '100%', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', flexDirection: 'row'}}>\r\n            <div>\r\n            <IconButton color='primary' variant='contained' onClick={handleAddClick}><AddCircleIcon /></IconButton>\r\n            <IconButton disabled={mySelectedRows.length == 1 ? false:true} onClick={updatebtnClicked} color='primary' variant='contained' ><EditIcon /></IconButton>\r\n            </div>\r\n            <form ><input type=\"file\" name=\"myfile\" id=\"myfile\" onChange={fileChangeHandler} hidden></input><label htmlFor=\"myfile\" className=\"file-input-label\">Choose File</label><Button type=\"submit\" disabled={!isFilePicked} onClick={handleUpload} color='primary' variant='contained'>Import Products</Button></form>\r\n          </div>}\r\n          <div style={{  width: '100%', minWidth:'600px', height: 'calc(100vh - 140px'}}>\r\n            <DataGrid rows={products} columns={usertype==1 ? columns : restrictedColumns} checkboxSelection components={{\r\n              Toolbar: GridToolbar,\r\n            }} onSelectionModelChange={handleSelection} />\r\n          </div>\r\n        </div>\r\n        :\r\n        <ProductForm id={ mode=='update' ? mySelectedRows : null }  data={ mode=='update' ? recordDetails : null} mode={mode} setMode={setMode}></ProductForm>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductDetails;\r\n","import '../App.css';\r\nimport React, {useState, useEffect} from 'react'\r\nimport { DataGrid, GridToolbar, GridRowsProp, GridColDef } from '@material-ui/data-grid';\r\nimport API from '../api-service'\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Divider } from '@material-ui/core';\r\n\r\nconst columns = [\r\n  { field: 'storeName', headerName: 'Store Name', width: 150 },\r\n  { field: 'storeCode', headerName: 'Store Code', width: 150 },\r\n  { field: 'emailAddress', headerName: 'Email Address', width: 150 },\r\n  { field: 'addressLine1', headerName: 'Addres Line 1', width: 150 },\r\n  { field: 'addressLine2', headerName: 'Adress Line 2', width: 150 },\r\n  { field: 'city', headerName: 'City', width: 150 },\r\n  { field: 'state', headerName: 'State', width: 150 },\r\n  { field: 'zipCode', headerName: 'Zip Code', width: 150 }\r\n];\r\n\r\nfunction StoreDetails(props){\r\n\r\n  props.setTitle('Stores');\r\n\r\n  //{ id: 1, storeCode: 'dummy1', storeName: 'dummy store' },\r\n  //{ id: 2, storeCode: 'dummy2', storeName: 'dummy store2' }\r\n  const [stores, setStores] = useState([]);\r\n  \r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n\r\n  useEffect(() => {\r\n    API.getStoreList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      console.log(data);\r\n      // client permission to filter only his store, is handled in api\r\n      data.forEach((item, i) => item.id = i+1);\r\n      \r\n      return setStores(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }, []\r\n  );\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(parseInt(userInfo['mr-user'].split('-')[1])==2)\r\n    return (<Redirect to='/'></Redirect>);\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      <div style={{  width: '100%', minWidth:'600px', height: \"calc(100vh - 100px\"}}>\r\n        <DataGrid rows={stores} columns={columns} components={{\r\n          Toolbar: GridToolbar,\r\n        }} />\r\n      </div>\r\n    </div>      \r\n  );\r\n}\r\n\r\nexport default StoreDetails;\r\n","import API from '../api-service'\r\nimport React, {useState, useEffect} from 'react';\r\nimport {Button, TextField, FormLabel, Typography, MenuItem, Dialog, DialogTitle, DialogActions} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useCookies } from 'react-cookie'\r\nimport { setGridPageSizeStateUpdate } from '@material-ui/data-grid';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function PurchaseForm(props){\r\n\r\n  const classes = useStyles();\r\n  const [token] = useCookies(['mr-token']);\r\n  const [errormsg, setErrormsg] = useState({});\r\n  const [saved, setSaved] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const [submittedData, setSubmittedData] = useState([]);\r\n  const [availableStyles, setAvailableStyles] = useState([]);\r\n  const [availableSizes, setAvailableSizes] = useState([]);\r\n  const [availableColors, setAvailableColors] = useState([]);\r\n  const [availableProducts, setAvailableProducts] = useState([]);\r\n  let badData = false;\r\n  console.log(\"opened form\");\r\n  console.log(availableStyles);\r\n  console.log(availableProducts);\r\n\r\n  useEffect(() => {\r\n    API.getProductList(token['mr-token'])\r\n    .then(data => {\r\n      const styles = data.map( d => d.style);\r\n      setAvailableStyles([...new Set(styles)]);\r\n      const sizes = data.map( d => d.size)\r\n      setAvailableSizes([...new Set(sizes)]);\r\n      const colors = data.map( d => d.color);\r\n      setAvailableColors([...new Set(colors)]);      \r\n      setAvailableProducts(data.map( d => d.sfmId));\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});    \r\n  }, []\r\n  );\r\n\r\n  const handleClose = (e) => {setOpen(false)}\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);    \r\n    let dataObject = {};    \r\n    console.log(formData);\r\n    formData.forEach((value, key) => dataObject[key] = value);\r\n    console.log(\"sending data\");\r\n    const sfmId = dataObject['style'] + '-' + dataObject['size'] + '-' + dataObject['color']\r\n    setSubmittedData(dataObject);\r\n    if(!availableProducts.find(x => x==sfmId)){\r\n      setOpen(true);\r\n      return;\r\n    }\r\n    saveData(dataObject);    \r\n  };\r\n\r\n  const handleConfirm = (e) => {\r\n    saveData(submittedData);\r\n  }\r\n\r\n  const saveData = (dataObject) => {\r\n    console.log(dataObject);\r\n    if(props.mode=='update')\r\n      API.updatePurchase(token['mr-token'], props.id, dataObject)\r\n      .then(resp => {\r\n        if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n        if(resp.status==200) { setSaved(true); }\r\n        return resp.json()\r\n      })\r\n      .then(data => {if(badData) setErrormsg(data)})\r\n      .catch(error => {console.log(\"api error\"); console.error(error)});\r\n    else\r\n      API.addPurchase(token['mr-token'], dataObject)\r\n      .then(resp => {\r\n        console.log(\"saving\",resp.status);\r\n        if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n        if(resp.status==201) { setSaved(true); }\r\n        return resp.json()\r\n      })\r\n      .then(data => {if(badData) setErrormsg(data)})\r\n      .catch(error => {console.log(\"api error\"); console.error(error)});      \r\n  }  \r\n\r\n  const handleGoBack = (e) => {\r\n    props.setMode('none');\r\n  }\r\n  \r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(saved)\r\n    return(<div>Saved Succcesfully <Button onClick={handleGoBack}>Go back to Purchases</Button></div>);\r\n  else\r\n  return(\r\n    <div>\r\n      <div style={{display:'flex'}}>\r\n        <Typography>{props.mode=='update' ? 'Update':'Add'}</Typography>\r\n        <Button onClick={handleGoBack}>Go back</Button>\r\n      </div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\"The Product does not Exist. New Product will be created. Continue?\"</DialogTitle>\r\n        \r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n          <Button onClick={handleConfirm} color=\"primary\" autoFocus>Confirm</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <form className={classes.form} onSubmit={handleSubmit} >\r\n      { Object.keys(errormsg).length!=0 && <FormLabel error={true} >Invalid data</FormLabel>}\r\n      \r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        select\r\n        fullWidth\r\n        id=\"status\"\r\n        label=\"Status\"\r\n        name=\"status\"\r\n        helperText = {errormsg['status'] ? errormsg['status'][0]:''}\r\n        error = {errormsg['status'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['status']:''}\r\n      >\r\n        <MenuItem key={0} value={'In Transit'}>In Transit</MenuItem>\r\n        <MenuItem key={1} value={'Received'}>Received</MenuItem>\r\n      </TextField>\r\n      <Autocomplete\r\n      id=\"styleCombo\"\r\n      options={availableStyles}\r\n      freeSolo\r\n      getOptionLabel={(option) => option}\r\n      fullWidth      \r\n      renderInput={(params) => \r\n        <TextField {...params} \r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        id=\"style\"\r\n        label=\"Style\"\r\n        name=\"style\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['style'] ? errormsg['style'][0]:''}\r\n        error = {errormsg['style'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['style']:''}\r\n        />}\r\n      />\r\n\r\n      <Autocomplete\r\n      id=\"sizeCombo\"\r\n      options={availableSizes}\r\n      freeSolo\r\n      getOptionLabel={(option) => option}\r\n      renderInput={(params) => \r\n        <TextField {...params} \r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"size\"\r\n        label=\"Size\"\r\n        name=\"size\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['size'] ? errormsg['size'][0]:''}\r\n        error = {errormsg['size'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['size']:''}\r\n        />}\r\n      />\r\n      <Autocomplete\r\n      id=\"colorCombo\"\r\n      options={availableColors}\r\n      freeSolo\r\n      getOptionLabel={(option) => option}\r\n      renderInput={(params) => \r\n        <TextField {...params} \r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        id=\"color\"\r\n        label=\"Color\"\r\n        name=\"color\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['color'] ? errormsg['color'][0]:''}\r\n        error = {errormsg['color'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['color']:''}\r\n        />}\r\n      />\r\n      \r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"company\"\r\n        label=\"Company\"\r\n        name=\"company\"\r\n        helperText = {errormsg['company'] ? errormsg['company'][0]:''}\r\n        error = {errormsg['company'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['company']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"warehouse\"\r\n        label=\"Warehouse\"\r\n        name=\"warehouse\"\r\n        helperText = {errormsg['warehouse'] ? errormsg['warehouse'][0]:''}\r\n        error = {errormsg['warehouse'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['warehouse']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"ordered\"\r\n        label=\"Ordered\"\r\n        name=\"ordered\"\r\n        type=\"number\"\r\n        helperText = {errormsg['ordered'] ? errormsg['ordered'][0]:''}\r\n        error = {errormsg['ordered'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['ordered']:''}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"orderDate\"\r\n        label=\"order Date\"\r\n        name=\"orderDate\"\r\n        type=\"date\"\r\n        helperText = {errormsg['orderDate'] ? errormsg['orderDate'][0]:''}\r\n        error = {errormsg['orderDate'] ? true: false}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        defaultValue = {props.mode=='update' ? props.data['orderDate']:''}\r\n      />\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}            \r\n      >\r\n        Submit\r\n      </Button>          \r\n      </form>\r\n    </div>); \r\n}","import '../App.css';\r\nimport React, {useState, useEffect} from 'react'\r\nimport { DataGrid, GridToolbar, GridRowsProp, GridColDef } from '@material-ui/data-grid';\r\nimport API from '../api-service'\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Divider, Button, TextField, Dialog, DialogTitle, DialogActions, IconButton } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport PurchaseForm from './PurchaseForm';\r\n\r\n\r\n\r\nfunction PurchaseList(props){\r\n\r\n  //{ id: 1, sfmId: 'dummy1', style: 'dummy style' },\r\n  //{ id: 2,  sfmId: 'dummy2', style: 'dummy style' }\r\n  const [purchases, setPurchases] = useState([]);\r\n  \r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [mode, setMode] = useState('none');\r\n  const [mySelectedRows, setMySelectedRows] = useState([]);\r\n  const [recordDetails, setRecordDetails] = useState({});\r\n\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\tconst [isFilePicked, setIsFilePicked] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [open, setOpen] = useState(false);\r\n\r\n\tconst fileChangeHandler = (event) => {\r\n    if(event.target.files.length==1){\r\n      setSelectedFile(event.target.files[0]);\r\n      console.log(\"file is: \", event.target.files[0]);\r\n      setIsFilePicked(true);\r\n    }\r\n    else{\r\n      setSelectedFile(null);\r\n      setIsFilePicked(false);\r\n    }\r\n\t};\r\n\r\n  const handleDeleteClick = (e) => {setOpen(true)}\r\n  const handleClose = (e) => {setOpen(false)}\r\n\r\n  const handleDeleteConfirm = (e) => {\r\n    console.log('u confirmed delete');\r\n    let errors = [];\r\n    const deleteRows = async () => {\r\n      for(let rowId of mySelectedRows) {\r\n        try{\r\n          const resp = await API.deletePurchase(token['mr-token'], rowId);\r\n          if(resp.status==200 || resp.status==204){\r\n            console.log(`deleted purchase with id ${rowId}`);\r\n          }          \r\n          else{\r\n            console.log(`Failed to delete purchase with id ${rowId}`);\r\n            throw `Failed to delete purchase with id ${rowId}`;\r\n          }\r\n        }\r\n        catch(e){\r\n          console.error(`could not delete purchase id ${rowId}`, e);\r\n          errors.push(`could not delete purchase id ${rowId}`);\r\n        }\r\n      }\r\n\r\n      if(errors.length>0)\r\n        setMessage('Some rows were not deleted\\n' + errors.toString() + ' Pleae refresh');\r\n      else\r\n        setMessage('Deleted successfully. Please refresh');\r\n\r\n    }\r\n    setOpen(false);\r\n    deleteRows();\r\n\r\n  }\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: 'Purchase Id', width: 150, hide:true },\r\n    { field: 'status', headerName: 'Status', width: 150,\r\n      renderCell: (params) => {\r\n          return(\r\n          <Button\r\n            variant=\"contained\"\r\n            color= { params.value==\"In Transit\" ? \"secondary\":\"primary\" }\r\n            size=\"small\"\r\n            data-pid={params.id}\r\n            onClick={handleStatusChange}\r\n            style={{ marginLeft: 16 }}\r\n          >\r\n            {params.value}\r\n          </Button>);\r\n      },\r\n      },\r\n    { field: 'style', headerName: 'Style', width: 150 },\r\n    { field: 'size', headerName: 'Size', width: 150 },\r\n    { field: 'color', headerName: 'Color', width: 150 },\r\n    { field: 'company', headerName: 'Company' },\r\n    { field: 'warehouse', headerName: 'Warehouse', width: 150 },\r\n    { field: 'ordered', headerName: 'Ordered', width: 150 },\r\n    { field: 'orderDate', headerName: 'Order Date', width: 150},\r\n    { field: 'arrivalDate', headerName: 'Arrival Date', width: 150 },\r\n    { field: 'sfmId', headerName: 'SFM ID', width: 150 }\r\n  ];\r\n\r\n  const handleStatusChange = (e) => {\r\n    const pid = parseInt(e.currentTarget.dataset.pid);\r\n    let rowdata = purchases.find(p => p.id == pid);\r\n    const status = rowdata.status=='In Transit' ? 'Received': 'In Transit'\r\n    const newRow = {...rowdata, status}\r\n    console.log(newRow);\r\n    API.updatePurchase(token['mr-token'], pid, newRow)\r\n      .then(resp => {\r\n        if(resp.status==200) return resp.json();\r\n        if(resp.status==400) throw JSON.stringify(resp.json());\r\n        else throw 'Something went wrong. Please Refresh';\r\n      })\r\n      .then(data => {\r\n        const updatedRows = purchases.map((row) => {\r\n          if (row.id == data.id)\r\n            return data;          \r\n          return row;\r\n        });\r\n        setMessage('updated purchase');\r\n        console.log(updatedRows.map(x => x.id));\r\n        setPurchases(updatedRows);\r\n      })\r\n      .catch(err => {console.log('api error');console.error(err); setMessage('Something went wrong, ' + String(err))});\r\n    \r\n  }\r\n\r\n\tconst handleUpload = (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n\r\n\t\tformData.append('purchaseFile', selectedFile);\r\n\r\n    if(isFilePicked && selectedFile.name.search(/purchase/i) == -1){\r\n      setMessage('Please make sure you have selected purchase file. File name should contain the word purchase');\r\n      return;\r\n    }\r\n\r\n\t\tAPI.uploadPurchasesFile(token['mr-token'], formData)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((result) => {\r\n        if(result['errors']){          \r\n          if(result['errors'].length==0){\r\n            setMessage('Successfully imported all records');\r\n            console.log('Successfully imported all records');\r\n          }\r\n          else{\r\n            setMessage('Partial Success (see error records in console (hit Ctrl+Shift+i)');\r\n            console.log('Following rows were not imported: ');\r\n            console.log(result['errors']);\r\n          }\r\n        }\r\n\t\t\t\telse setMessage('Failed import due to unknown reason');\r\n        console.log('setting mode');\r\n        fetchList();\r\n        setMode('none');\r\n        setIsFilePicked(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error('Error:', error);\r\n        setMessage('Failed import due to unknown reasons');\r\n\t\t\t});\r\n\t};\r\n\r\n  const updatebtnClicked = (e) => {\r\n    console.log(\"update clicked\");\r\n    if(mySelectedRows.length==1)    \r\n      API.getPurchase(token['mr-token'], mySelectedRows[0])\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n        console.log(\"filling formdata\");\r\n        setRecordDetails(data);\r\n        setMode('update');\r\n        })\r\n        .catch(e =>{console.log(\"api error\");console.error(e)});\r\n  };\r\n\r\n  const handleAddClick = (e) => {setMode('add')}\r\n\r\n  const handleSelection = (items) => {\r\n    console.log(items);    \r\n    setMySelectedRows(items.selectionModel);    \r\n  }\r\n  \r\n\r\n  useEffect(() => {\r\n    props.setTitle('Purchases');\r\n    console.log('useeffect called');\r\n    if(mode=='none')\r\n      fetchList();    \r\n  }, [token, mode]\r\n  );\r\n\r\n  function fetchList(){\r\n      console.log(\"fetching data\");\r\n      API.getPurchasesList(token['mr-token'])\r\n      .then(resp => {\r\n        if(resp.status==200)\r\n          return resp.json()\r\n        else throw 'Something went wrong';\r\n      })\r\n      .then(data => {\r\n        console.log(data);\r\n        // not needed as purchases object already contains field called id\r\n        // data.forEach((item, i) => item.id = i+1);\r\n        setMySelectedRows([]);\r\n        setPurchases(data);\r\n      })\r\n      .catch(e => {console.log(\"api error\"); console.error(e); setMessage(String(e))});    \r\n  }\r\n\r\n  useEffect( () => {    \r\n    console.log(token);    \r\n  }, [mode]);\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(parseInt(userInfo['mr-user'].split('-')[1])==0)\r\n    return (<Redirect to='/'></Redirect>);\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      {message=='' ? '' : <div style={{color:'red'}}>{message}</div>}\r\n      { mode=='none' ?\r\n        <div>\r\n          <div style={{ width: '100%', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', flexDirection: 'row'}}>\r\n            <div>\r\n            <IconButton  color='primary' variant='contained' onClick={handleAddClick}><AddCircleIcon /></IconButton>\r\n            <IconButton disabled={mySelectedRows.length == 1 ? false:true} onClick={updatebtnClicked} color='primary' variant='contained' ><EditIcon /></IconButton>\r\n            <IconButton variant=\"contained\" color=\"secondary\" disabled={mySelectedRows.length>0 ? false:true} onClick={handleDeleteClick}><DeleteIcon /></IconButton>\r\n            <Dialog\r\n              open={open}\r\n              onClose={handleClose}                \r\n            >\r\n              <DialogTitle id=\"alert-dialog-title\">\"Are you sure you want to delete the {mySelectedRows.length} items\"</DialogTitle>\r\n              \r\n              <DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n                <Button onClick={handleDeleteConfirm} color=\"primary\" autoFocus>Confirm</Button>\r\n              </DialogActions>\r\n            </Dialog>\r\n            </div>\r\n            <form ><input type=\"file\" name=\"myfile\" id=\"myfile\" onChange={fileChangeHandler} hidden></input><label htmlFor=\"myfile\" className=\"file-input-label\">Choose File</label><Button type=\"submit\" disabled={!isFilePicked} onClick={handleUpload} color='primary' variant='contained'>Import</Button></form>\r\n          </div>\r\n          <div style={{  width: '100%', minWidth:'600px', flexGrow: 1}}>\r\n            <DataGrid rows={purchases} columns={columns} checkboxSelection autoHeight={true} components={{\r\n              Toolbar: GridToolbar,\r\n            }} onSelectionModelChange={handleSelection} disableSelectionOnClick={true}/>\r\n          </div>\r\n        </div>\r\n        :\r\n        <PurchaseForm id={ mode=='update' ? mySelectedRows : null }  data={ mode=='update' ? recordDetails : null} mode={mode} setMode={setMode}></PurchaseForm>\r\n      }           \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PurchaseList;\r\n","import '../App.css';\r\nimport React, {useState, useEffect} from 'react'\r\nimport { DataGrid, GridToolbar, GridRowsProp, GridColDef } from '@material-ui/data-grid';\r\nimport API from '../api-service'\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Divider } from '@material-ui/core';\r\n\r\nconst columns = [\r\n  { field: 'style', headerName: 'Style', width: 150 },\r\n  { field: 'size', headerName: 'Size', width: 150 },\r\n  { field: 'color', headerName: 'Color', width: 150 },\r\n  { field: 'productAvailability', headerName: 'Product Availabity', width: 150 },\r\n  { field: 'inStock', headerName: 'In Stock', width: 150 },\r\n  { field: 'unfulfilledCount', headerName: 'Unfulfilled Count', width: 150 },\r\n  { field: 'inTransit', headerName: 'In Transit', width: 150 },\r\n  { field: 'arrivalDate', headerName: 'ArrivaL Date', width: 150 },\r\n  { field: 'trueCount', headerName: 'True Count', width: 150 },\r\n  { field: 'minimum', headerName: 'Minimum', width: 150 },\r\n  { field: 'maximum', headerName: 'Maximum', width: 150 },\r\n  { field: 'shortCount', headerName: 'Short Count', width: 150 },\r\n  { field: 'needToPurchase', headerName: 'Need to Purchase', width: 150 }\r\n];\r\n\r\nfunction InventoryList(props){\r\n  \r\n  //{ id: 1, style: 'dummy1', size: 'dummy ' },\r\n  //{ id: 2, style: 'dummy2', size: 'dummy ' }\r\n  const [productInventory, setproductInventory] = useState([]);\r\n  \r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n\r\n  useEffect(() => {\r\n    props.setTitle('Inventory');\r\n\r\n    console.log({...productInventory[0]});\r\n    API.getInventoryList(token['mr-token'])\r\n    .then(data => {\r\n      console.log(data); \r\n      // data.forEach((item, i) => item.id = item.sfmId);\r\n      \r\n      return setproductInventory(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }, []\r\n  );\r\n\r\n  useEffect( () => {    \r\n    console.log(token);    \r\n  }, [token]);\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(parseInt(userInfo['mr-user'].split('-')[1])==0)\r\n    return (<Redirect to='/'></Redirect>);\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      <div style={{  width: '100%', minWidth:'600px', height:'calc(100vh - 100px)'}}>        \r\n        <DataGrid rows={productInventory} columns={columns} components={{\r\n          Toolbar: GridToolbar,\r\n        }} />\r\n      </div>\r\n    </div>      \r\n  );\r\n}\r\n\r\nexport default InventoryList;\r\n","import API from '../api-service'\r\nimport React, {useState, useEffect} from 'react';\r\nimport {Button, TextField, FormLabel, Typography, MenuItem, FormControl, InputLabel, Input, FormHelperText} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function OrderForm(props){\r\n\r\n  const classes = useStyles();\r\n  const [token] = useCookies(['mr-token']);\r\n  const [errormsg, setErrormsg] = useState({});\r\n  const [saved, setSaved, getSaved] = useState(false);\r\n  const [availableProducts, setavailableProducts] = useState([]);\r\n  const [availableStyles, setavailableStyles] = useState([]);\r\n  const [availableSizes, setavailableSizes] = useState([]);\r\n  const [availableColors, setavailableColors] = useState([]);\r\n  const [availableStores, setAvailableStores] = useState([]);\r\n  const states = ['', 'Shipped', 'Printed', 'Fulfilled', 'Unfulfilled', 'On Hold', 'Cancel'];\r\n  let badData = false;\r\n  console.log(\"opened form\");\r\n\r\n  useEffect(() => {\r\n    API.getProductList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      //console.log(data); \r\n      const sortBy = [ \r\n        {prop:'style', direction: 1}, \r\n        {prop:'size', direction: 1}, \r\n        {prop:'color', direction: 1},\r\n      ];\r\n\r\n      data.sort(function(a,b){\r\n        let i = 0, result = 0;\r\n        while(i < sortBy.length && result === 0) {\r\n          result = sortBy[i].direction*(a[ sortBy[i].prop ].toString() < b[ sortBy[i].prop ].toString() ? -1 : (a[ sortBy[i].prop ].toString() > b[ sortBy[i].prop ].toString() ? 1 : 0));\r\n          i++;\r\n        }\r\n        return result;\r\n      })\r\n      setavailableStyles([...new Set(data.map(i => i.style))]);\r\n      setavailableSizes([...new Set(data.map(i => i.size))]);\r\n      setavailableColors([...new Set(data.map(i => i.color))]);\r\n      setavailableProducts(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n\r\n    API.getStoreList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      console.log(data); \r\n      \r\n      return setAvailableStores(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }, []\r\n  );\r\n\r\n  const handleStyleChange = (e) => {\r\n    const newstyle = e.target.value;\r\n    console.log('style changed', newstyle);\r\n    setavailableSizes([...new Set(availableProducts.filter(p => p.style==newstyle).map(x => x.size))]);\r\n    setavailableColors([...new Set(availableProducts.filter(p => p.style==newstyle).map(x => x.color))]);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log('submit clicked');\r\n    const formData = new FormData(e.target);    \r\n    let dataObject = {};    \r\n    formData.forEach((value, key) => dataObject[key] = value);\r\n    // let splitArray = dataObject['sfmId'].split(\"-\");\r\n    // dataObject['style'] = splitArray.slice(0, splitArray.length-2).join('-');\r\n    // dataObject['size'] = splitArray[splitArray.length-2];\r\n    // dataObject['color'] = splitArray[splitArray.length-1];\r\n    dataObject['sfmId'] = dataObject['style'] + '-' + dataObject['size'] + '-' + dataObject['color']\r\n    if(availableProducts.filter(p => p.sfmId==dataObject['sfmId']).length==0){\r\n      setErrormsg({'style': ['The style size color combination does not exist']});\r\n      return;\r\n    }\r\n    if(dataObject['saleDate'] == \"\")\r\n      dataObject['saleDate'] = null;\r\n    if(dataObject['shipDate'] == \"\")\r\n      dataObject['shipDate'] = null;\r\n    console.log(\"sending data\");\r\n    console.log(dataObject);\r\n\r\n    if(props.mode=='update')\r\n      API.updateOrder(token['mr-token'], props.id, dataObject)\r\n      .then(resp => {\r\n        if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n        if(resp.status==200) { setSaved(true); }\r\n        return resp.json()\r\n      })\r\n      .then(data => {if(badData) setErrormsg(data)})\r\n      .catch(error => {console.log(\"api error\"); console.error(error)});\r\n    else\r\n      API.addOrder(token['mr-token'], dataObject)\r\n      .then(resp => {\r\n        console.log(\"saving\",resp.status);\r\n        if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n        if(resp.status==201) { setSaved(true); }\r\n        return resp.json()\r\n      })\r\n      .then(data => {if(badData) setErrormsg(data)})\r\n      .catch(error => {console.log(\"api error\"); console.error(error)});      \r\n  };\r\n\r\n  const handleGoBack = (e) => {\r\n    props.setMode('none');\r\n  }\r\n  \r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(saved)\r\n    return(<Typography variant=\"h6\">Saved Succcesfully <Button variant=\"contained\" color=\"primary\" onClick={handleGoBack}>Go back to Orders</Button></Typography>);\r\n  return(\r\n    <div>\r\n      <div style={{display:'flex', justifyContent: \"space-between\"}}>\r\n        <Typography variant=\"h4\">{props.mode=='update' ? 'Update':'Add'}</Typography>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleGoBack}>Go back</Button>\r\n      </div>\r\n    <form className={classes.form} onSubmit={handleSubmit} >\r\n      { Object.keys(errormsg).length!=0 && <FormLabel error={true} >Invalid data {errormsg['form']}</FormLabel>}      \r\n      \r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        select\r\n        fullWidth\r\n        id=\"store\"\r\n        label=\"Store Name\"\r\n        name=\"store\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['store'] ? errormsg['store'][0]:''}\r\n        error = {errormsg['store'] ? true: false}\r\n        >\r\n        {availableStores.map((option) => (\r\n          <MenuItem key={option.storeCode} value={option.storeCode}>\r\n            {option.storeName}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        select\r\n        id=\"orderStatus\"\r\n        label=\"Order Status\"\r\n        name=\"orderStatus\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['orderStatus'] ? errormsg['orderStatus'][0]:''}\r\n        error = {errormsg['orderStatus'] ? true: false}\r\n      >\r\n      {states.map((option) => (\r\n        <MenuItem key={option} value={option}>\r\n          {option}\r\n        </MenuItem>\r\n      ))}\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        fullWidth\r\n        id=\"saleDate\"\r\n        label=\"Sale Date\"\r\n        name=\"saleDate\"\r\n        type=\"date\"\r\n        helperText = {errormsg['saleDate'] ? errormsg['saleDate'][0]:''}\r\n        error = {errormsg['saleDate'] ? true: false}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"orderNo\"\r\n        label=\"Order No\"\r\n        name=\"orderNo\"\r\n        inputProps={{maxLength:20}}\r\n        helperText = {errormsg['orderNo'] ? errormsg['orderNo'][0]:''}\r\n        error = {errormsg['orderNo'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        id=\"recipientName\"\r\n        label=\"Recipient Name\"\r\n        name=\"recipientName\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['recipientName'] ? errormsg['recipientName'][0]:''}\r\n        error = {errormsg['recipientName'] ? true: false}\r\n        defaultValue = {props.mode=='update' ? props.data['recipientName']:''}\r\n      />\r\n      \r\n\r\n      \r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        select\r\n        id=\"style\"\r\n        label=\"Style\"\r\n        name=\"style\"\r\n        onChange={handleStyleChange}\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['style'] ? errormsg['style'][0]:''}\r\n        error = {errormsg['style'] ? true: false}\r\n      >\r\n      {availableStyles.map((option) => (\r\n        <MenuItem key={option} value={option}>\r\n          {option}\r\n        </MenuItem>\r\n      ))}\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        select\r\n        id=\"size\"\r\n        label=\"Size\"\r\n        name=\"size\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['size'] ? errormsg['size'][0]:''}\r\n        error = {errormsg['size'] ? true: false}\r\n        >\r\n        {availableSizes.map((option) => (\r\n          <MenuItem key={option} value={option}>\r\n            {option}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        required\r\n        fullWidth\r\n        select\r\n        id=\"color\"\r\n        label=\"Color\"\r\n        name=\"color\"\r\n        disabled = {props.mode=='update' ? true:false}\r\n        helperText = {errormsg['color'] ? errormsg['color'][0]:''}\r\n        error = {errormsg['color'] ? true: false}\r\n      >\r\n      {availableColors.map((option) => (\r\n        <MenuItem key={option} value={option}>\r\n          {option}\r\n        </MenuItem>\r\n      ))}\r\n      </TextField>\r\n      {/*<TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        select\r\n        required\r\n        id=\"sfmId\"\r\n        label=\"Style - Size - Color\"\r\n        name=\"sfmId\"\r\n        helperText = {errormsg['sfmId'] ? errormsg['sfmId'][0]:''}\r\n        error = {errormsg['sfmId'] ? true: false}\r\n      >\r\n      {availableProducts.map((option) => (\r\n        <MenuItem key={option.sfmId} value={option.sfmId}>\r\n          {option.sfmId}\r\n        </MenuItem>\r\n      ))}\r\n      </TextField>\r\n      */}\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        fullWidth\r\n        id=\"design\"\r\n        label=\"design\"\r\n        name=\"design\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['design'] ? errormsg['design'][0]:''}\r\n        error = {errormsg['design'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        required\r\n        select\r\n        id=\"processing\"\r\n        label=\"Processing\"\r\n        name=\"processing\"\r\n        inputProps={{maxLength:1}}\r\n        helperText = {errormsg['processing'] ? errormsg['processing'][0]:''}\r\n        error = {errormsg['processing'] ? true: false}\r\n        defaultValue = 'N'\r\n      >\r\n        <MenuItem key={0} value={'N'}>No</MenuItem>\r\n        <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        select\r\n        id=\"printed\"\r\n        label=\"Printed\"\r\n        name=\"printed\"\r\n        inputProps={{maxLength:1}}\r\n        helperText = {errormsg['printed'] ? errormsg['printed'][0]:''}\r\n        error = {errormsg['printed'] ? true: false}\r\n        defaultValue = 'N'\r\n      >\r\n        <MenuItem key={0} value={'N'}>No</MenuItem>\r\n        <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        required\r\n        select\r\n        id=\"shipped\"\r\n        label=\"Shipped\"\r\n        name=\"shipped\"\r\n        inputProps={{maxLength:1}}\r\n        helperText = {errormsg['shipped'] ? errormsg['shipped'][0]:''}\r\n        error = {errormsg['shipped'] ? true: false}\r\n        defaultValue = 'N'\r\n      >\r\n        <MenuItem key={0} value={'N'}>No</MenuItem>\r\n        <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n      </TextField>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"sfmNotes\"\r\n        label=\"SFM Notes\"\r\n        name=\"sfmNotes\"\r\n        inputProps={{maxLength:5000}}\r\n        helperText = {errormsg['sfmNotes'] ? errormsg['sfmNotes'][0]:''}\r\n        error = {errormsg['sfmNotes'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"Buyer Name\"\r\n        label=\"buyerName\"\r\n        name=\"buyerName\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['buyerName'] ? errormsg['buyerName'][0]:''}\r\n        error = {errormsg['buyerName'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        type=\"email\"\r\n        id=\"buyerEmail\"\r\n        label=\"Buyer Email\"\r\n        name=\"buyerEmail\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['buyerEmail'] ? errormsg['buyerEmail'][0]:''}\r\n        error = {errormsg['buyerEmail'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"buyerComments\"\r\n        label=\"Buyer Comments\"\r\n        name=\"buyerComments\"\r\n        inputProps={{maxLength:5000}}\r\n        helperText = {errormsg['buyerComments'] ? errormsg['buyerComments'][0]:''}\r\n        error = {errormsg['buyerComments'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"giftMessages\"\r\n        label=\"Gift Messages\"\r\n        name=\"giftMessages\"\r\n        inputProps={{maxLength:5000}}\r\n        helperText = {errormsg['giftMessages'] ? errormsg['giftMessages'][0]:''}\r\n        error = {errormsg['giftMessages'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"sku\"\r\n        label=\"SKU\"\r\n        name=\"sku\"\r\n        inputProps={{maxLength:20}}\r\n        helperText = {errormsg['sku'] ? errormsg['sku'][0]:''}\r\n        error = {errormsg['sku'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"shipDate\"\r\n        label=\"shipDate\"\r\n        name=\"shipDate\"\r\n        type=\"datetime-local\"\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        helperText = {errormsg['shipDate'] ? errormsg['shipDate'][0]:''}\r\n        error = {errormsg['shipDate'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"priorityShip\"\r\n        label=\"priorityShip\"\r\n        name=\"priorityShip\"\r\n        inputProps={{maxLength:50}}\r\n        helperText = {errormsg['priorityShip'] ? errormsg['priorityShip'][0]:''}\r\n        error = {errormsg['priorityShip'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"customerPaidShipping\"\r\n        label=\"Customer Paid Shipping $\"\r\n        name=\"customerPaidShipping\"\r\n        type=\"number\"\r\n        inputProps={{step:0.01, min:0, max:99999}}\r\n        helperText = {errormsg['customerPaidShipping'] ? errormsg['customerPaidShipping'][0]:''}\r\n        error = {errormsg['customerPaidShipping'] ? true: false}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"trackingNumber\"\r\n        label=\"Tracking Number\"\r\n        name=\"trackingNumber\"\r\n        inputProps={{maxLength:30}}\r\n        helperText = {errormsg['trackingNumber'] ? errormsg['trackingNumber'][0]:''}\r\n        error = {errormsg['trackingNumber'] ? true: false}\r\n      />\r\n      {/*<TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"        \r\n        fullWidth\r\n        id=\"productAvailability\"\r\n        label=\"Product Availability\"\r\n        name=\"productAvailability\"\r\n        helperText = {errormsg['productAvailability'] ? errormsg['productAvailability'][0]:''}\r\n        error = {errormsg['productAvailability'] ? true: false}\r\n      />*/}\r\n      \r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}\r\n      >\r\n        Submit\r\n      </Button>\r\n    </form>\r\n    </div>); \r\n}","import API from '../api-service'\r\nimport React, {useState, useEffect} from 'react';\r\nimport {Button, TextField, FormLabel, Typography, MenuItem, FormControl, InputLabel, Input, FormHelperText} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function OrderUpdateForm(props){\r\n\r\n  const classes = useStyles();\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [errormsg, setErrormsg] = useState({});\r\n  const [saved, setSaved, getSaved] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const [dataReturned, setDataReturned] = useState(false);\r\n  const [availableProducts, setavailableProducts] = useState([]);\r\n  const [availableStores, setAvailableStores] = useState([]);\r\n  const [availableStyles, setavailableStyles] = useState([]);\r\n  const [availableSizes, setavailableSizes] = useState([]);\r\n  const [availableColors, setavailableColors] = useState([]);\r\n  const states = ['', 'Shipped', 'Printed', 'Fulfilled', 'Unfulfilled', 'On Hold', 'Cancel'];\r\n\r\n\r\n  let badData = false;\r\n  console.log(\"opened form\");\r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n  useEffect(() => {\r\n    API.getOrder(token['mr-token'], props.id)\r\n    .then(resp => resp.json())\r\n    .then(result => {\r\n      console.log(\"initializing formdata\");\r\n      setData(result);\r\n      setDataReturned(true);\r\n    })\r\n    .catch(e =>{console.log(\"api error\");console.error(e)});\r\n\r\n    API.getProductList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      //console.log(data); \r\n      const sortBy = [ \r\n        {prop:'style', direction: 1}, \r\n        {prop:'size', direction: 1}, \r\n        {prop:'color', direction: 1},\r\n      ];\r\n\r\n      data.sort(function(a,b){\r\n        let i = 0, result = 0;\r\n        while(i < sortBy.length && result === 0) {\r\n          result = sortBy[i].direction*(a[ sortBy[i].prop ].toString() < b[ sortBy[i].prop ].toString() ? -1 : (a[ sortBy[i].prop ].toString() > b[ sortBy[i].prop ].toString() ? 1 : 0));\r\n          i++;\r\n        }\r\n        return result;\r\n      })\r\n      setavailableStyles([...new Set(data.map(i => i.style))]);\r\n      setavailableSizes([...new Set(data.map(i => i.size))]);\r\n      setavailableColors([...new Set(data.map(i => i.color))]);\r\n      setavailableProducts(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n\r\n    API.getStoreList(token['mr-token'])\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      //console.log(data); \r\n      \r\n      setAvailableStores(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }, []\r\n  );\r\n\r\n\r\n  const handleClientFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);    \r\n    let dataObject = {};    \r\n    formData.forEach((value, key) => dataObject[key] = value);\r\n    // let splitArray = dataObject['sfmId'].split(\"-\");\r\n    // dataObject['style'] = splitArray.slice(0, splitArray.length-2).join('-');\r\n    // dataObject['size'] = splitArray[splitArray.length-2];\r\n    // dataObject['color'] = splitArray[splitArray.length-1];\r\n    dataObject['sfmId'] = dataObject['style'] + '-' + dataObject['size'] + '-' + dataObject['color']\r\n    if(availableProducts.filter(p => p.sfmId==dataObject['sfmId']).length==0){\r\n      setErrormsg({'style': ['The style size color combination does not exist']});\r\n      return;\r\n    }\r\n    dataObject = {...data, ...dataObject}\r\n    console.log(dataObject);\r\n    API.updateOrder(token['mr-token'], props.id, dataObject)\r\n    .then(resp => {\r\n      if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n      if(resp.status==200) { setSaved(true); }\r\n      return resp.json()\r\n    })\r\n    .then(data => {if(badData) setErrormsg(data)})\r\n    .catch(error => {console.log(\"api error\"); console.error(error)});\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);    \r\n    let dataObject = {};    \r\n    formData.forEach((value, key) => dataObject[key] = value);\r\n    // let splitArray = dataObject['sfmId'].split(\"-\");\r\n    // dataObject['style'] = splitArray.slice(0, splitArray.length-2).join('-');\r\n    // dataObject['size'] = splitArray[splitArray.length-2];\r\n    // dataObject['color'] = splitArray[splitArray.length-1];\r\n    dataObject['sfmId'] = dataObject['style'] + '-' + dataObject['size'] + '-' + dataObject['color']\r\n    if(availableProducts.filter(p => p.sfmId==dataObject['sfmId']).length==0){\r\n      setErrormsg({'style': ['The style size color combination does not exist']});\r\n      return;\r\n    }\r\n    if(dataObject['saleDate'] == \"\")\r\n      dataObject['saleDate'] = null;\r\n    if(dataObject['shipDate'] == \"\")\r\n      dataObject['shipDate'] = null;\r\n    console.log(\"sending data\");\r\n    console.log(dataObject);\r\n\r\n    API.updateOrder(token['mr-token'], props.id, dataObject)\r\n    .then(resp => {\r\n      if(resp.status==400) {console.log(resp); setSaved(false); badData=true; } \r\n      if(resp.status==200) { setSaved(true); }\r\n      return resp.json()\r\n    })\r\n    .then(data => {if(badData) setErrormsg(data)})\r\n    .catch(error => {console.log(\"api error\"); console.error(error)});\r\n  };\r\n\r\n  const handleGoBack = (e) => {\r\n    props.setMode('none');\r\n  }\r\n\r\n  const handleStyleChange = (e) => {\r\n    const newstyle = e.target.value;\r\n    console.log('style changed', newstyle);\r\n    setavailableSizes([...new Set(availableProducts.filter(p => p.style==newstyle).map(x => x.size))]);\r\n    setavailableColors([...new Set(availableProducts.filter(p => p.style==newstyle).map(x => x.color))]);\r\n  }\r\n\r\n  console.log('rendering');\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(saved)\r\n    return(<Typography variant=\"h6\">Saved Succcesfully <Button variant=\"contained\" color=\"primary\" onClick={handleGoBack}>Go back to Orders</Button></Typography>);\r\n  if(!dataReturned)\r\n    return (<div>Loading</div>)\r\n  return(\r\n    <div>\r\n      <div style={{display:'flex', justifyContent: \"space-between\"}}>\r\n        <Typography variant=\"h4\" >Update</Typography>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleGoBack}>Go back</Button>\r\n      </div>\r\n      {usertype==0 ?\r\n          <form className={classes.form} onSubmit={handleClientFormSubmit} >\r\n          { Object.keys(errormsg).length!=0 && <FormLabel error={true} >Invalid data {errormsg['form']}</FormLabel>}      \r\n          <FormLabel>Order Id: {data['orderId']} ------ Order No: {data['orderNo']}</FormLabel>\r\n          {/*<TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            select\r\n            required\r\n            id=\"sfmId\"\r\n            label=\"Style - Size - Color\"\r\n            name=\"sfmId\"\r\n            helperText = {errormsg['sfmId'] ? errormsg['sfmId'][0]:''}\r\n            error = {errormsg['sfmId'] ? true: false}\r\n            defaultValue = {data['sfmId']}\r\n          >\r\n          {availableProducts.map((option) => (\r\n            <MenuItem key={option.sfmId} value={option.sfmId}>\r\n              {option.sfmId}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>*/}\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            id=\"style\"\r\n            label=\"Style\"\r\n            name=\"style\"\r\n            onChange={handleStyleChange}\r\n            helperText = {errormsg['style'] ? errormsg['style'][0]:''}\r\n            error = {errormsg['style'] ? true: false}\r\n            defaultValue = {data['style']}\r\n          >\r\n          {availableStyles.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            id=\"size\"\r\n            label=\"Size\"\r\n            name=\"size\"\r\n            helperText = {errormsg['size'] ? errormsg['size'][0]:''}\r\n            error = {errormsg['size'] ? true: false}\r\n            defaultValue = {data['size']}\r\n            >\r\n            {availableSizes.map((option) => (\r\n              <MenuItem key={option} value={option}>\r\n                {option}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            id=\"color\"\r\n            label=\"Color\"\r\n            name=\"color\"\r\n            helperText = {errormsg['color'] ? errormsg['color'][0]:''}\r\n            error = {errormsg['color'] ? true: false}\r\n            defaultValue = {data['color']}\r\n          >\r\n          {availableColors.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"design\"\r\n            label=\"design\"\r\n            name=\"design\"\r\n            helperText = {errormsg['design'] ? errormsg['design'][0]:''}\r\n            error = {errormsg['design'] ? true: false}\r\n            defaultValue = {data['design']}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Submit\r\n          </Button>\r\n        </form>\r\n        :\r\n        <form className={classes.form} onSubmit={handleSubmit} >\r\n          <FormLabel>Order Id: {data['orderId']} ------ Order No: {data['orderNo']}</FormLabel>\r\n          { Object.keys(errormsg).length!=0 && <FormLabel error={true} >Invalid data {errormsg['form']}</FormLabel>}      \r\n          \r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            select\r\n            fullWidth\r\n            id=\"store\"\r\n            label=\"Store Name\"\r\n            name=\"store\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['store'] ? errormsg['store'][0]:''}\r\n            error = {errormsg['store'] ? true: false}\r\n            defaultValue = {data['store']}\r\n            >\r\n            {availableStores.map((option) => (\r\n              <MenuItem key={option.storeCode} value={option.storeCode}>\r\n                {option.storeName}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            select\r\n            id=\"orderStatus\"\r\n            label=\"Order Status\"\r\n            name=\"orderStatus\"\r\n            inputProps={{maxLength:15}}\r\n            helperText = {errormsg['orderStatus'] ? errormsg['orderStatus'][0]:''}\r\n            error = {errormsg['orderStatus'] ? true: false}\r\n            defaultValue = {data['orderStatus']}\r\n          >\r\n          {states.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"saleDate\"\r\n            label=\"Sale Date\"\r\n            name=\"saleDate\"\r\n            type=\"date\"\r\n            helperText = {errormsg['saleDate'] ? errormsg['saleDate'][0]:''}\r\n            error = {errormsg['saleDate'] ? true: false}\r\n            defaultValue = {data['saleDate']}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"orderNo\"\r\n            label=\"Order No\"\r\n            name=\"orderNo\"\r\n            inputProps={{maxLength:20}}\r\n            helperText = {errormsg['orderNo'] ? errormsg['orderNo'][0]:''}\r\n            error = {errormsg['orderNo'] ? true: false}\r\n            defaultValue = {data['orderNo']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"recipientName\"\r\n            label=\"Recipient Name\"\r\n            name=\"recipientName\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['recipientName'] ? errormsg['recipientName'][0]:''}\r\n            error = {errormsg['recipientName'] ? true: false}\r\n            defaultValue = {data['recipientName']}\r\n          />\r\n          \r\n\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            id=\"style\"\r\n            label=\"Style\"\r\n            name=\"style\"\r\n            onChange={handleStyleChange}\r\n            helperText = {errormsg['style'] ? errormsg['style'][0]:''}\r\n            error = {errormsg['style'] ? true: false}\r\n            defaultValue = {data['style']}\r\n          >\r\n          {availableStyles.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            id=\"size\"\r\n            label=\"Size\"\r\n            name=\"size\"\r\n            helperText = {errormsg['size'] ? errormsg['size'][0]:''}\r\n            error = {errormsg['size'] ? true: false}\r\n            defaultValue = {data['size']}\r\n            >\r\n            {availableSizes.map((option) => (\r\n              <MenuItem key={option} value={option}>\r\n                {option}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            select\r\n            id=\"color\"\r\n            label=\"Color\"\r\n            name=\"color\"\r\n            helperText = {errormsg['color'] ? errormsg['color'][0]:''}\r\n            error = {errormsg['color'] ? true: false}\r\n            defaultValue = {data['color']}\r\n          >\r\n          {availableColors.map((option) => (\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>\r\n          {/*<TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            select\r\n            required\r\n            id=\"sfmId\"\r\n            label=\"Style - Size - Color\"\r\n            name=\"sfmId\"\r\n            helperText = {errormsg['sfmId'] ? errormsg['sfmId'][0]:''}\r\n            error = {errormsg['sfmId'] ? true: false}\r\n            defaultValue = {data['sfmId']}\r\n          >\r\n          {availableProducts.map((option) => (\r\n            <MenuItem key={option.sfmId} value={option.sfmId}>\r\n              {option.sfmId}\r\n            </MenuItem>\r\n          ))}\r\n          </TextField>*/}\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"design\"\r\n            label=\"design\"\r\n            name=\"design\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['design'] ? errormsg['design'][0]:''}\r\n            error = {errormsg['design'] ? true: false}\r\n            defaultValue = {data['design']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            required\r\n            select\r\n            id=\"processing\"\r\n            label=\"Processing\"\r\n            name=\"processing\"\r\n            inputProps={{maxLength:1}}\r\n            helperText = {errormsg['processing'] ? errormsg['processing'][0]:''}\r\n            error = {errormsg['processing'] ? true: false}\r\n            defaultValue = {data['processing']}\r\n          >\r\n            <MenuItem key={0} value={'N'}>No</MenuItem>\r\n            <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            select\r\n            id=\"printed\"\r\n            label=\"Printed\"\r\n            name=\"printed\"\r\n            inputProps={{maxLength:1}}\r\n            helperText = {errormsg['printed'] ? errormsg['printed'][0]:''}\r\n            error = {errormsg['printed'] ? true: false}\r\n            defaultValue = {data['printed']}\r\n          >\r\n            <MenuItem key={0} value={'N'}>No</MenuItem>\r\n            <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            required\r\n            select\r\n            id=\"shipped\"\r\n            label=\"Shipped\"\r\n            name=\"shipped\"\r\n            inputProps={{maxLength:1}}\r\n            helperText = {errormsg['shipped'] ? errormsg['shipped'][0]:''}\r\n            error = {errormsg['shipped'] ? true: false}\r\n            defaultValue = {data['shipped']}\r\n          >\r\n            <MenuItem key={0} value={'N'}>No</MenuItem>\r\n            <MenuItem key={1} value={'Y'}>Yes</MenuItem>\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"sfmNotes\"\r\n            label=\"SFM Notes\"\r\n            name=\"sfmNotes\"\r\n            inputProps={{maxLength:5000}}\r\n            helperText = {errormsg['sfmNotes'] ? errormsg['sfmNotes'][0]:''}\r\n            error = {errormsg['sfmNotes'] ? true: false}\r\n            defaultValue = {data['sfmNotes']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"Buyer Name\"\r\n            label=\"buyerName\"\r\n            name=\"buyerName\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['buyerName'] ? errormsg['buyerName'][0]:''}\r\n            error = {errormsg['buyerName'] ? true: false}\r\n            defaultValue = {data['buyerName']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            type=\"email\"\r\n            id=\"buyerEmail\"\r\n            label=\"Buyer Email\"\r\n            name=\"buyerEmail\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['buyerEmail'] ? errormsg['buyerEmail'][0]:''}\r\n            error = {errormsg['buyerEmail'] ? true: false}\r\n            defaultValue = {data['buyerEmail']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"buyerComments\"\r\n            label=\"Buyer Comments\"\r\n            name=\"buyerComments\"\r\n            inputProps={{maxLength:5000}}\r\n            helperText = {errormsg['buyerComments'] ? errormsg['buyerComments'][0]:''}\r\n            error = {errormsg['buyerComments'] ? true: false}\r\n            defaultValue = {data['buyerComments']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"giftMessages\"\r\n            label=\"Gift Messages\"\r\n            name=\"giftMessages\"\r\n            inputProps={{maxLength:5000}}\r\n            helperText = {errormsg['giftMessages'] ? errormsg['giftMessages'][0]:''}\r\n            error = {errormsg['giftMessages'] ? true: false}\r\n            defaultValue = {data['giftMessages']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"sku\"\r\n            label=\"SKU\"\r\n            name=\"sku\"\r\n            inputProps={{maxLength:20}}\r\n            helperText = {errormsg['sku'] ? errormsg['sku'][0]:''}\r\n            error = {errormsg['sku'] ? true: false}\r\n            defaultValue = {data['sku']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"shipDate\"\r\n            label=\"shipDate\"\r\n            name=\"shipDate\"\r\n            type=\"datetime-local\"\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n            helperText = {errormsg['shipDate'] ? errormsg['shipDate'][0]:''}\r\n            error = {errormsg['shipDate'] ? true: false}\r\n            defaultValue = {data['shipDate']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"priorityShip\"\r\n            label=\"priorityShip\"\r\n            name=\"priorityShip\"\r\n            inputProps={{maxLength:50}}\r\n            helperText = {errormsg['priorityShip'] ? errormsg['priorityShip'][0]:''}\r\n            error = {errormsg['priorityShip'] ? true: false}\r\n            defaultValue = {data['priorityShip']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"customerPaidShipping\"\r\n            label=\"Customer Paid Shipping $\"\r\n            name=\"customerPaidShipping\"\r\n            type=\"number\"\r\n            inputProps={{step:0.01, min:0, max: 99999}}\r\n            helperText = {errormsg['customerPaidShipping'] ? errormsg['customerPaidShipping'][0]:''}\r\n            error = {errormsg['customerPaidShipping'] ? true: false}\r\n            defaultValue = {data['customerPaidShipping']}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"trackingNumber\"\r\n            label=\"Tracking Number\"\r\n            name=\"trackingNumber\"\r\n            inputProps={{maxLength:30}}\r\n            helperText = {errormsg['trackingNumber'] ? errormsg['trackingNumber'][0]:''}\r\n            error = {errormsg['trackingNumber'] ? true: false}\r\n            defaultValue = {data['trackingNumber']}\r\n          />\r\n          {/*<TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"        \r\n            fullWidth\r\n            id=\"productAvailability\"\r\n            label=\"Product Availability\"\r\n            name=\"productAvailability\"\r\n            helperText = {errormsg['productAvailability'] ? errormsg['productAvailability'][0]:''}\r\n            error = {errormsg['productAvailability'] ? true: false}\r\n          />*/}\r\n          \r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Submit\r\n          </Button>\r\n        </form>\r\n      }\r\n    </div>); \r\n}","import '../App.css';\r\nimport React, {useState, useEffect} from 'react'\r\nimport { DataGrid, GridToolbar, GridRowsProp, GridColDef } from '@material-ui/data-grid';\r\nimport API from '../api-service'\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Divider, MenuItem, Button, TextField, Dialog, DialogActions, DialogContent, DialogTitle, DialogContentText, createChainedFunction, IconButton } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport OrderForm from './OrderForm';\r\nimport OrderUpdateForm from './OrderUpdateForm';\r\n\r\nconst currencyFormatter = new Intl.NumberFormat('en-US', {\r\n  style: 'currency',\r\n  currency: 'USD',\r\n});\r\n\r\nconst columns = [\r\n  { field: 'orderId', headerName: 'Order Id', width: 150 },\r\n  { field: 'storeName', headerName: 'Store Name', width: 150 },\r\n  { field: 'orderStatus', headerName: 'Order Status', width: 150 },\r\n  { field: 'saleDate', headerName: 'Sale Date', type: 'date', editable:true, width: 150 },\r\n  { field: 'orderNo', headerName: 'Order No', width: 150 },\r\n  { field: 'orderCount', headerName: 'Order Count', width: 150 },\r\n  { field: 'recipientName', headerName: 'Recipent Name', width: 150, editable:true },\r\n  { field: 'style', headerName: 'Style', width: 150 },\r\n  { field: 'size', headerName: 'Size', width: 150 },\r\n  { field: 'color', headerName: 'Color', width: 150 },\r\n  { field: 'design', headerName: 'Design', width: 150 },\r\n  { field: 'processing', headerName: 'Processing', width: 150 },\r\n  { field: 'printed', headerName: 'Printed', width: 150 },\r\n  { field: 'shipped', headerName: 'Shipped', width: 150 },\r\n  { field: 'sfmNotes', headerName: 'SFM Notes', width: 150 },\r\n  { field: 'buyerName', headerName: 'Buyer Name', width: 150 },\r\n  { field: 'buyerEmail', headerName: 'Buyer Email', width: 150 },\r\n  { field: 'buyerComments', headerName: 'Buyer Comments', width: 150 },\r\n  { field: 'giftMessages', headerName: 'Gift Messages', width: 150 },\r\n  { field: 'sfmId', headerName: 'SFM ID', width: 150 },\r\n  { field: 'sku', headerName: 'SKU', width: 150 },\r\n  { field: 'shipDate', headerName: 'Ship Date', type: 'datetime', editable:true, width: 150 },\r\n  { field: 'priorityShip', headerName: 'Priority Ship', width: 150, editable:true  },\r\n  { field: 'customerPaidShipping', headerName: 'Customer Paid Shipping', width: 150, type: 'number',\r\n    editable:true,\r\n    valueFormatter: ({ value }) => currencyFormatter.format(Number(value))\r\n  },\r\n  { field: 'trackingNumber', headerName: 'Tracking Number', width: 150, editable:true },\r\n  { field: 'productAvailability', headerName: 'Product Availability', width: 150 }\r\n];\r\n\r\nfunction OrderList(props){\r\n  \r\n  // { id: 1, style: 'dummy1', size: 'dummy ' },\r\n  // { id: 2, style: 'dummy2', size: 'dummy ' }\r\n  const [orders, setOrders] = useState([]);\r\n  \r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [mode, setMode] = useState('none');\r\n  const [open, setOpen] = useState(false);\r\n  const [mySelectedRows, setMySelectedRows] = useState([]);\r\n  const [myEditedRows, setMyEditedRows] = useState([]);\r\n\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\tconst [isFilePicked, setIsFilePicked] = useState(false);\r\n  const [selectedShippingFile, setSelectedShippingFile] = useState(null);\r\n  const [isShippingFilePicked, setIsShippingFilePicked] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n\tconst fileChangeHandler = (event) => {\r\n    console.log(event);\r\n    if(event.target.files.length==1){\r\n      setSelectedFile(event.target.files[0]);\r\n      console.log(\"order file is: \", event.target.files[0]);\r\n      event.target.labels[0].textContent = event.target.files[0].name\r\n      setIsFilePicked(true);\r\n    }\r\n    else{\r\n      setSelectedFile(null);\r\n      setIsFilePicked(false);\r\n    }\r\n\t\t\r\n\t};\r\n\r\n  const shippingFileChangeHandler = (event) => {\r\n    if(event.target.files.length==1){\r\n      setSelectedShippingFile(event.target.files[0]);\r\n      console.log(\"ship file is: \", event.target.files[0])\r\n      setIsShippingFilePicked(true);\r\n    }\r\n    else{\r\n      setSelectedShippingFile(null);\r\n      setIsShippingFilePicked(false);\r\n    }\r\n\t};\r\n\r\n  const handleRowSelected = (s) => {\r\n    console.log(s);\r\n    let rows = [...s.api.current.getSelectedRows().values()];\r\n    console.log('selected rows ere : ', rows);\r\n    setMyEditedRows(rows);\r\n  }\r\n\r\n  const handleMassUpdate = (e) => {\r\n    console.log('updating the orders', myEditedRows);\r\n\r\n    async function updateTheOrders(){\r\n      let updateErrors = []\r\n      for(let row of myEditedRows){\r\n        try{\r\n          const updateOrdersAsync = async () => { return API.updateOrder(token['mr-token'], row.orderId, row)}\r\n          let resp = await updateOrdersAsync();\r\n          if(resp.status==200){\r\n            console.log(`updated order with id ${row.orderId}`);\r\n          }\r\n          else if(resp.status==400){\r\n            console.log(`Invalid Update for order with id ${row.orderId}`);\r\n            let result = await resp.json()\r\n            let orderId = row.orderId\r\n            updateErrors.push({orderId, result});\r\n          }\r\n          else\r\n            throw \"server error\";\r\n        }\r\n        catch(err){\r\n          console.log(`Something went wrong for order id ${row.orderId}`);\r\n          console.error(err);\r\n          updateErrors.push(`Something went wrong for order id ${row.orderId}`);\r\n        }\r\n      }\r\n\r\n      if(updateErrors.length>0)\r\n        setMessage('Some rows were not updated\\n' + JSON.stringify(updateErrors));\r\n      else\r\n        setMessage('Updated successfully');\r\n    }\r\n\r\n    updateTheOrders();\r\n      \r\n      //fetchlist();\r\n  }\r\n\r\n  // needed to update myEditedRows if cell value changed after selection\r\n  const handleEditCellChangeCommitted = React.useCallback(\r\n    ({ id, field, props }) => {\r\n        console.log('cell commit', myEditedRows, props);\r\n        const data = props; // Fix eslint value is missing in prop-types for JS files\r\n        const updatedRows = myEditedRows.map((row) => {\r\n          const obj = {};\r\n          obj[field] = data.value;\r\n          if (row.orderId === id) {\r\n            return { ...row, ...obj};\r\n          }\r\n          return row;\r\n        });\r\n        setMyEditedRows(updatedRows);\r\n        console.log('cell commit after ', updatedRows);\r\n    },\r\n    [myEditedRows],\r\n  );\r\n\r\n\tconst handleUpload = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    if(isFilePicked && selectedFile.name.search(/order/i) == -1){\r\n      setMessage('Please make sure you have selected orders file. File name should contain the word order');\r\n      return;\r\n    }\r\n\r\n    if(isShippingFilePicked && selectedShippingFile.name.search(/ship/i) == -1){\r\n      setMessage('Please make sure you have selected shipping file. File name should contain the word ship');\r\n      return;\r\n    }\r\n\r\n    let res\r\n\r\n    if(isFilePicked){\r\n      formData.append('ordersFile', selectedFile);\r\n\t\t  res = API.uploadOrdersFile(token['mr-token'], formData)\r\n    }\r\n\r\n    else if(isShippingFilePicked){\r\n      formData.append('shippingFile', selectedShippingFile);\r\n\t\t  res = API.uploadShippingFile(token['mr-token'], formData)\r\n    }\r\n\r\n    else{\r\n      setMessage('Please select a file');\r\n      return;\r\n    }\r\n\t\t\r\n\t\t\tres.then((response) => response.json())\r\n\t\t\t.then((result) => {\r\n        if(result['errors']){          \r\n          if(result['errors'].length==0){\r\n            setMessage('Successfully imported all records');\r\n            console.log('Successfully imported all records');\r\n          }\r\n          else{\r\n            setMessage('Partial Success (see error records in console (hit Ctrl+Shift+i)');\r\n            console.log('Following rows were not imported: ');\r\n            console.log(result['errors']);\r\n          }\r\n        }\r\n\t\t\t\telse setMessage('Failed import due to unknown reason');\r\n        setIsFilePicked('fasle');\r\n        fetchlist();\r\n        setMode('none');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error('Error:', error);\r\n        setMessage('Failed import due to unknown reasons');\r\n\t\t\t});\r\n\t};\r\n\r\n  const handleAddClick = (e) => {setMode('add')}\r\n  const handleUpdateClick = (e) => {setMode('update')}\r\n  const handleDeleteClick = (e) => {setOpen(true)}\r\n  const handleClose = (e) => {setOpen(false)}\r\n  const handleDeleteConfirm = (e) => {\r\n    console.log('u confirmed delete');\r\n      mySelectedRows.forEach( rowId => {\r\n        API.deleteOrder(token['mr-token'], rowId)\r\n        .then( resp => {\r\n          if(resp.status==200 || resp.status==204)\r\n            console.log(`deleted order with id ${rowId}`);\r\n          else\r\n            console.log(`Failed to delete order with id ${rowId}`);\r\n        })\r\n        .catch(e => console.error(`could not delete order id ${rowId}`, e))\r\n      });\r\n      setOpen(false);\r\n  }\r\n\r\n  const handleSelection = (items) => {\r\n    console.log(items);    \r\n    setMySelectedRows(items.selectionModel);    \r\n  }\r\n\r\n  useEffect(() => {\r\n    props.setTitle('Orders');\r\n    if(mode=='none'){\r\n      setMySelectedRows([]);\r\n      setMyEditedRows([]);\r\n      console.log('inside useeffect');\r\n      fetchlist()\r\n    }\r\n      \r\n  }, [mode, token]\r\n  );\r\n\r\n  function fetchlist(){\r\n    console.log('fetching details');\r\n    API.getOrderList(token['mr-token'])\r\n    .then(data => {\r\n      console.log(data); \r\n      data.forEach((item, i) => item.id = item.orderId);\r\n      \r\n      return setOrders(data);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  else\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      {message=='' ? '' : <div style={{color:\"red\"}}>{message}</div>}\r\n      { mode=='none' ?\r\n        <div>\r\n          {usertype==0 && <IconButton style={{ marginBottom:'10px'}} color='primary' variant='contained' disabled={mySelectedRows.length==1 && myEditedRows[0].processing=='N'? false:true} onClick={handleUpdateClick}><EditIcon /></IconButton>}\r\n          {usertype!=0 && <div style={{ width: '100%', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', flexDirection: 'row'}}>\r\n            <IconButton style={{ width: '60px'}} color='primary' variant='contained' onClick={handleAddClick}><AddCircleIcon /></IconButton>\r\n            <IconButton color='primary' variant='contained' disabled={mySelectedRows.length==1 ? false:true} onClick={handleUpdateClick}><EditIcon /></IconButton>\r\n            <div>\r\n              <IconButton variant=\"outlined\" color=\"secondary\" disabled={mySelectedRows.length>0 ? false:true} onClick={handleDeleteClick}><DeleteIcon /></IconButton>\r\n              <Dialog\r\n                open={open}\r\n                onClose={handleClose}                \r\n              >\r\n                <DialogTitle id=\"alert-dialog-title\">\"Are you sure you want to delete the {mySelectedRows.length} items\"</DialogTitle>\r\n                \r\n                <DialogActions>\r\n                  <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n                  <Button onClick={handleDeleteConfirm} color=\"primary\" autoFocus>Confirm</Button>\r\n                </DialogActions>\r\n              </Dialog>\r\n            </div>\r\n            <Button variant=\"contained\" color=\"primary\" disabled={myEditedRows.length>0 ? false:true} onClick={handleMassUpdate}>Mass Update</Button>\r\n            <form ><input type=\"file\" name=\"myfile\" id=\"myfile\" onChange={fileChangeHandler} hidden></input><label htmlFor=\"myfile\" className=\"file-input-label\">Choose File</label><Button type=\"submit\" disabled={!isFilePicked} onClick={handleUpload} color='primary' variant='contained'>Import Order Details</Button></form>\r\n            <form ><input type=\"file\" name=\"myShippingfile\" id=\"myShippingfile\" onChange={shippingFileChangeHandler} hidden></input><label htmlFor=\"myShippingfile\" className=\"file-input-label\">Choose File</label><Button type=\"submit\" disabled={!isShippingFilePicked} onClick={handleUpload} color='primary' variant='contained'>Import Shipping Details</Button></form>\r\n          </div>}\r\n          <div style={{ width: '100%', padding: \"5px\",  height: \"calc(100vh - 100px)\", minWidth:'600px'}}>        \r\n            <DataGrid rows={orders} columns={columns} checkboxSelection  components={{\r\n              Toolbar: GridToolbar,\r\n            }} disableSelectionOnClick={true} onSelectionModelChange={handleSelection} onRowSelected={handleRowSelected} onEditCellChangeCommitted={handleEditCellChangeCommitted} />\r\n          </div>\r\n        </div>\r\n        :\r\n        (mode=='add' ? \r\n          <OrderForm mode={mode} setMode={setMode}></OrderForm>\r\n          :\r\n          <OrderUpdateForm id={mySelectedRows[0]} mode={mode} setMode={setMode}></OrderUpdateForm>\r\n        )\r\n        \r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrderList;\r\n","import '../App.css';\r\nimport React, {useState, useEffect, useRef} from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    alignItems: 'center',\r\n    lineHeight: '24px',\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    '& .cellValue': {\r\n      whiteSpace: 'nowrap',\r\n      overflow: 'hidden',\r\n      textOverflow: 'ellipsis',\r\n    },\r\n  },\r\n}));\r\n\r\nfunction isOverflown(element){\r\n  if(String(element.innerHTML).length > 10)\r\n    return true;\r\n  else return false;\r\n}\r\n\r\nexport default function GridCellExpand(props) {\r\n  const { width, value } = props;\r\n  const wrapper = useRef(null);\r\n  const cellDiv = useRef(null);\r\n  const cellValue = useRef(null);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const classes = useStyles();\r\n  const [showFullCell, setShowFullCell] = useState(false);\r\n  const [showPopper, setShowPopper] = useState(false);\r\n\r\n  const handleMouseEnter = () => {\r\n    const isCurrentlyOverflown = isOverflown(cellValue.current);\r\n    setShowPopper(isCurrentlyOverflown);\r\n    setAnchorEl(cellDiv.current);\r\n    setShowFullCell(true);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setShowFullCell(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!showFullCell) {\r\n      return undefined;\r\n    }\r\n\r\n    function handleKeyDown(nativeEvent) {\r\n      // IE11, Edge (prior to using Bink?) use 'Esc'\r\n      if (nativeEvent.key === 'Escape' || nativeEvent.key === 'Esc') {\r\n        setShowFullCell(false);\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [setShowFullCell, showFullCell]);\r\n\r\n  return (\r\n    <div\r\n      ref={wrapper}\r\n      className={classes.root}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n    >\r\n      <div\r\n        ref={cellDiv}\r\n        style={{\r\n          height: 1,\r\n          width,\r\n          display: 'block',\r\n          position: 'absolute',\r\n          top: 0,\r\n        }}\r\n      />\r\n      <div ref={cellValue} className=\"cellValue\">\r\n        {value}\r\n      </div>\r\n      {showPopper && (\r\n        <Popper\r\n          open={showFullCell && anchorEl !== null}\r\n          anchorEl={anchorEl}\r\n          style={{ width, marginLeft: -17 }}\r\n        >\r\n          <Paper\r\n            elevation={1}\r\n            style={{ minHeight: wrapper.current.offsetHeight - 3 }}\r\n          >\r\n            <Typography variant=\"body2\" style={{ padding: 8 }}>\r\n              {value}\r\n            </Typography>\r\n          </Paper>\r\n        </Popper>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nGridCellExpand.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n};","import '../App.css';\r\nimport API from '../api-service'\r\nimport OrderForm from './OrderForm';\r\nimport OrderUpdateForm from './OrderUpdateForm';\r\nimport GridCellExpand from './GridCellExpand';\r\nimport React, {useState, useEffect} from 'react';\r\nimport {isOverflown, DataGrid, GridToolbar, GridRowsProp, GridColDef, useGridContainerProps } from '@material-ui/data-grid';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Divider, Button, Checkbox, Dialog, DialogActions, DialogTitle, TextField, IconButton } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 700,\r\n  },\r\n  th: {\r\n    background:\"black\",\r\n  }\r\n});\r\n\r\n//const getDetails = (params) => \r\n\r\nconst columns = [\r\n  { field: 'orderId', headerName: 'Id', width: 150, hide:true },\r\n  { field: 'storeName', headerName: 'Store Name', width: 150 },\r\n  { field: 'displayStatus', headerName: 'Status', width: 150 },\r\n  // { field: 'details', headerName: 'Recipient|Order No|#', width: 150,\r\n  //     valueGetter: getDetails,\r\n  //     sortComparator: (v1, v2, cellParams1, cellParams2) =>\r\n  //       getFullName(cellParams1).localeCompare(getFullName(cellParams2)),},\r\n  { field: 'orderNo', headerName: 'Order No', width: 150 },\r\n  { field: 'orderCount', headerName: 'Order Count', width: 150},\r\n  { field: 'recipientName', headerName: 'Recipent Name', width: 150},\r\n  { field: 'style', headerName: 'Style', width: 150 },\r\n  { field: 'size', headerName: 'Size', width: 150 },\r\n  { field: 'color', headerName: 'Color', width: 150 },\r\n  { field: 'design', headerName: 'Design', width: 150 },\r\n  { field: 'processing', headerName: 'Processing', width: 150 },\r\n  { field: 'printed', headerName: 'Printed', width: 150 },\r\n  { field: 'shipped', headerName: 'Shipped', width: 150 },\r\n  { field: 'sfmNotes', headerName: 'SFM Notes', width: 150 },\r\n  { field: 'giftMessages', headerName: 'Gift Messages', width: 150 },\r\n  { field: 'productAvailability', headerName: 'Product Availability', width: 150 }\r\n];\r\n\r\nfunction Printing(props){\r\n\r\n  const classes = useStyles();\r\n  \r\n  // { id: 1, style: 'dummy1', size: 'dummy ' },\r\n  // { id: 2, style: 'dummy2', size: 'dummy ' }\r\n  const [orders, setOrders] = useState([]);\r\n  \r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const [mode, setMode] = useState('none');\r\n  const [open, setOpen] = useState(false);\r\n  const [searched, setSearched] = useState('');\r\n  const [mySelectedRows, setMySelectedRows] = useState([]);\r\n  //const [myEditedRows, setMyEditedRows] = useState([]);\r\n  \r\n  const [message, setMessage] = useState('');\r\n  \r\n  const searchClicked = (e) => {\r\n    fetchlist();\r\n  }\r\n\r\n  const handleCheckboxClick = (e) =>{\r\n    const oid = parseInt(e.target.dataset.oid)\r\n    console.log(oid);\r\n    console.log(e.target.checked);\r\n    let checkedRows = [];\r\n    if(e.target.checked) \r\n      checkedRows = [...mySelectedRows, oid]\r\n    else{\r\n      const index = mySelectedRows.indexOf(oid);\r\n      if (index > -1)\r\n        mySelectedRows.splice(index, 1);\r\n      checkedRows = [...mySelectedRows];\r\n    }\r\n    console.log(checkedRows);\r\n    setMySelectedRows(checkedRows)\r\n  }\r\n\r\n  // const handleRowSelected = (s) => {\r\n  //   console.log(s);\r\n  //   let rows = [...s.api.current.getSelectedRows().values()];\r\n  //   console.log('selected rows ere : ', rows);\r\n  //   setMyEditedRows(rows);\r\n  // }\r\n\r\n  const handleSpecialButtonsClick = (e) =>{\r\n    console.log(e.currentTarget, e.currentTarget.dataset.oid);\r\n    const oid = parseInt(e.currentTarget.dataset.oid);\r\n    const btype = String(e.currentTarget.dataset.btype);\r\n    let rowdata = orders.find(o => o.orderId == oid);\r\n    let newRow ={};\r\n    console.log(btype);\r\n    if(btype==\"processing\"){\r\n      const processing = rowdata.processing=='Y' ? 'N' : 'Y'\r\n      console.log(processing);\r\n      newRow = {...rowdata, processing}\r\n    }\r\n    if(btype==\"printed\"){\r\n      const printed = rowdata.printed=='Y' ? 'N' : 'Y'\r\n      console.log(printed);\r\n      newRow = {...rowdata, printed}\r\n    }\r\n    if(btype==\"shipped\"){\r\n      const shipped = rowdata.shipped=='Y' ? 'N' : 'Y'\r\n      console.log(shipped);\r\n      newRow = {...rowdata, shipped}\r\n    }\r\n      \r\n    API.updateOrder(token['mr-token'], oid, newRow)\r\n      .then(resp => {\r\n        if(resp.status==200) return resp.json()\r\n        else throw 'Something went wrong';\r\n      })\r\n      .then(data => {\r\n        const updatedRows = orders.map((row) => {\r\n          if (row.orderId == data.orderId)\r\n            return data;          \r\n          return row;\r\n        });\r\n        setMessage('updated order');\r\n        console.log(updatedRows.map(x => x.orderId));\r\n        setOrders(updatedRows)\r\n      })\r\n      .catch(err => {console.log('api error');console.error(err); setMessage('Something went wrong')})\r\n  }\r\n\r\n  // needed to update myEditedRows if cell value changed after selection\r\n  // const handleEditCellChangeCommitted = React.useCallback(\r\n  //   ({ id, field, props }) => {\r\n  //       console.log('cell commit', myEditedRows, props);\r\n  //       const data = props; // Fix eslint value is missing in prop-types for JS files\r\n  //       const updatedRows = myEditedRows.map((row) => {\r\n  //         const obj = {};\r\n  //         obj[field] = data.value;\r\n  //         if (row.orderId === id) {\r\n  //           return { ...row, ...obj};\r\n  //         }\r\n  //         return row;\r\n  //       });\r\n  //       setMyEditedRows(updatedRows);\r\n  //       console.log('cell commit after ', updatedRows);\r\n  //   },\r\n  //   [myEditedRows],\r\n  // );\r\n\r\n  const handleAddClick = (e) => {setMode('add')}\r\n  const handleEditClick = (e) => {setMode('update')}\r\n  const handleDeleteClick = (e) => {setOpen(true)}\r\n  const handleClose = (e) => {setOpen(false)}\r\n\r\n  const handleDeleteConfirm = (e) => {\r\n    console.log('u confirmed delete');\r\n    let errors = [];\r\n    const deleteRows = async () => {\r\n      for(let rowId of mySelectedRows) {\r\n        try{\r\n          const resp = await API.deleteOrder(token['mr-token'], rowId);\r\n          if(resp.status==200 || resp.status==204){\r\n            console.log(`deleted order with id ${rowId}`);\r\n          }          \r\n          else{\r\n            console.log(`Failed to delete order with id ${rowId}`);\r\n            throw `Failed to delete order with id ${rowId}`;\r\n          }\r\n        }\r\n        catch(e){\r\n          console.error(`could not delete order id ${rowId}`, e);\r\n          errors.push(`could not delete order id ${rowId}`);\r\n        }\r\n      }\r\n\r\n      if(errors.length>0)\r\n        setMessage('Some rows were not deleted\\n' + errors.toString() + ' Pleae refresh');\r\n      else\r\n        setMessage('Deleted successfully. Please refresh');\r\n\r\n    }\r\n    setOpen(false);\r\n    deleteRows();\r\n\r\n  }\r\n\r\n  // const handleSelection = (items) => {\r\n  //   console.log(items);    \r\n  //   setMySelectedRows(items.selectionModel);    \r\n  // }\r\n\r\n  useEffect(() => {\r\n    props.setTitle('Printing');\r\n    if(mode=='none')\r\n      fetchlist()\r\n  }, [mode, token]\r\n  );\r\n\r\n  function fetchlist(){\r\n    API.getPrintingList(token['mr-token'])\r\n    .then(data => {\r\n      let rows = data;\r\n      console.log('fetching orders');\r\n      console.log(rows.map(r => r.orderId))\r\n      //filter\r\n      if(searched!='')\r\n        rows = rows.filter(r => {\r\n          const str = searched.toLowerCase()\r\n          return r.displayStatus.toLowerCase().search(str)>=0 ||\r\n          r.orderNo.toLowerCase().search(str)>=0 ||\r\n          r.storeName.toLowerCase().search(str)>=0 ||\r\n          r.recipientName.toLowerCase().search(str)>=0 ||\r\n          r.design.toLowerCase().search(str)>=0 ||\r\n          r.giftMessages.toLowerCase().search(str)>=0 ||\r\n          r.style.toLowerCase().search(str)>=0 ;\r\n        })\r\n      \r\n      rows.forEach((item, i) => item.id = item.orderId);\r\n\r\n      const sortBy = [ \r\n        {prop:'storeName', direction: 1}, \r\n        {prop:'recipientName', direction: 1}, \r\n        {prop:'orderNo', direction: 1},\r\n        {prop:'orderStatus', direction: 1}\r\n      ];\r\n\r\n      rows.sort(function(a,b){\r\n        let i = 0, result = 0;\r\n        while(i < sortBy.length && result === 0) {\r\n          result = sortBy[i].direction*(a[ sortBy[i].prop ].toString() < b[ sortBy[i].prop ].toString() ? -1 : (a[ sortBy[i].prop ].toString() > b[ sortBy[i].prop ].toString() ? 1 : 0));\r\n          i++;\r\n        }\r\n        return result;\r\n      })\r\n      console.log(rows.map(r => r.orderId));\r\n      setOrders(rows);\r\n    })\r\n    .catch(e => {console.log(\"api error\"); console.error(e)});\r\n  }\r\n\r\n  useEffect( () => {    \r\n    console.log(token);    \r\n  }, [token]);\r\n\r\n  let nextGroup = 0;\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  \r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n  \r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'baseline'}}>\r\n        <div>\r\n          \r\n        </div>\r\n      </div>      \r\n      {message=='' ? '' : <div style={{color:\"red\"}}>{message}</div>}\r\n      { mode=='none' ?\r\n        <div>          \r\n            <div style={{ width: '100%', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', flexDirection: 'row'}}>\r\n              \r\n            <div>\r\n              <IconButton color='primary' variant='contained' onClick={handleAddClick}><AddCircleIcon /></IconButton>\r\n              <IconButton variant=\"contained\" color=\"primary\" disabled={mySelectedRows.length==1 ? false:true} onClick={handleEditClick}><EditIcon /></IconButton>\r\n              <IconButton variant=\"contained\" color=\"secondary\" disabled={mySelectedRows.length>0 ? false:true} onClick={handleDeleteClick}><DeleteIcon /></IconButton>\r\n              <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <DialogTitle>\"Are you sure you want to delete the {mySelectedRows.length} items\"</DialogTitle>\r\n                \r\n                <DialogActions>\r\n                  <Button onClick={handleClose} color=\"primary\">Cancel</Button>\r\n                  <Button onClick={handleDeleteConfirm} color=\"primary\" autoFocus>Confirm</Button>\r\n                </DialogActions>\r\n              </Dialog>\r\n              </div>\r\n              <div>\r\n                <TextField variant=\"outlined\" size=\"small\" margin=\"none\" type=\"text\" value={searched} text='Search' onChange={(e) => setSearched(e.target.value)}></TextField>\r\n                <Button color=\"primary\" variant=\"contained\" onClick={searchClicked}>Search</Button>\r\n              </div>            \r\n            </div>\r\n          \r\n          {/*<div style={{  width: '100%', height: '450px', minWidth:'600px'}}>        \r\n            <DataGrid rows={orders} columns={columns} checkboxSelection  components={{\r\n              Toolbar: GridToolbar,\r\n            }} disableSelectionOnClick={true} onSelectionModelChange={handleSelection} onRowSelected={handleRowSelected} onEditCellChangeCommitted={handleEditCellChangeCommitted} />\r\n          </div>*/}\r\n          <TableContainer component={Paper} style={{height: 'calc(100vh - 140px)'}}>\r\n            <Table className={classes.table} size=\"small\" aria-label=\"spanning table\">\r\n              <TableHead>                \r\n                <TableRow>\r\n                  <TableCell padding=\"checkbox\">\r\n                    <Checkbox\r\n                      disabled={true}\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell>Status</TableCell>\r\n                  <TableCell align=\"right\">Shop</TableCell>\r\n                  <TableCell align=\"right\">Recipient/Order/#</TableCell>\r\n                  <TableCell align=\"right\">Style</TableCell>\r\n                  <TableCell align=\"right\">Size</TableCell>\r\n                  <TableCell align=\"right\">Color</TableCell>\r\n                  <TableCell align=\"right\">Design</TableCell>\r\n                  <TableCell align=\"right\">Message</TableCell>\r\n                  <TableCell align=\"right\">Processed</TableCell>\r\n                  <TableCell align=\"right\">Printed</TableCell>\r\n                  <TableCell align=\"right\">Shipped</TableCell>\r\n                  <TableCell align=\"right\">Product Availability</TableCell>\r\n                  <TableCell align=\"right\">Notes</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                { orders.map((row, i, arr) => {\r\n                  let showSpan = false;\r\n                  if(i==nextGroup){\r\n                    showSpan = true;\r\n                    for(let j=i+1;j<arr.length; j++){\r\n                      if(row.orderNo!=arr[j].orderNo || row.storeName!=arr[j].storeName \r\n                        || row.recipientName!=arr[j].recipientName || row.displayStatus!=arr[j].displayStatus){\r\n                          nextGroup = j;\r\n                          break;\r\n                        }                        \r\n                    }\r\n                  }\r\n                  return (\r\n                    <TableRow key={row.orderId}>\r\n                    <TableCell>\r\n                      <Checkbox\r\n                        inputProps={{ 'data-oid' : row.orderId }}\r\n                        onChange={handleCheckboxClick}\r\n                      />\r\n                    </TableCell>\r\n                    {showSpan && <TableCell rowSpan={nextGroup-i}>{row.displayStatus}</TableCell>}\r\n                    {showSpan && <TableCell rowSpan={nextGroup-i}>{row.storeName}</TableCell>}\r\n                    {showSpan && <TableCell rowSpan={nextGroup-i}><div>{row.recipientName}</div><div>{row.orderNo}</div><div>{row.orderCount}</div></TableCell>}\r\n                    <TableCell align=\"right\">{row.style}</TableCell>\r\n                    <TableCell align=\"right\">{row.size}</TableCell>\r\n                    <TableCell align=\"right\">{row.color}</TableCell>\r\n                    <TableCell align=\"right\">{row.design}</TableCell>\r\n                    <TableCell align=\"right\" style={{  maxWidth: '100px'}}>{row.giftMessages && <EmailIcon />}</TableCell>\r\n                    <TableCell align=\"right\"><Button onClick={handleSpecialButtonsClick} data-oid={row.orderId} data-btype={\"processing\"} color={row.processing=='Y' ? \"primary\" : \"secondary\"} variant=\"contained\">{row.processing}</Button></TableCell>\r\n                    <TableCell align=\"right\"><Button onClick={handleSpecialButtonsClick} data-oid={row.orderId} data-btype={\"printed\"} color={row.printed=='Y' ? \"primary\" : \"secondary\"} variant=\"contained\">{row.printed}</Button></TableCell>\r\n                    <TableCell align=\"right\"><Button onClick={handleSpecialButtonsClick} data-oid={row.orderId} data-btype={\"shipped\"} color={row.shipped=='Y' ? \"primary\" : \"secondary\"} variant=\"contained\">{row.shipped}</Button></TableCell>\r\n                    <TableCell align=\"right\">{row.productAvailability}</TableCell>\r\n                    <TableCell align=\"right\">{row.sfmNotes}</TableCell>\r\n                  </TableRow>);\r\n                  })\r\n                }                \r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </div>\r\n        :\r\n        (mode==\"add\" ?\r\n          <OrderForm mode={mode} setMode={setMode}></OrderForm>\r\n          :\r\n          <OrderUpdateForm id={mySelectedRows[0]} mode={mode} setMode={setMode}></OrderUpdateForm>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Printing;\r\n","import API from '../api-service'\r\nimport React, {useState, useEffect} from 'react';\r\nimport {Button, TextField, MenuItem, Typography, Divider, Paper } from '@material-ui/core';\r\nimport { useCookies } from 'react-cookie'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst getDeafultStartDate = () => {\r\n  const d = new Date();\r\n  d.setDate(d.getDate() - 30);\r\n  return d.toISOString().split('T')[0];\r\n  // const offset = d.getTimezoneOffset()\r\n  // const d2 = new Date(d.getTime() - (offset*60*1000))\r\n  // return d2.toISOString().split('T')[0]\r\n}\r\n\r\nfunction Dashboard(props){\r\n\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo] = useCookies(['mr-user']);\r\n  const usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n\r\n  const [errormsg, setErrormsg] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [availableStores, setAvailableStores] = useState([]);\r\n  const [inventory, setInventory] = useState([]);\r\n  const [selectedStore, setSelectedStore] = useState('');\r\n  \r\n  const [startDate, setStartDate] = useState(getDeafultStartDate());\r\n  const [endDate, setEndDate] = useState('');\r\n  const [recievedData, setRecievedData] = useState({});\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      props.setTitle('Dashboard');\r\n      try{\r\n        const resp = await API.getStoreList(token['mr-token']);\r\n        let stores = await resp.json();\r\n        if(stores.length==0){\r\n          throw 'No stores available';\r\n        }\r\n        if(usertype==0){\r\n          const userid = userInfo['mr-user'].split('-')[0];\r\n          stores = stores.filter(s => s.user==userid);\r\n        }\r\n        else\r\n          stores.unshift({storeName:'All', storeCode:'All'});\r\n        setAvailableStores(stores);\r\n        let defaultStore = stores[0].storeCode;\r\n        if(usertype==1)\r\n          defaultStore = 'All';\r\n        setSelectedStore(defaultStore);\r\n        displaysummary(defaultStore, startDate, endDate);\r\n      }catch(e){\r\n        console.log(\"api error\");\r\n        console.error(e);\r\n        setErrormsg('Something went wrong. Please refresh');\r\n      }\r\n\r\n      if(usertype==1){\r\n        try{\r\n          const invdata = await API.getInventoryList(token['mr-token']);\r\n          //console.log(invdata);\r\n          setInventory(invdata);\r\n        }      \r\n        catch(e){\r\n          console.log(\"api error\");\r\n          console.error(e);\r\n          setErrormsg('Something went wrong. Please refresh');\r\n        }\r\n      }\r\n      setLoading(false);\r\n    })();\r\n  }, []\r\n  );\r\n\r\n  const storeChanged = (e) => {\r\n    console.log(e.target.value);\r\n    setSelectedStore(e.target.value);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(selectedStore, typeof(startDate))\r\n    displaysummary(selectedStore, startDate, endDate);    \r\n  }\r\n\r\n  const displaysummary = (store, startDate, endDate) =>{\r\n    console.log(store);\r\n    if(store==''){\r\n      setErrormsg('Please choose a store');\r\n      return;\r\n    }\r\n    const params = {store, startDate, endDate}\r\n    API.getOverview(token['mr-token'], params)\r\n    .then(resp => {\r\n      if(resp.status==200)\r\n        return resp.json();\r\n      else\r\n        throw 'Something went wrong. Please make sure store is selected.';\r\n    })\r\n    .then(data => {setRecievedData(data)})\r\n    .catch(err => {\r\n      console.log(err);\r\n      setErrormsg(String(err));\r\n    });\r\n  }\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(usertype==2)\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  if(loading)\r\n    return (<div>Loading. Please wait</div>);\r\n  return (\r\n        <div>\r\n          {errormsg && <h3 style={{color:\"red\"}}>{errormsg}</h3>}\r\n          <div style={{ width: '100%', display: 'flex', justifyContent: 'space-around', alignItems: \"center\"}}>\r\n          <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          select\r\n          style={{minWidth: \"250px\"}}\r\n          label=\"Store\"\r\n          name=\"store\"\r\n          value={selectedStore}\r\n          onChange={storeChanged}\r\n          >\r\n            {availableStores.map((option) => (\r\n              <MenuItem key={option.storeCode} value={option.storeCode}>\r\n                {option.storeName}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            label=\"Start Date\"\r\n            name=\"startDate\"\r\n            type=\"date\"\r\n            value = {startDate}\r\n            onChange={(e) => setStartDate(e.target.value)}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            label=\"End Date\"\r\n            name=\"endtDate\"\r\n            type=\"date\"\r\n            value = {endDate}\r\n            onChange={(e) => setEndDate(e.target.value)}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleSubmit}\r\n          >\r\n          Submit\r\n          </Button>\r\n          </div>\r\n          <Paper style={{padding:\"10px\", margin: \"5px\", marginTop: \"15px\"}}>\r\n            <Typography variant=\"h4\">\r\n              <strong>Orders Summary</strong>\r\n            </Typography>\r\n            <Typography>\r\n            <strong>Total Orders &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.total}\r\n            </Typography>\r\n            <Typography>\r\n            <strong>Fulfilled &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.fulfilled}\r\n            </Typography>\r\n            <Typography>\r\n            <strong>Unfulfilled &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.unfulfilled}\r\n            </Typography>\r\n            <Typography>\r\n            <strong>OnHold &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.onhold}\r\n            </Typography>\r\n            <Typography>\r\n            <strong>Out Of Stock &nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.outofstock}\r\n            </Typography>\r\n          </Paper>\r\n          { usertype==1 &&\r\n          <div>\r\n            <Paper style={{padding:\"10px\", margin: \"5px\", marginTop: \"15px\"}}>\r\n            <Typography variant=\"h4\">\r\n              <strong>General</strong>\r\n            </Typography>\r\n              <Typography>\r\n                <strong>Products &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>\r\n                {inventory.length>0 && [...new Set(inventory.map(i => i.style))].length}\r\n              </Typography>\r\n              <Typography>\r\n              <strong>Store Count &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: </strong>{recievedData.storecount}\r\n              </Typography>\r\n            </Paper>\r\n            <Paper style={{padding:\"10px\", margin: \"5px\", marginTop: \"15px\"}}>\r\n              <Typography variant=\"h4\">\r\n                <strong>Inventory Needs</strong>\r\n              </Typography>\r\n              <table style={{padding: \"20px\"}}>\r\n              {inventory.length>0 && inventory.filter(inv => inv.needToPurchase>0).map( (i) => (\r\n                  <tr key={i.sfmId}>\r\n                    <td><strong>{i.style} - {i.size} - {i.color} {}</strong></td>\r\n                    <td><strong>: </strong>{i.needToPurchase}</td>\r\n                  </tr>\r\n              ))}\r\n              </table>\r\n            </Paper>\r\n          </div>\r\n          }\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;","import API from '../api-service';\r\nimport React, {useState, useEffect} from 'react';\r\nimport {Button, TextField} from '@material-ui/core';\r\nimport { useCookies } from 'react-cookie';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport default function AccountDetails(props){\r\n\r\n  const [token] = useCookies(['mr-token']);\r\n  const [userInfo, setUserInfo] = useCookies(['mr-user']);\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [old_password, setOldPassword] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n  const [first_name, setFirstName] = useState('');\r\n  const [last_name, setLastName] = useState('');\r\n  const [changePassword, setChangePassword] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [errormsg, setErrormsg] = useState({});\r\n\r\n  const userId = parseInt(userInfo['mr-user'].split('-')[0])\r\n  useEffect(() => {\r\n    (async () => {\r\n      props.setTitle('My Account');\r\n      try{\r\n        const resp = await API.getAccountDetails(token['mr-token'], userId)\r\n        const data = await resp.json();\r\n        setUsername(data['username']);\r\n        setEmail(data['email']);\r\n        setLastName(data['last_name']);\r\n        setFirstName(data['first_name']);\r\n      }\r\n      catch(e){\r\n        console.log(\"api error\");\r\n        console.error(e);\r\n      }\r\n    })();\r\n  }, [])\r\n\r\n  const handleSave = async (e) => {\r\n    try{\r\n      const resp = await API.updateProfile(token['mr-token'], userId, {email, first_name, last_name})\r\n      if(resp.status==200){\r\n        setErrormsg('');\r\n        setMessage('Updated Successfully');\r\n      }\r\n        \r\n      if(resp.status==400){\r\n        console.log('dddd');\r\n        setMessage('Invalid Data');\r\n        setErrormsg(await resp.json());\r\n      }      \r\n    }\r\n    catch(e){\r\n      setMessage('Something went wrong');\r\n      console.log(\"api error\");\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  const handleChangePassword = async (e) => {\r\n    try{\r\n      const resp = await API.changePassword(token['mr-token'], userId, {password, password2, old_password})\r\n      if(resp.status==200){\r\n        setErrormsg('');\r\n        setMessage('Password Changed Successfully');\r\n      }\r\n        \r\n      if(resp.status==400){\r\n        setMessage('Invalid Data');\r\n        setErrormsg(resp.json());\r\n      }      \r\n    }\r\n    catch(e){\r\n      setMessage('Something went wrong');\r\n      console.log(\"api error\");\r\n      console.error(e);\r\n    }\r\n  }\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n  return(\r\n    <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n      <div>\r\n        {changePassword===false ? <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={(e) => setChangePassword(true)}\r\n        >\r\n        Change Password\r\n        </Button>\r\n        :\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={(e) => setChangePassword(false)}\r\n        >\r\n        Back\r\n        </Button>\r\n      }\r\n      </div>\r\n      {message && <h3 style={{color:\"red\"}}>{message}</h3>}\r\n      {changePassword==false ?\r\n        <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          disabled\r\n          id=\"username\"\r\n          label=\"Username\"\r\n          name=\"username\"\r\n          value={username}\r\n          inputProps={{maxLength:20}}\r\n          helperText = {errormsg['username'] ? errormsg['orderNo'][0]:''}\r\n          error = {errormsg['username'] ? true: false}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          id=\"email\"\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={ (e) => setEmail(e.target.value) }\r\n          inputProps={{maxLength:50}}\r\n          helperText = {errormsg['email'] ? errormsg['email'][0]:''}\r\n          error = {errormsg['email'] ? true: false}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          id=\"first_name\"\r\n          label=\"First Name\"\r\n          name=\"first_name\"\r\n          value={first_name}\r\n          onChange={ (e) => setFirstName(e.target.value) }\r\n          inputProps={{maxLength:20}}\r\n          helperText = {errormsg['first_name'] ? errormsg['first_name'][0]:''}\r\n          error = {errormsg['first_name'] ? true: false}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          id=\"last_name\"\r\n          label=\"Last Name\"\r\n          name=\"last_name\"\r\n          value={last_name}\r\n          onChange={ (e) => setLastName(e.target.value) }\r\n          inputProps={{maxLength:20}}\r\n          helperText = {errormsg['last_name'] ? errormsg['last_name'][0]:''}\r\n          error = {errormsg['last_name'] ? true: false}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={handleSave}\r\n        >\r\n        Save Changes\r\n        </Button>\r\n        </div>\r\n        :\r\n        <div style={{ width: '100%', display: 'flex', justifyContent: 'flex-start', flexDirection: 'column'}}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            id=\"old_password\"\r\n            label=\"old_password\"\r\n            name=\"old_password\"\r\n            type=\"password\"\r\n            value={old_password}\r\n            onChange={ (e) => setOldPassword(e.target.value) }\r\n            inputProps={{maxLength:20}}\r\n            helperText = {errormsg['old_password'] ? errormsg['old_password'][0]:''}\r\n            error = {errormsg['old_password'] ? true: false}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            id=\"password\"\r\n            label=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={ (e) => setPassword(e.target.value) }\r\n            inputProps={{maxLength:20}}\r\n            helperText = {errormsg['password'] ? errormsg['password'][0]:''}\r\n            error = {errormsg['password'] ? true: false}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            id=\"password2\"\r\n            label=\"password2\"\r\n            name=\"password2\"\r\n            type=\"password\"\r\n            value={password2}\r\n            onChange={ (e) => setPassword2(e.target.value) }\r\n            inputProps={{maxLength:20}}\r\n            helperText = {errormsg['password2'] ? errormsg['password2'][0]:''}\r\n            error = {errormsg['password2'] ? true: false}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleChangePassword}\r\n          >\r\n          Confirm\r\n          </Button>\r\n        </div>\r\n      }\r\n    </div>\r\n    \r\n  );\r\n}","import {Switch, Route} from 'react-router-dom'\r\nimport React from 'react'\r\nimport ProductDetails from './productDetails';\r\nimport StoreDetails from './StoreDetails';\r\nimport PurchaseList from './PurchaseList';\r\nimport InventoryList from './InventoryList';\r\nimport OrderList from './OrderList';\r\nimport Printing from './Printing';\r\nimport Dashboard from './Dashboard';\r\nimport AccountDetails from './AccountDetails';\r\n\r\nfunction TheContent(props){\r\n  const setTitle = props.setTitle;\r\n  return (    \r\n        <Switch>\r\n        <Route exact path='/' render={ props => <div {...props}>Welcome To SFM Dropshipping</div>} />\r\n        <Route exact path='/dashboard' render={(props) => (<Dashboard {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/products' render={(props) => (<ProductDetails {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/stores' render={(props) => (<StoreDetails {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/purchases' render={(props) => (<PurchaseList {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/inventory' render={(props) => (<InventoryList {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/orders' render={(props) => (<OrderList {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/printing' render={(props) => (<Printing {...props} setTitle={setTitle} />)} />\r\n        <Route exact path='/accountdetails' render={(props) => (<AccountDetails {...props} setTitle={setTitle} />)} />\r\n          {/* <Route exact path=\"/register\" name=\"Register Page\" render={props => <Register {...props}/>} />\r\n          <Route exact path=\"/404\" name=\"Page 404\" render={props => <Page404 {...props}/>} />\r\n          <Route exact path=\"/500\" name=\"Page 500\" render={props => <Page500 {...props}/>} />\r\n  <Route path=\"/\" name=\"Home\" render={props => <TheLayout {...props}/>} /> */}\r\n        </Switch>\r\n  );\r\n}\r\n\r\nexport default TheContent;","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Box from '@material-ui/core/Box';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport Button from '@material-ui/core/Button';\r\nimport AccountCircleRoundedIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { mainListItems, staffListItems, clientListItems , secondaryListItems } from './listItems';\r\nimport companylogo from './logo.png';\r\n// import Chart from './Chart';\r\n// import Deposits from './Deposits';\r\n\r\nimport {Route, BrowserRouter, Redirect} from 'react-router-dom';\r\nimport {Link} from 'react-router-dom';\r\nimport { useCookies } from 'react-cookie';\r\nimport TheContent from './TheContent';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    backgroundColor: \"rgb(47,83,149)\",\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n    paddingBottom: \"5px\",\r\n    paddingTop: \"10px\",\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    textAlign: 'center'\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n    padding: '5px',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(0),\r\n    paddingLeft: '0px',\r\n    paddingRight: '0px',\r\n    },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function TheLayout() {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const [title, setTitle] = React.useState('Home');\r\n  const [token, setToken, removeToken] = useCookies(['mr-token']);\r\n  const [userInfo, setUserInfo, removeUserInfo] = useCookies(['mr-user']);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSignOut = (e) => {\r\n    removeToken('mr-token');\r\n    removeUserInfo('mr-user');\r\n  }\r\n\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  if(!token['mr-token'])\r\n    return (<Redirect to='/signin'></Redirect>);\r\n\r\n  let usertype=0;\r\n  if(userInfo['mr-user'])\r\n    usertype = parseInt(userInfo['mr-user'].split('-')[1]);\r\n  \r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h4\" color=\"inherit\" noWrap className={classes.title}>\r\n            {title}\r\n          </Typography>\r\n          <img src={companylogo} alt='SFM' style={{width:\"120px\"}}></img>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        {usertype==0 && <List>{clientListItems}</List>}\r\n        {usertype==1 && <List>{mainListItems}</List>}\r\n        {usertype==2 && <List>{staffListItems}</List>}\r\n        <Divider />\r\n        <ListItem button component={Link} to='/accountDetails'>\r\n          <ListItemIcon>\r\n            <AccountCircleRoundedIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"My Account\" />\r\n        </ListItem>\r\n        <ListItem button onClick={handleSignOut}>\r\n          <ListItemIcon>\r\n            <ExitToAppIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Sign Out\" />\r\n        </ListItem>\r\n        <Divider />\r\n        {usertype==1 && <List>{secondaryListItems}</List> }\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        <Container maxWidth={false} className={classes.container}>\r\n          <TheContent setTitle={setTitle}/>\r\n        </Container>\r\n      </main>\r\n    </div>\r\n  );\r\n}","export const APIROOT = 'https://sfm-dropshipping.herokuapp.com';\r\n//export const APIROOT = 'http://127.0.0.1:8000';\r\n\r\nexport default class API{\r\n  static getProductList(token){\r\n    return fetch(APIROOT + '/api/products/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static getProduct(token, id){\r\n    return fetch(APIROOT + '/api/products/' + id + '/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static addProduct(token, data){\r\n    return fetch(APIROOT + '/api/products/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static updateProduct(token, id, data){\r\n    return fetch(APIROOT + '/api/products/' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static getStoreList(token){\r\n    return fetch(APIROOT + '/api/stores/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static getPurchasesList(token){\r\n    return fetch(APIROOT + '/api/purchases/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static getPurchase(token, id){\r\n    return fetch(APIROOT + '/api/purchases/' + id + '/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static addPurchase(token, data){\r\n    return fetch(APIROOT + '/api/purchases/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static updatePurchase(token, id, data){\r\n    return fetch(APIROOT + '/api/purchases/' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static deletePurchase(token, id){\r\n    return fetch(APIROOT + '/api/purchases/' + id + '/', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n    })\r\n  }\r\n\r\n  static getInventoryList(token){\r\n    return fetch(APIROOT + '/api/inventory/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    }).then(resp => resp.json())\r\n  }\r\n\r\n  static getOrderList(token){\r\n    return fetch(APIROOT + '/api/orders/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    }).then(resp => resp.json())\r\n  }\r\n\r\n  static getPrintingList(token){\r\n    return fetch(APIROOT + '/api/printing/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    }).then(resp => resp.json())\r\n  }\r\n\r\n  static getOrder(token, id){\r\n    return fetch(APIROOT + '/api/orders/' + id + '/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static addOrder(token, data){\r\n    return fetch(APIROOT + '/api/orders/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static deleteOrder(token, id){\r\n    return fetch(APIROOT + '/api/orders/' + id + '/', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n    })\r\n  }\r\n\r\n  static updateOrder(token, id, data){\r\n    return fetch(APIROOT + '/api/orders/' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static uploadOrdersFile(token, data){\r\n    return fetch(APIROOT + '/api/orders/import_ordersfile/',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n        headers: {\r\n          // 'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Token ${token}`\r\n        },\r\n\t\t\t\tbody: data,\r\n\t\t\t}\r\n\t\t)\r\n  }\r\n\r\n  static uploadShippingFile(token, data){\r\n    return fetch(APIROOT + '/api/orders/import_shippingfile/',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n        headers: {\r\n          // 'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Token ${token}`\r\n        },\r\n\t\t\t\tbody: data,\r\n\t\t\t}\r\n\t\t)\r\n  }\r\n\r\n  static uploadPurchasesFile(token, data){\r\n    return fetch(APIROOT + '/api/purchases/import_file/',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n        headers: {\r\n          // 'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Token ${token}`\r\n        },\r\n\t\t\t\tbody: data,\r\n\t\t\t}\r\n\t\t)\r\n  }\r\n\r\n  static uploadProductsFile(token, data){\r\n    return fetch(APIROOT + '/api/products/import_file/',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n        headers: {\r\n          // 'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Token ${token}`\r\n        },\r\n\t\t\t\tbody: data,\r\n\t\t\t}\r\n\t\t)\r\n  }\r\n\r\n  static getOverview(token, data){\r\n    return fetch(APIROOT + '/api/orders/get_overview/',\r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static signinUser(credentials){\r\n    return fetch(APIROOT + '/api-token-auth/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(credentials)\r\n    })\r\n  }\r\n\r\n  static getAccountDetails(token, id){\r\n    return fetch(APIROOT + '/api/accounts/' + id + '/', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  static updateProfile(token, id, data){\r\n    return fetch(APIROOT + '/api/accounts/update_profile/' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n\r\n  static changePassword(token, id, data){\r\n    return fetch(APIROOT + '/api/accounts/change_password' + id + '/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token}`\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n  }\r\n}"],"sourceRoot":""}