(this["webpackJsonptnm-app"]=this["webpackJsonptnm-app"]||[]).push([[6],{240:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return pe}));var a,n=r(45),o=r(18),i=r(14),s=r(0),c=r.n(s),l=r(40),d=r(106),u=r(199),h=r(247),m=r(237),p=r(234),j=r(210),b=r(188),f=r(226),O=r(212),g=r(198),x=r(149),y=r.n(x),v=r(150),S=r.n(v),w=r(213),N=r(215),k=r(216),T=r(217),C=r(224),P=r(143),D=r.n(P),z=r(218),I=r(219),W=r(220),A=r(221),E=r(222),F=r(223),L=r(225),M=r(10),B=r(46),G=r(3),q=Object(G.jsxs)("div",{children:[Object(G.jsxs)(N.a,{button:!0,component:M.b,to:"/dashboard",children:[Object(G.jsx)(k.a,{children:Object(G.jsx)(D.a,{})}),Object(G.jsx)(T.a,{primary:"Dashboard"})]}),Object(G.jsxs)(N.a,(a={button:!0},Object(o.a)(a,"button",!0),Object(o.a)(a,"component",M.b),Object(o.a)(a,"to","/orders"),Object(o.a)(a,"children",[Object(G.jsx)(k.a,{children:Object(G.jsx)(z.a,{})}),Object(G.jsx)(T.a,{primary:"Orders"})]),a)),Object(G.jsxs)(N.a,{button:!0,component:M.b,to:"/stores",children:[Object(G.jsx)(k.a,{children:Object(G.jsx)(I.a,{})}),Object(G.jsx)(T.a,{primary:"Stores"})]}),Object(G.jsxs)(N.a,{button:!0,component:M.b,to:"/inventory",children:[Object(G.jsx)(k.a,{children:Object(G.jsx)(W.a,{})}),Object(G.jsx)(T.a,{primary:"Inventory"})]}),Object(G.jsxs)(N.a,{button:!0,component:M.b,to:"/purchases",children:[Object(G.jsx)(k.a,{children:Object(G.jsx)(A.a,{})}),Object(G.jsx)(T.a,{primary:"Purchases"})]}),Object(G.jsxs)(N.a,{button:!0,component:M.b,to:"/products",children:[Object(G.jsx)(k.a,{children:Object(G.jsx)(E.a,{})}),Object(G.jsx)(T.a,{primary:"Products"})]}),Object(G.jsxs)(N.a,{button:!0,children:[Object(G.jsx)(k.a,{children:Object(G.jsx)(F.a,{})}),Object(G.jsx)(T.a,{primary:"Invoice"})]})]}),V=Object(G.jsxs)("div",{children:[Object(G.jsx)(C.a,{inset:!0,children:"Advanced"}),Object(G.jsxs)(N.a,{button:!0,component:"a",href:B.a+"/admin",children:[Object(G.jsx)(k.a,{children:Object(G.jsx)(L.a,{})}),Object(G.jsx)(T.a,{primary:"Django Admin"})]})]}),U=r(1),J=(r(21),r(71)),H=r(197),Y=r(250),R=r(200),K=Object(d.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function _(e){var t=K(),r=Object(H.a)(["mr-token"]),a=Object(n.a)(r,1)[0],o=Object(s.useState)({}),i=Object(n.a)(o,2),c=i[0],l=i[1],d=Object(s.useState)(!1),u=Object(n.a)(d,3),h=u[0],m=u[1],p=(u[2],!1);console.log("opened form");var j=function(t){e.setMode("none")};return h?Object(G.jsxs)("div",{children:["Saved Succcesfully ",Object(G.jsx)(w.a,{onClick:j,children:"Go back to Products"})]}):Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsx)(b.a,{children:"update"==e.mode?"Update":"Add"}),Object(G.jsx)(w.a,{onClick:j,children:"Go back"})]}),Object(G.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault();var r=new FormData(t.target),n={};r.forEach((function(e,t){return n[t]=e})),console.log("sending data"),console.log(n),"update"==e.mode?B.b.updateProduct(a["mr-token"],e.id,n).then((function(e){return 400==e.status&&(console.log(e),m(!1),p=!0),200==e.status&&m(!0),e.json()})).then((function(e){p&&l(e)})).catch((function(e){console.log("api error"),console.error(e)})):B.b.addProduct(a["mr-token"],n).then((function(e){return console.log("saving",e.status),400==e.status&&(console.log(e),m(!1),p=!0),201==e.status&&m(!0),e.json()})).then((function(e){p&&l(e)})).catch((function(e){console.log("api error"),console.error(e)}))},children:[0!=Object.keys(c).length&&Object(G.jsxs)(R.a,{error:!0,children:["Invalid data ",c.form]}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"style",label:"Style",name:"style",disabled:"update"==e.mode,helperText:c.style?c.style[0]:"",error:!!c.style,defaultValue:"update"==e.mode?e.data.style:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"size",label:"Size",name:"size",disabled:"update"==e.mode,helperText:c.size?c.size[0]:"",error:!!c.size,defaultValue:"update"==e.mode?e.data.size:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"color",label:"Color",name:"color",disabled:"update"==e.mode,helperText:c.color?c.color[0]:"",error:!!c.color,defaultValue:"update"==e.mode?e.data.color:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"sku",label:"SKU",name:"sku",disabled:"update"==e.mode,helperText:c.sku?c.sku[0]:"",error:!!c.sku,defaultValue:"update"==e.mode?e.data.sku:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"cost",label:"Cost",name:"cost",type:"number",inputProps:{step:.01},helperText:c.cost?c.cost[0]:"",error:!!c.cost,defaultValue:"update"==e.mode?e.data.cost:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",type:"number",inputProps:{step:.01},helperText:c.price?c.price[0]:"",error:!!c.price,defaultValue:"update"==e.mode?e.data.price:""}),Object(G.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"})]})]})}var X=[{field:"sfmId",headerName:"SFM ID",width:150},{field:"style",headerName:"Style",width:150,editable:!0},{field:"size",headerName:"Size",width:150,editable:!0},{field:"color",headerName:"Color",width:150,editable:!0},{field:"sku",headerName:"SKU",width:150},{field:"cost",headerName:"Cost",width:150,editable:!0},{field:"price",headerName:"Price",width:150,editable:!0},{field:"amountInStock",headerName:"Amount In Stock",width:150,editable:!0}];var Z=function(){var e=Object(s.useState)([]),t=Object(n.a)(e,2),r=t[0],a=t[1],o=Object(H.a)(["mr-token"]),i=Object(n.a)(o,1)[0],c=Object(s.useState)("none"),l=Object(n.a)(c,2),d=l[0],u=l[1],h=Object(s.useState)([]),m=Object(n.a)(h,2),p=m[0],j=m[1],b=Object(s.useState)({}),O=Object(n.a)(b,2),g=O[0],x=O[1],y=Object(s.useState)(),v=Object(n.a)(y,2),S=v[0],N=v[1],k=Object(s.useState)(!1),T=Object(n.a)(k,2),C=T[0],P=T[1],D=Object(s.useState)(""),z=Object(n.a)(D,2),I=z[0],W=z[1];function A(){B.b.getProductList(i["mr-token"]).then((function(e){console.log(e),e.forEach((function(e,t){return e.id=e.sfmId})),j([]),a(e)})).catch((function(e){console.log("api error"),console.error(e)}))}return Object(s.useEffect)((function(){"none"==d&&A()}),[i,d]),Object(s.useEffect)((function(){console.log(i)}),[i]),i["mr-token"]?Object(G.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[Object(G.jsx)("h3",{children:"Products"}),""==I?"":Object(G.jsx)("div",{style:{color:"red"},children:I}),Object(G.jsx)(f.a,{style:{width:"100%",marginBottom:"15px"}}),"none"==d?Object(G.jsxs)("div",{children:[Object(G.jsx)(w.a,{style:{width:"60px",marginBottom:"10px"},color:"primary",variant:"contained",onClick:function(e){u("add")},children:"Add"}),Object(G.jsx)(w.a,{style:{width:"60px",marginBottom:"10px"},disabled:1!=p.length,onClick:function(e){console.log("update clicked"),1==p.length&&B.b.getProduct(i["mr-token"],p[0]).then((function(e){return e.json()})).then((function(e){console.log("filling formdata"),x(e),u("update")})).catch((function(e){console.log("api error"),console.error(e)}))},color:"primary",variant:"contained",children:"Update"}),Object(G.jsxs)("form",{children:[Object(G.jsx)(Y.a,{type:"file",name:"myfile",onChange:function(e){N(e.target.files[0]),console.log("file is: ",e.target.files[0]),P(!0)}}),Object(G.jsx)(w.a,{type:"submit",disabled:!C,onClick:function(e){e.preventDefault();var t=new FormData;t.append("productsFile",S),C&&-1==S.name.search(/product/i)?W("Please make sure you have selected products file. File name should contain the word product"):B.b.uploadProductsFile(i["mr-token"],t).then((function(e){return e.json()})).then((function(e){e.errors?0==e.errors.length?(W("Successfully imported all records"),console.log("Successfully imported all records")):(W("Partial Success (see error records in console (hit Ctrl+Shift+i)"),console.log("Following rows were not imported: "),console.log(e.errors)):W("Failed import due to unknown reason"),console.log("setting mode"),P(!1),A(),u("none")})).catch((function(e){console.error("Error:",e),W("Failed import due to unknown reasons")}))},color:"primary",variant:"contained",children:"Import Products"})]}),Object(G.jsx)("div",{style:{width:"100%",minWidth:"600px"},children:Object(G.jsx)(J.a,{rows:r,columns:X,checkboxSelection:!0,autoHeight:!0,components:{Toolbar:J.b},onSelectionModelChange:function(e){console.log(e),j(e.selectionModel)}})})]}):Object(G.jsx)(_,{id:"update"==d?p:null,data:"update"==d?g:null,mode:d,setMode:u})]}):Object(G.jsx)(U.a,{to:"/signin"})},$=[{field:"storeName",headerName:"Store Name",width:150},{field:"storeCode",headerName:"Store Code",width:150},{field:"emailAddress",headerName:"Email Address",width:150},{field:"addressLine1",headerName:"Addres Line 1",width:150},{field:"addressLine2",headerName:"Adress Line 2",width:150},{field:"city",headerName:"City",width:150},{field:"state",headerName:"State",width:150},{field:"zipCode",headerName:"Zip Code",width:150}];var Q=function(){var e=Object(s.useState)([{id:1,storeCode:"dummy1",storeName:"dummy store"},{id:2,storeCode:"dummy2",storeName:"dummy store2"}]),t=Object(n.a)(e,2),r=t[0],a=t[1],o=Object(H.a)(["mr-token"]),i=Object(n.a)(o,1)[0];return Object(s.useEffect)((function(){B.b.getStoreList(i["mr-token"]).then((function(e){return console.log(e),e.forEach((function(e,t){return e.id=t+1})),a(e)})).catch((function(e){console.log("api error"),console.error(e)}))}),[]),Object(s.useEffect)((function(){console.log(i)}),[i]),i["mr-token"]?Object(G.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[Object(G.jsx)("h3",{children:"Stores"}),Object(G.jsx)(f.a,{style:{width:"100%",marginBottom:"15px"}}),Object(G.jsx)("div",{style:{width:"100%",minWidth:"600px"},children:Object(G.jsx)(J.a,{rows:r,columns:$,autoHeight:!0,components:{Toolbar:J.b}})})]}):Object(G.jsx)(U.a,{to:"/signin"})},ee=Object(d.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function te(e){var t=ee(),r=Object(H.a)(["mr-token"]),a=Object(n.a)(r,1)[0],o=Object(s.useState)({}),i=Object(n.a)(o,2),c=i[0],l=i[1],d=Object(s.useState)(!1),u=Object(n.a)(d,3),h=u[0],m=u[1],p=(u[2],!1);console.log("opened form");var j=function(t){e.setMode("none")};return h?Object(G.jsxs)("div",{children:["Saved Succcesfully ",Object(G.jsx)(w.a,{onClick:j,children:"Go back to Purchases"})]}):Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsx)(b.a,{children:"update"==e.mode?"Update":"Add"}),Object(G.jsx)(w.a,{onClick:j,children:"Go back"})]}),Object(G.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault();var r=new FormData(t.target),n={};r.forEach((function(e,t){return n[t]=e})),console.log("sending data"),console.log(n),"update"==e.mode?B.b.updatePurchase(a["mr-token"],e.id,n).then((function(e){return 400==e.status&&(console.log(e),m(!1),p=!0),200==e.status&&m(!0),e.json()})).then((function(e){p&&l(e)})).catch((function(e){console.log("api error"),console.error(e)})):B.b.addPurchase(a["mr-token"],n).then((function(e){return console.log("saving",e.status),400==e.status&&(console.log(e),m(!1),p=!0),201==e.status&&m(!0),e.json()})).then((function(e){p&&l(e)})).catch((function(e){console.log("api error"),console.error(e)}))},children:[0!=Object.keys(c).length&&Object(G.jsx)(R.a,{error:!0,children:"Invalid data"}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"status",label:"Status",name:"status",helperText:c.status?c.status[0]:"",error:!!c.status,defaultValue:"update"==e.mode?e.data.status:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"style",label:"Style",name:"style",disabled:"update"==e.mode,helperText:c.style?c.style[0]:"",error:!!c.style,defaultValue:"update"==e.mode?e.data.style:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"size",label:"Size",name:"size",disabled:"update"==e.mode,helperText:c.size?c.size[0]:"",error:!!c.size,defaultValue:"update"==e.mode?e.data.size:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"color",label:"Color",name:"color",disabled:"update"==e.mode,helperText:c.color?c.color[0]:"",error:!!c.color,defaultValue:"update"==e.mode?e.data.color:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"company",label:"Company",name:"company",helperText:c.company?c.company[0]:"",error:!!c.company,defaultValue:"update"==e.mode?e.data.company:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"warehouse",label:"Warehouse",name:"warehouse",helperText:c.warehouse?c.warehouse[0]:"",error:!!c.warehouse,defaultValue:"update"==e.mode?e.data.warehouse:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"ordered",label:"Ordered",name:"ordered",type:"number",helperText:c.ordered?c.ordered[0]:"",error:!!c.ordered,defaultValue:"update"==e.mode?e.data.ordered:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"orderDate",label:"order Date",name:"orderDate",type:"date",helperText:c.orderDate?c.orderDate[0]:"",error:!!c.orderDate,InputLabelProps:{shrink:!0},defaultValue:"update"==e.mode?e.data.orderDate:""}),Object(G.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"})]})]})}var re=[{field:"status",headerName:"Status",width:150},{field:"style",headerName:"Style",width:150},{field:"size",headerName:"Size",width:150},{field:"color",headerName:"Color",width:150},{field:"company",headerName:"Company"},{field:"warehouse",headerName:"Warehouse",width:150},{field:"ordered",headerName:"Ordered",width:150},{field:"orderDate",headerName:"Order Date",width:150},{field:"arrivalDate",headerName:"Arrival Date",width:150},{field:"sfmId",headerName:"SFM ID",width:150}];var ae=function(){var e=Object(s.useState)([{id:1,sfmId:"dummy1",style:"dummy style"},{id:2,sfmId:"dummy2",style:"dummy style"}]),t=Object(n.a)(e,2),r=t[0],a=t[1],o=Object(H.a)(["mr-token"]),i=Object(n.a)(o,1)[0],c=Object(s.useState)("none"),l=Object(n.a)(c,2),d=l[0],u=l[1],h=Object(s.useState)([]),m=Object(n.a)(h,2),p=m[0],j=m[1],b=Object(s.useState)({}),O=Object(n.a)(b,2),g=O[0],x=O[1],y=Object(s.useState)(),v=Object(n.a)(y,2),S=v[0],N=v[1],k=Object(s.useState)(!1),T=Object(n.a)(k,2),C=T[0],P=T[1],D=Object(s.useState)(""),z=Object(n.a)(D,2),I=z[0],W=z[1];function A(){console.log("fetching data"),B.b.getPurchasesList(i["mr-token"]).then((function(e){console.log(e),j([]),a(e)})).catch((function(e){console.log("api error"),console.error(e)}))}return Object(s.useEffect)((function(){console.log("useeffect called"),"none"==d&&A()}),[i,d]),Object(s.useEffect)((function(){console.log(i)}),[d]),i["mr-token"]?Object(G.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[Object(G.jsx)("h3",{children:"Purchases"}),""==I?"":Object(G.jsx)("div",{children:I}),Object(G.jsx)(f.a,{style:{width:"100%",marginBottom:"10px"}}),"none"==d?Object(G.jsxs)("div",{children:[Object(G.jsx)(w.a,{style:{width:"60px",marginBottom:"10px"},color:"primary",variant:"contained",onClick:function(e){u("add")},children:"Add"}),Object(G.jsx)(w.a,{style:{width:"60px",marginBottom:"10px"},disabled:1!=p.length,onClick:function(e){console.log("update clicked"),1==p.length&&B.b.getPurchase(i["mr-token"],p[0]).then((function(e){return e.json()})).then((function(e){console.log("filling formdata"),x(e),u("update")})).catch((function(e){console.log("api error"),console.error(e)}))},color:"primary",variant:"contained",children:"Update"}),Object(G.jsxs)("form",{children:[Object(G.jsx)(Y.a,{type:"file",name:"myfile",onChange:function(e){N(e.target.files[0]),console.log("file is: ",e.target.files[0]),P(!0)}}),Object(G.jsx)(w.a,{type:"submit",disabled:!C,onClick:function(e){e.preventDefault();var t=new FormData;t.append("purchaseFile",S),C&&-1==S.name.search(/purchase/i)?W("Please make sure you have selected purchase file. File name should contain the word purchase"):B.b.uploadPurchasesFile(i["mr-token"],t).then((function(e){return e.json()})).then((function(e){e.errors?0==e.errors.length?(W("Successfully imported all records"),console.log("Successfully imported all records")):(W("Partial Success (see error records in console (hit Ctrl+Shift+i)"),console.log("Following rows were not imported: "),console.log(e.errors)):W("Failed import due to unknown reason"),console.log("setting mode"),A(),u("none"),P(!1)})).catch((function(e){console.error("Error:",e),W("Failed import due to unknown reasons")}))},color:"primary",variant:"contained",children:"Import"})]}),Object(G.jsx)("div",{style:{width:"100%",minWidth:"600px",flexGrow:1},children:Object(G.jsx)(J.a,{rows:r,columns:re,checkboxSelection:!0,autoHeight:!0,components:{Toolbar:J.b},onSelectionModelChange:function(e){console.log(e),j(e.selectionModel)}})})]}):Object(G.jsx)(te,{id:"update"==d?p:null,data:"update"==d?g:null,mode:d,setMode:u})]}):Object(G.jsx)(U.a,{to:"/signin"})},ne=[{field:"style",headerName:"Style",width:150},{field:"size",headerName:"Size",width:150},{field:"color",headerName:"Color",width:150},{field:"productAvailability",headerName:"Product Availabity",width:150},{field:"inStock",headerName:"In Stock",width:150},{field:"unfulfilledCount",headerName:"Unfulfilled Count",width:150},{field:"inTransit",headerName:"In Transit",width:150},{field:"arrivalDate",headerName:"ArrivaL Date",width:150},{field:"trueCount",headerName:"True Count",width:150},{field:"minimum",headerName:"Minimum",width:150},{field:"maximum",headerName:"Maximum",width:150},{field:"shortCount",headerName:"Short Count",width:150},{field:"needToPurchase",headerName:"Need to Purchase",width:150}];var oe=function(){var e=Object(s.useState)([{id:1,style:"dummy1",size:"dummy "},{id:2,style:"dummy2",size:"dummy "}]),t=Object(n.a)(e,2),r=t[0],a=t[1],o=Object(H.a)(["mr-token"]),i=Object(n.a)(o,1)[0];return Object(s.useEffect)((function(){B.b.getInventoryList(i["mr-token"]).then((function(e){return console.log(e),e.forEach((function(e,t){return e.id=e.sfmId})),a(e)})).catch((function(e){console.log("api error"),console.error(e)}))}),[]),Object(s.useEffect)((function(){console.log(i)}),[i]),i["mr-token"]?Object(G.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[Object(G.jsx)("h3",{children:"Inventory"}),Object(G.jsx)(f.a,{style:{width:"100%",marginBottom:"15px"}}),Object(G.jsx)("div",{style:{width:"100%",minWidth:"600px"},children:Object(G.jsx)(J.a,{rows:r,columns:ne,autoHeight:!0,components:{Toolbar:J.b}})})]}):Object(G.jsx)(U.a,{to:"/signin"})},ie=r(230),se=Object(d.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ce(e){var t=se(),r=Object(H.a)(["mr-token"]),a=Object(n.a)(r,1)[0],o=Object(s.useState)({}),i=Object(n.a)(o,2),c=i[0],l=i[1],d=Object(s.useState)(!1),u=Object(n.a)(d,3),h=u[0],m=u[1],p=(u[2],Object(s.useState)([])),j=Object(n.a)(p,2),f=j[0],O=j[1],g=Object(s.useState)([]),x=Object(n.a)(g,2),y=x[0],v=x[1],S=!1;console.log("opened form"),Object(s.useEffect)((function(){B.b.getProductList(a["mr-token"]).then((function(e){return console.log(e),O(e)})).catch((function(e){console.log("api error"),console.error(e)})),B.b.getStoreList(a["mr-token"]).then((function(e){return console.log(e),v(e)})).catch((function(e){console.log("api error"),console.error(e)}))}),[]);var N=function(t){e.setMode("none")};return h?Object(G.jsxs)("div",{children:["Saved Succcesfully ",Object(G.jsx)(w.a,{onClick:N,children:"Go back to Orders"})]}):Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsx)(b.a,{children:"update"==e.mode?"Update":"Add"}),Object(G.jsx)(w.a,{onClick:N,children:"Go back"})]}),Object(G.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault();var r=new FormData(t.target),n={};r.forEach((function(e,t){return n[t]=e})),n.style=n.sfmId.split("-")[0],n.size=n.sfmId.split("-")[1],n.color=n.sfmId.split("-")[2],""==n.saleDate&&(n.saleDate=null),""==n.shipDate&&(n.shipDate=null),console.log("sending data"),console.log(n),"update"==e.mode?B.b.updateOrder(a["mr-token"],e.id,n).then((function(e){return 400==e.status&&(console.log(e),m(!1),S=!0),200==e.status&&m(!0),e.json()})).then((function(e){S&&l(e)})).catch((function(e){console.log("api error"),console.error(e)})):B.b.addOrder(a["mr-token"],n).then((function(e){return console.log("saving",e.status),400==e.status&&(console.log(e),m(!1),S=!0),201==e.status&&m(!0),e.json()})).then((function(e){S&&l(e)})).catch((function(e){console.log("api error"),console.error(e)}))},children:[0!=Object.keys(c).length&&Object(G.jsxs)(R.a,{error:!0,children:["Invalid data ",c.form]}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,select:!0,fullWidth:!0,id:"store",label:"Store Name",name:"store",helperText:c.store?c.store[0]:"",error:!!c.store,children:y.map((function(e){return Object(G.jsx)(ie.a,{value:e.storeCode,children:e.storeName},e.storeCode)}))}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"orderStatus",label:"Order Status",name:"orderStatus",helperText:c.orderStatus?c.orderStatus[0]:"",error:!!c.orderStatus}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"saleDate",label:"Sale Date",name:"saleDate",type:"date",helperText:c.saleDate?c.saleDate[0]:"",error:!!c.saleDate,InputLabelProps:{shrink:!0}}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"orderNo",label:"Order No",name:"orderNo",inputProps:{maxLength:20},helperText:c.orderNo?c.orderNo[0]:"",error:!!c.orderNo}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"recipientName",label:"Recipient Name",name:"recipientName",inputProps:{maxLength:50},helperText:c.recipientName?c.recipientName[0]:"",error:!!c.recipientName,defaultValue:"update"==e.mode?e.data.recipientName:""}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,select:!0,required:!0,id:"sfmId",label:"Style - Size - Color",name:"sfmId",helperText:c.sfmId?c.sfmId[0]:"",error:!!c.sfmId,children:f.map((function(e){return Object(G.jsx)(ie.a,{value:e.sfmId,children:e.sfmId},e.sfmId)}))}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"design",label:"design",name:"design",helperText:c.design?c.design[0]:"",error:!!c.design}),Object(G.jsxs)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,select:!0,id:"processing",label:"Processing",name:"processing",inputProps:{maxLength:1},helperText:c.processing?c.processing[0]:"",error:!!c.processing,defaultValue:"N",children:[Object(G.jsx)(ie.a,{value:"N",children:"No"},0),Object(G.jsx)(ie.a,{value:"Y",children:"Yes"},1)]}),Object(G.jsxs)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,select:!0,id:"printed",label:"Printed",name:"printed",inputProps:{maxLength:1},helperText:c.printed?c.printed[0]:"",error:!!c.printed,defaultValue:"N",children:[Object(G.jsx)(ie.a,{value:"N",children:"No"},0),Object(G.jsx)(ie.a,{value:"Y",children:"Yes"},1)]}),Object(G.jsxs)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,select:!0,id:"shipped",label:"Shipped",name:"shipped",inputProps:{maxLength:1},helperText:c.shipped?c.shipped[0]:"",error:!!c.shipped,defaultValue:"N",children:[Object(G.jsx)(ie.a,{value:"N",children:"No"},0),Object(G.jsx)(ie.a,{value:"Y",children:"Yes"},1)]}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"sfmNotes",label:"SFM Notes",name:"sfmNotes",helperText:c.sfmNotes?c.sfmNotes[0]:"",error:!!c.sfmNotes}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"Buyer Name",label:"buyerName",name:"buyerName",helperText:c.buyerName?c.buyerName[0]:"",error:!!c.buyerName}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,type:"email",id:"buyerEmail",label:"Buyer Email",name:"buyerEmail",helperText:c.buyerEmail?c.buyerEmail[0]:"",error:!!c.buyerEmail}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"buyerComments",label:"Buyer Comments",name:"buyerComments",helperText:c.buyerComments?c.buyerComments[0]:"",error:!!c.buyerComments}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"giftMessages",label:"Gift Messages",name:"giftMessages",helperText:c.giftMessages?c.giftMessages[0]:"",error:!!c.giftMessages}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"sku",label:"SKU",name:"sku",inputProps:{maxLength:20},helperText:c.sku?c.sku[0]:"",error:!!c.sku}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"shipDate",label:"shipDate",name:"shipDate",type:"datetime-local",InputLabelProps:{shrink:!0},helperText:c.shipDate?c.shipDate[0]:"",error:!!c.shipDate}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"priorityShip",label:"priorityShip",name:"priorityShip",helperText:c.priorityShip?c.priorityShip[0]:"",error:!!c.priorityShip}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"customerPaidShipping",label:"Customer Paid Shipping $",name:"customerPaidShipping",type:"number",inputProps:{step:.01},helperText:c.customerPaidShipping?c.customerPaidShipping[0]:"",error:!!c.customerPaidShipping}),Object(G.jsx)(Y.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"trackingNumber",label:"Tracking Number",name:"trackingNumber",helperText:c.trackingNumber?c.trackingNumber[0]:"",error:!!c.trackingNumber}),Object(G.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Submit"})]})]})}var le=[{field:"storeName",headerName:"Store Name",width:150},{field:"orderStatus",headerName:"Order Status",width:150},{field:"saleDate",headerName:"Sale Date",width:150},{field:"orderNo",headerName:"Order No",width:150},{field:"orderCount",headerName:"Order Count",width:150},{field:"recipientName",headerName:"Recipent Name",width:150},{field:"style",headerName:"Style",width:150},{field:"size",headerName:"Size",width:150},{field:"color",headerName:"Color",width:150},{field:"design",headerName:"Design",width:150},{field:"processing",headerName:"Processing",width:150},{field:"printed",headerName:"Printed",width:150},{field:"shipped",headerName:"Shipped",width:150},{field:"sfmNotes",headerName:"SFM Notes",width:150},{field:"buyerName",headerName:"Buyer Name",width:150},{field:"buyerEmail",headerName:"Buyer Email",width:150},{field:"buyerComments",headerName:"Buyer Comments",width:150},{field:"giftMessages",headerName:"Gift Messages",width:150},{field:"sfmId",headerName:"SFM ID",width:150},{field:"sku",headerName:"SKU",width:150},{field:"shipDate",headerName:"Ship Date",width:150},{field:"priorityShip",headerName:"Priority Ship",width:150},{field:"customerPaidShipping",headerName:"Customer Paid Shipping",width:150},{field:"trackingNumber",headerName:"Tracking Number",width:150},{field:"productAvailability",headerName:"Product Availability",width:150}];var de=function(){var e=Object(s.useState)([]),t=Object(n.a)(e,2),r=t[0],a=t[1],o=Object(H.a)(["mr-token"]),i=Object(n.a)(o,1)[0],c=Object(s.useState)("none"),l=Object(n.a)(c,2),d=l[0],u=l[1],h=Object(s.useState)([]),m=Object(n.a)(h,2),p=(m[0],m[1]),j=Object(s.useState)(),b=Object(n.a)(j,2),O=b[0],g=b[1],x=Object(s.useState)(!1),y=Object(n.a)(x,2),v=y[0],S=y[1],N=Object(s.useState)(),k=Object(n.a)(N,2),T=k[0],C=k[1],P=Object(s.useState)(!1),D=Object(n.a)(P,2),z=D[0],I=D[1],W=Object(s.useState)(""),A=Object(n.a)(W,2),E=A[0],F=A[1],L=function(e){e.preventDefault();var t=new FormData;if(v&&-1==O.name.search(/order/i))F("Please make sure you have selected orders file. File name should contain the word order");else if(z&&-1==T.name.search(/ship/i))F("Please make sure you have selected shipping file. File name should contain the word ship");else{var r;if(v)t.append("ordersFile",O),r=B.b.uploadOrdersFile(i["mr-token"],t);else{if(!z)return void F("Please select a file");t.append("shippingFile",T),r=B.b.uploadShippingFile(i["mr-token"],t)}r.then((function(e){return e.json()})).then((function(e){e.errors?0==e.errors.length?(F("Successfully imported all records"),console.log("Successfully imported all records")):(F("Partial Success (see error records in console (hit Ctrl+Shift+i)"),console.log("Following rows were not imported: "),console.log(e.errors)):F("Failed import due to unknown reason"),S("fasle"),M(),u("none")})).catch((function(e){console.error("Error:",e),F("Failed import due to unknown reasons")}))}};function M(){B.b.getOrderList(i["mr-token"]).then((function(e){return console.log(e),e.forEach((function(e,t){return e.id=e.orderId})),a(e)})).catch((function(e){console.log("api error"),console.error(e)}))}return Object(s.useEffect)((function(){"none"==d&&M()}),[d,i]),Object(s.useEffect)((function(){console.log(i)}),[i]),i["mr-token"]?Object(G.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[Object(G.jsx)("h3",{children:"Orders"}),""==E?"":Object(G.jsx)("div",{style:{color:"red"},children:E}),Object(G.jsx)(f.a,{style:{width:"100%",marginBottom:"15px"}}),"none"==d?Object(G.jsxs)("div",{children:[Object(G.jsx)(w.a,{style:{width:"60px",marginBottom:"10px"},color:"primary",variant:"contained",onClick:function(e){u("add")},children:"Add"}),Object(G.jsxs)("form",{children:[Object(G.jsx)(Y.a,{type:"file",name:"myfile",onChange:function(e){g(e.target.files[0]),console.log("file is: ",e.target.files[0]),S(!0)}}),Object(G.jsx)(w.a,{type:"submit",disabled:!v,onClick:L,color:"primary",variant:"contained",children:"Import Order Details"})]}),Object(G.jsxs)("form",{children:[Object(G.jsx)(Y.a,{type:"file",name:"myShippingfile",onChange:function(e){C(e.target.files[0]),console.log("file is: ",e.target.files[0]),I(!0)}}),Object(G.jsx)(w.a,{type:"submit",disabled:!z,onClick:L,color:"primary",variant:"contained",children:"Import Shipping Details"})]}),Object(G.jsx)("div",{style:{width:"100%",height:"450px",minWidth:"600px"},children:Object(G.jsx)(J.a,{rows:r,columns:le,checkboxSelection:!0,components:{Toolbar:J.b},onSelectionModelChange:function(e){console.log(e),p(e.selectionModel)}})})]}):Object(G.jsx)(ce,{mode:d,setMode:u})]}):Object(G.jsx)(U.a,{to:"/signin"})};var ue=function(){return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:"This is my empty Dashboard"}),Object(G.jsx)("p",{children:"This is my empty Dashboard"}),Object(G.jsx)("p",{children:"This is my empty Dashboard"}),Object(G.jsx)("p",{children:"This is my empty Dashboard"})]})};var he=function(){return Object(G.jsxs)(U.d,{children:[Object(G.jsx)(U.b,{exact:!0,path:"/",component:ue}),Object(G.jsx)(U.b,{exact:!0,path:"/dashboard",component:ue}),Object(G.jsx)(U.b,{exact:!0,path:"/products",component:Z}),Object(G.jsx)(U.b,{exact:!0,path:"/stores",component:Q}),Object(G.jsx)(U.b,{exact:!0,path:"/purchases",component:ae}),Object(G.jsx)(U.b,{exact:!0,path:"/inventory",component:oe}),Object(G.jsx)(U.b,{exact:!0,path:"/orders",component:de})]})};var me=Object(d.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(i.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,textAlign:"center"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(o.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto",padding:"5px"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),paddingLeft:"0px",paddingRight:"0px"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function pe(){var e=me(),t=c.a.useState(!0),r=Object(n.a)(t,2),a=r[0],o=r[1];Object(l.a)(e.paper,e.fixedHeight);return Object(G.jsxs)("div",{className:e.root,children:[Object(G.jsx)(u.a,{}),Object(G.jsx)(m.a,{position:"absolute",className:Object(l.a)(e.appBar,a&&e.appBarShift),children:Object(G.jsxs)(p.a,{className:e.toolbar,children:[Object(G.jsx)(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},className:Object(l.a)(e.menuButton,a&&e.menuButtonHidden),children:Object(G.jsx)(y.a,{})}),Object(G.jsx)(b.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"SFM Dropshipping"}),Object(G.jsx)(w.a,{color:"secondary",variant:"contained",component:M.b,to:"/signin",children:"Sign In"})]})}),Object(G.jsxs)(h.a,{variant:"permanent",classes:{paper:Object(l.a)(e.drawerPaper,!a&&e.drawerPaperClose)},open:a,children:[Object(G.jsx)("div",{className:e.toolbarIcon,children:Object(G.jsx)(O.a,{onClick:function(){o(!1)},children:Object(G.jsx)(S.a,{})})}),Object(G.jsx)(f.a,{}),Object(G.jsx)(j.a,{children:q}),Object(G.jsx)(f.a,{}),Object(G.jsx)(j.a,{children:V})]}),Object(G.jsxs)("main",{className:e.content,children:[Object(G.jsx)("div",{className:e.appBarSpacer}),Object(G.jsx)(g.a,{maxWidth:!1,className:e.container,children:Object(G.jsx)(he,{})})]})]})}},46:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var a=r(64),n=r(57),o="https://sfm-dropshipping.herokuapp.com",i=function(){function e(){Object(a.a)(this,e)}return Object(n.a)(e,null,[{key:"getProductList",value:function(e){return fetch(o+"/api/products/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}}).then((function(e){return e.json()}))}},{key:"getProduct",value:function(e,t){return fetch(o+"/api/products/"+t+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"addProduct",value:function(e,t){return fetch(o+"/api/products/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(t)})}},{key:"updateProduct",value:function(e,t,r){return fetch(o+"/api/products/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(r)})}},{key:"getStoreList",value:function(e){return fetch(o+"/api/stores/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}}).then((function(e){return e.json()}))}},{key:"getPurchasesList",value:function(e){return fetch(o+"/api/purchases/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}}).then((function(e){return e.json()}))}},{key:"getPurchase",value:function(e,t){return fetch(o+"/api/purchases/"+t+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"addPurchase",value:function(e,t){return fetch(o+"/api/purchases/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(t)})}},{key:"updatePurchase",value:function(e,t,r){return fetch(o+"/api/purchases/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(r)})}},{key:"getInventoryList",value:function(e){return fetch(o+"/api/inventory/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}}).then((function(e){return e.json()}))}},{key:"getOrderList",value:function(e){return fetch(o+"/api/orders/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}}).then((function(e){return e.json()}))}},{key:"getOrder",value:function(e,t){return fetch(o+"/api/orders/"+t+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)}})}},{key:"addOrder",value:function(e,t){return fetch(o+"/api/orders/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(t)})}},{key:"updateOrder",value:function(e,t,r){return fetch(o+"/api/orders/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e)},body:JSON.stringify(r)})}},{key:"uploadOrdersFile",value:function(e,t){return fetch(o+"/api/orders/import_ordersfile/",{method:"POST",headers:{Authorization:"Token ".concat(e)},body:t})}},{key:"uploadShippingFile",value:function(e,t){return fetch(o+"/api/orders/import_shippingfile/",{method:"POST",headers:{Authorization:"Token ".concat(e)},body:t})}},{key:"uploadPurchasesFile",value:function(e,t){return fetch(o+"/api/purchases/import_file/",{method:"POST",headers:{Authorization:"Token ".concat(e)},body:t})}},{key:"uploadProductsFile",value:function(e,t){return fetch(o+"/api/products/import_file/",{method:"POST",headers:{Authorization:"Token ".concat(e)},body:t})}},{key:"signinUser",value:function(e){return fetch(o+"/auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}}]),e}()}}]);
//# sourceMappingURL=6.f943f757.chunk.js.map